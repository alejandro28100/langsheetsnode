(this.webpackJsonplangsheets=this.webpackJsonplangsheets||[]).push([[0],{392:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(37),s=r.n(c),i=r(411),o=Object(i.a)({colors:{brand:{50:"#eaeaff",100:"#c2c2f3",200:"#9b9ae6",300:"#7371da",400:"#4c48cf",500:"#332fb6",600:"#27258e",700:"#1b1a66",800:"#0f1040",900:"#06041a"}}}),l=r(440),d=r(7),j=r(89),b=r(100),u=r.n(b),h=r(25),p=r(2),x=function(e){var t=e.component,r=e.redirectTo,a=(e.isLoading,e.loggedIn,Object(j.a)(e,["component","redirectTo","isLoading","loggedIn"])),n=Object(h.h)(),c=u.a.get("token");return Object(p.jsx)(h.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return c?Object(p.jsx)(t,Object(d.a)({},e)):Object(p.jsx)(h.a,{to:r,state:{from:n.pathname}})}}))},O=r(84),f=r(17),m=r(13),g=r.n(m),v=r(34),y=r(3),w=r(438),k=r(445),C=r(447),S=r(424),E=r(414),z=r(425),A=r(441),I=r(412),P=r(226),L=r(394),F=r(415),R=r(222),W=r(444),N=r(417),q=r(418),T=r(67),D=r(20),M=r(102),V=r(128),B=r(221),Z={es:"Espa\xf1ol",en:"Ingl\xe9s",fr:"Franc\xe9s",ru:"Ruso",de:"Alem\xe1n",ja:"Japon\xe9s",zh:"Chino"};function H(e){var t=e.lang,r=e.title,n=e._id,c=(e.createdAt,e.deleteSheet),s=e.isPublic,i=Object(a.useState)(!1),o=Object(y.a)(i,2),l=o[0],d=o[1],j=function(){return d(!1)},b=Object(a.useRef)();return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsxs)(I.a,{boxShadow:"base",background:"white",height:"40",borderRadius:"xl",width:"full",children:[Object(p.jsxs)(I.a,{padding:"5",flexDirection:"column",children:[Object(p.jsx)(E.a,{title:""===r?"Sin t\xedtulo":r,noOfLines:2,fontFamily:"sans-serif",fontSize:"large",fontWeight:"semibold",children:""===r?"Sin t\xedtulo":r}),Object(p.jsx)(F.a,{}),Z[t]&&Object(p.jsxs)(E.a,{children:[Object(p.jsx)(L.a,{mr:"2",as:B.a}),Z[t]]}),Object(p.jsxs)(E.a,{noOfLines:1,title:"Actividad ".concat(s?"P\xfablica":"Privada"),children:[Object(p.jsx)(L.a,{mr:"2",as:s?M.c:V.b}),"Actividad ",s?"P\xfablica":"Privada"]})]}),Object(p.jsx)(F.a,{}),Object(p.jsx)(I.a,{pr:"5",py:"5",children:Object(p.jsxs)(R.a,{as:I.a,flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",spacing:"0",size:"lg",colorScheme:"brand",variant:"ghost",children:[Object(p.jsx)(W.a,{hasArrow:!0,label:"Comenzar Actividad",children:Object(p.jsx)(N.a,{as:"a",href:"/worksheets/".concat(n,"/practice"),icon:Object(p.jsx)(L.a,{as:D.g})})}),Object(p.jsx)(W.a,{hasArrow:!0,label:"Editar Actividad",children:Object(p.jsx)(N.a,{as:"a",href:"/worksheets/".concat(n,"/edit"),icon:Object(p.jsx)(L.a,{as:V.a})})}),Object(p.jsx)(W.a,{hasArrow:!0,label:"Eliminar Actividad",children:Object(p.jsx)(N.a,{onClick:function(e){return d(!0)},icon:Object(p.jsx)(L.a,{as:M.a})})})]})})]}),Object(p.jsx)(q.a,{isOpen:l,leastDestructiveRef:b,onClose:j,children:Object(p.jsx)(T.f,{children:Object(p.jsxs)(q.b,{children:[Object(p.jsx)(T.e,{fontSize:"lg",fontWeight:"bold",children:"Eliminar Actividad"}),Object(p.jsx)(T.b,{children:"\xbfEst\xe1s seguro de querer borrar esta actividad? Esta acci\xf3n es irreversible."}),Object(p.jsxs)(T.d,{children:[Object(p.jsx)(P.a,{ref:b,onClick:j,children:"Cancelar"}),Object(p.jsx)(P.a,{colorScheme:"red",onClick:function(e){return c(n)},ml:3,children:"Eliminar"})]})]})})})]})}H.defaultProps={lang:"",isPublic:!0};var J=H,_=r(77),G=r(36),K=r.n(G),U=function(e){Object(a.useEffect)((function(){document.body.style.background=e}),[e])};U.propTypes={backgroundColor:K.a.string.isRequired};var X,Y,Q=U,$=r(421),ee=r(439);function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function re(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ae(e,t){var r=e.title,n=e.titleId,c=re(e,["title","titleId"]);return a.createElement("svg",te({width:70,height:78,viewBox:"0 0 70 78",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,X||(X=a.createElement("g",{clipPath:"url(#clip0)"},a.createElement("path",{d:"M69.7126 21.9061L55.7683 3.7113L29.024 0.0596367C25.5601 -0.413512 22.3645 1.97751 21.8856 5.39973L14.2604 59.911C13.7815 63.3332 16.2016 66.4903 19.6655 66.9635L56.4828 71.9905C59.9467 72.4636 63.1423 70.0726 63.6212 66.6504L69.8733 21.9541L69.7126 21.9061Z",fill:"#605EC5"}),a.createElement("path",{d:"M69.8201 21.991L53.7102 19.7918L55.9559 3.73657L69.8201 21.991Z",fill:"#8987DE"}),a.createElement("path",{d:"M57.2476 29.9889L30.5532 26.3441L30.0225 30.138L56.7169 33.7828L57.2476 29.9889Z",fill:"white"}),a.createElement("path",{d:"M55.9146 39.52L29.2202 35.8752L28.6895 39.6692L55.3839 43.3139L55.9146 39.52Z",fill:"white"}),a.createElement("path",{d:"M27.8744 45.4979L27.4214 48.7365L50.65 51.908L51.103 48.6695L27.8744 45.4979Z",fill:"white"}),a.createElement("path",{d:"M49.6339 26.3764L33.2997 10.2388H6.3008C2.80408 10.2388 -0.0300293 13.0394 -0.0300293 16.4934V71.5224C-0.0300293 74.9771 2.80474 77.777 6.3008 77.777H43.4684C46.9651 77.777 49.7992 74.9764 49.7992 71.5224V26.4016L49.6339 26.3764Z",fill:"#252388"}),a.createElement("path",{d:"M49.752 26.4463H33.4893V10.2388L49.752 26.4463Z",fill:"#4846AE"}),a.createElement("path",{d:"M38.4054 36.0681H11.4578V39.8981H38.4054V36.0681Z",fill:"white"}),a.createElement("path",{d:"M38.4054 45.6899H11.4578V49.5198H38.4054V45.6899Z",fill:"white"}),a.createElement("path",{d:"M34.9068 55.4049H11.4578V58.6742H34.9068V55.4049Z",fill:"white"}))),Y||(Y=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0"},a.createElement("rect",{width:70,height:77.7778,fill:"white"})))))}var ne,ce,se,ie,oe=a.forwardRef(ae);r.p;function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function je(e,t){var r=e.title,n=e.titleId,c=de(e,["title","titleId"]);return a.createElement("svg",le({id:"Capa_2","data-name":"Capa 2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 16",stroke:"currentColor",fill:"currentColor",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,ne||(ne=a.createElement("path",{d:"M16.14,13.06c-.39,0-.74-.5-1-1.51a19.28,19.28,0,0,1-.42-2c-.43.06-1,.17-1.71.32l-1.69.35c-.22.56-.58,1.38-1.1,2.45a.61.61,0,0,1-.55.36.7.7,0,0,1-.46-.19.61.61,0,0,1-.2-.46A11.73,11.73,0,0,1,10,10a.7.7,0,0,1-.1-.38c0-.35.2-.57.62-.67.49-.91,1.1-2,1.84-3.14,1-1.61,1.64-2.42,1.89-2.42s.56.23.69.7l.4,2.15.95,4.44.36,1a2.39,2.39,0,0,1,.19.69.63.63,0,0,1-.2.46A.64.64,0,0,1,16.14,13.06Zm-2.26-7.3-1.82,3q.76-.21,2.34-.48Z"})),ce||(ce=a.createElement("path",{className:"cls-1",d:"M23.38,12.61a10.06,10.06,0,0,1-3.67.57.71.71,0,0,1-.52-.26.77.77,0,0,1-.25-.54V10.53q0-.91.12-2.61c.08-1.22.13-2.1.14-2.64s0-1,.07-1.75a.57.57,0,0,1,.21-.43,7,7,0,0,1,2-.26,3.58,3.58,0,0,1,2.16.76A2.65,2.65,0,0,1,24.8,5.78a3.05,3.05,0,0,1-1.27,2.59,4.4,4.4,0,0,1,1.43.9,1.57,1.57,0,0,1,.48,1.09,2,2,0,0,1-.84,1.49A4.11,4.11,0,0,1,23.38,12.61ZM22.17,9.25l-.68-.1H21a4.84,4.84,0,0,1-.74-.05c0,.53,0,1,0,1.43v1.33a8.26,8.26,0,0,0,2.73-.48,2.71,2.71,0,0,0,.86-.53c.26-.22.39-.39.39-.5s-.28-.43-.82-.68A7.17,7.17,0,0,0,22.17,9.25Zm-.72-5.11a7.5,7.5,0,0,0-1,0V5.3l-.13,2.47c.61.05.93.08,1,.07a2.67,2.67,0,0,0,1.58-.6,1.83,1.83,0,0,0,.66-1.46,1.45,1.45,0,0,0-.67-1.12A2.27,2.27,0,0,0,21.45,4.14Z"})),se||(se=a.createElement("path",{className:"cls-1",d:"M33,5.7a.67.67,0,0,1-.62-.48,1.11,1.11,0,0,0-.33-.49,1.76,1.76,0,0,0-.66-.07c-.62,0-1.31.47-2.06,1.41a5.9,5.9,0,0,0-1.53,3.61,2,2,0,0,0,.53,1.42,1.68,1.68,0,0,0,1.31.61A2.85,2.85,0,0,0,31,11.37a8.66,8.66,0,0,0,1.14-.75,1.09,1.09,0,0,1,.54-.27.57.57,0,0,1,.46.21.65.65,0,0,1,.19.46.68.68,0,0,1-.24.51A5.19,5.19,0,0,1,29.66,13a2.92,2.92,0,0,1-2.24-1,3.37,3.37,0,0,1-.88-2.33,7.19,7.19,0,0,1,1.81-4.44,4.12,4.12,0,0,1,3.06-1.89,4.86,4.86,0,0,1,.56,0,1.9,1.9,0,0,1,.44.09A.67.67,0,0,1,33,3.14c.29,0,.48.2.56.58A7.52,7.52,0,0,1,33.65,5a.78.78,0,0,1-.14.46A.56.56,0,0,1,33,5.7Z"})),ie||(ie=a.createElement("path",{d:"M39.8,0H2.2a2,2,0,0,0-2,2V14a2,2,0,0,0,2,2H39.8a2,2,0,0,0,2-2V2A2,2,0,0,0,39.8,0Zm-.65,14.26H2.86A.91.91,0,0,1,2,13.35V2.7a1,1,0,0,1,1-1h36a1,1,0,0,1,1.13,1.07V3a.68.68,0,0,1,0,.12h0v10.2A.9.9,0,0,1,39.15,14.26Z"})))}var be,ue,he,pe,xe,Oe=a.forwardRef(je);r.p;function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ge(e,t){var r=e.title,n=e.titleId,c=me(e,["title","titleId"]);return a.createElement("svg",fe({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,be||(be=a.createElement("rect",{x:12,y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),ue||(ue=a.createElement("rect",{x:6,y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),he||(he=a.createElement("rect",{y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),pe||(pe=a.createElement("path",{d:"M12.5218 11.5161C12.0215 12.0161 11.5219 12.5161 10.9268 12.8914C10.0216 13.5162 8 13.5 6.99997 13.5C5.98032 13.4885 4.99928 13.0089 3.99992 12.5",stroke:"#616161",strokeLinecap:"round",strokeLinejoin:"round"})),xe||(xe=a.createElement("path",{d:"M4.32786 13.9956C4.10086 13.6319 4.02894 13.2646 3.80915 12.8979C3.72803 12.7626 3.64479 12.6383 3.57362 12.5089C3.41056 12.2124 3.5 12 3.78875 12.0797C3.2496 12.0797 4.5 11.9506 5.07287 11.9506C5.44509 11.9511 6 11.9075 6.13559 11.9075",stroke:"#616161",strokeLinecap:"round",strokeLinejoin:"round"})))}var ve=a.forwardRef(ge),ye=(r.p,function(){return Object(p.jsxs)(I.a,{as:"a",href:"/",alignItems:"center",children:[Object(p.jsx)(L.a,{w:10,h:10,as:oe}),Object(p.jsx)(E.a,{fontSize:"x-large",fontWeight:"bold",color:"brand.500",children:"Langsheets"})]})});function we(e){var t=e.leftActions,r=e.rightActions,n=e.withIcon,c=e.sm,s=Object($.a)(["(max-width:900px)"]),i=Object(y.a)(s,1)[0];return Object(p.jsxs)(I.a,{px:"10",background:"white",py:"2",shadow:"sm",sx:{"@media print":{display:"none"}},children:[Object(p.jsx)(ye,Object(d.a)({},n)),i?c&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(F.a,{}),Object(p.jsxs)(ee.a,{children:[Object(p.jsx)(ee.b,{colorScheme:"purple",variant:"ghost",as:P.a,children:Object(p.jsx)(L.a,{as:_.c})}),Object(p.jsx)(ee.f,{zIndex:"dropdown",children:c})]})]}):Object(p.jsxs)(a.Fragment,{children:[t,Object(p.jsx)(F.a,{}),r]})]})}we.defaultProps={withIcon:!0};var ke=we,Ce=function(e){Object(a.useEffect)((function(){document.title=e}),[e])};Ce.propTypes={title:K.a.string.isRequired};var Se=Ce;function Ee(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement}function ze(e){return e.map(Ae)}function Ae(e){var t=Object(d.a)({},e);return t.content=JSON.parse(e.content),t}var Ie=Object(a.createContext)(),Pe={user:void 0,error:void 0,loading:!0};function Le(e,t){switch(t.type){case"loading":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:void 0});case"success":var r=t.payload.user;return Object(d.a)(Object(d.a)({},e),{},{user:r,loading:!1});case"error":var a=t.payload.error;return Object(d.a)(Object(d.a)({},e),{},{user:void 0,loading:!1,error:a})}}var Fe=function(e){var t=e.children,r=Object(a.useReducer)(Le,Pe),n=Object(y.a)(r,2),c=n[0],s=n[1];function i(){return(i=Object(v.a)(g.a.mark((function e(t,r){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"loading"}),e.next=3,fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=12;break}return u.a.set("token",n.token),delete n.token,s({type:"success",payload:{user:n}}),e.abrupt("return",n);case 12:return s({type:"error",payload:{error:n}}),e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(v.a)(g.a.mark((function e(t,r,a,n){var c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"loading"}),e.next=3,fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,lastName:r,email:a,password:n})});case 3:return c=e.sent,e.next=6,c.json();case 6:if(i=e.sent,!c.ok){e.next=10;break}return s({type:"success",payload:{user:{}}}),e.abrupt("return");case 10:s({type:"error",payload:{error:i}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(g.a.mark((function e(){var t,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s({type:"loading"}),u.a.get("token")){e.next=5;break}return s({type:"success",payload:{user:void 0}}),e.abrupt("return");case 5:return e.prev=5,e.next=8,fetch("/api/users/userInfo");case 8:return t=e.sent,e.next=11,t.json();case 11:r=e.sent,s({type:"success",payload:{user:r}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),s({type:"error",payload:{error:e.t0}});case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var l=Object(d.a)({login:function(e,t){return i.apply(this,arguments)},signUp:function(e,t,r,a){return o.apply(this,arguments)}},c);return Object(p.jsx)(Ie.Provider,{value:l,children:t})};function Re(){return Object(a.useContext)(Ie)}var We={error:void 0,loading:!0,worksheets:void 0};function Ne(e,t){switch(t.type){case"call-api":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"api-call-ended":return Object(d.a)(Object(d.a)({},e),{},{loading:!1});case"update-worksheets":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,worksheets:t.payload.worksheets});case"api-error":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload.error});default:return console.warn("The action type given did not match any posible action",t),e}}var qe=function(){var e=Object(h.g)(),t=Object(w.a)(),r=Re().user,n=Object(a.useReducer)(Ne,We),c=Object(y.a)(n,2),s=c[0],i=c[1],o=s.error,l=s.loading,j=s.worksheets;function b(){return(b=Object(v.a)(g.a.mark((function t(){var a,n,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:"call-api"}),a={title:"Actividad sin t\xedtulo",lang:"es",published:!1,content:JSON.stringify([{type:"paragraph",children:[{text:""}]}]),createdAt:new Date,author:{name:r.name,lastName:r.lastName,id:r.id}},t.next=4,fetch("/api/activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=t.sent,t.next=7,n.json();case 7:if(c=t.sent,i({type:"api-call-ended"}),!n.ok){t.next=12;break}return e.push("/worksheets/".concat(c._id,"/edit")),t.abrupt("return");case 12:i({type:"api-error",payload:{error:c}});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(){return(u=Object(v.a)(g.a.mark((function e(r){var a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"call-api"}),e.next=3,fetch("/api/activities/".concat(r),{method:"DELETE"});case 3:if(a=e.sent,n=a.json(),!a.ok){e.next=10;break}return c=Object(f.a)(j).filter((function(e){return e._id!==r})),i({type:"update-worksheets",payload:{worksheets:c}}),t({title:"Actividad Eliminada",description:"La actividad fue eliminada exit\xf3samente",status:"info",durarion:5e3,isClosable:!0}),e.abrupt("return");case 10:i({type:"api-error",payload:{error:n}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(g.a.mark((function e(){var t,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"call-api"}),e.next=3,fetch("/api/activities");case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,!t.ok){e.next=10;break}return i({type:"update-worksheets",payload:{worksheets:ze(r)}}),e.abrupt("return");case 10:i({type:"api-error",payload:{error:r}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var x={createSheet:function(){return b.apply(this,arguments)},deleteSheet:function(e){return u.apply(this,arguments)}};return Q("var(--chakra-colors-gray-100)"),Se("LangSheets | Mis actividades"),Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ke,{}),l&&Object(p.jsx)(k.a,{size:"xs",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),o&&Object(p.jsxs)(C.a,{status:"error",children:[Object(p.jsx)(C.c,{}),Object(p.jsx)(C.b,{children:o.message})]}),Object(p.jsxs)(S.a,{maxW:"container.lg",children:[Object(p.jsx)(E.a,{fontSize:"xx-large",fontWeight:"semibold",my:"5",textAlign:["center","left"],children:" Mis Worksheets "}),Object(p.jsxs)(z.a,{mx:{md:"7",lg:"0"},gap:"5",justifyContent:"center",placeItems:"center",templateColumns:{base:"",md:"repeat(2, var(--chakra-sizes-72))",lg:"repeat(3, minmax(var(--chakra-sizes-72),var(--chakra-sizes-80)))"},children:[!!j&&j.map((function(e){return Object(p.jsx)(A.a,{isLoaded:!l,children:Object(p.jsx)(J,Object(d.a)({},Object(d.a)(Object(d.a)({},e),x)))},e._id)})),Object(p.jsx)(I.a,{width:"full",as:P.a,colorScheme:"brand",variant:"ghost",background:"white",onClick:x.createSheet,leftIcon:Object(p.jsx)(L.a,{as:_.a}),size:"lg",boxShadow:"base",height:"40",borderRadius:"xl",children:"Crear Nueva actividad"})]})]})]})},Te=r(18),De=r(426),Me=function(e){return Object(p.jsx)(a.Fragment,{children:Object(p.jsxs)(I.a,{flexDirection:"column",alignItems:"center",children:[Object(p.jsx)(De.a,{px:"4",variant:"unstyled",_focus:{outline:"none"},as:"a",href:"/",children:Object(p.jsx)(oe,{width:"70px"})}),Object(p.jsxs)(I.a,{mt:"40",flexDirection:"column",flexGrow:"1",width:"full",children:[Object(p.jsx)(W.a,{hasArrow:!0,arrowSize:"5",placement:"auto-start",label:"Previsualizar actividad",children:Object(p.jsx)(De.a,{as:"a",target:"_blank",referrerPolicy:"no-referrer",href:"/worksheets/".concat(e.id,"/practice"),sx:{"&":{transition:"all ease 300ms",color:"white",cursor:"pointer",textAlign:"center",borderRadius:"none"},"&:hover, &:active":{background:"#252388"}},children:Object(p.jsx)(L.b,{m:"4",w:8,h:8,as:D.g})})}),Object(p.jsx)(W.a,{hasArrow:!0,arrowSize:"5",placement:"auto-start",label:"Imprimir actividad",children:Object(p.jsx)(De.a,{onClick:e.handlePrint,sx:{"&":{transition:"all ease 300ms",color:"white",cursor:"pointer",textAlign:"center",borderRadius:"none"},"&:hover, &:active":{background:"#252388"}},children:Object(p.jsx)(L.b,{m:"4",w:8,h:8,as:D.o})})})]})]})})},Ve=r(448);var Be=function(e){var t=e.title,r=e.updateWorksheetProp,n=e.dispatch,c=Object(a.useRef)();return Object(p.jsx)(De.a,{onClick:function(){return c.current.focus()},sx:{"@media print":{textAlign:"center"}},children:Object(p.jsxs)(Ve.a,{fontSize:"x-large",required:!0,id:"title",value:t,onBlur:function(){return r({property:"title"})},onChange:function(e){return n({type:"change-worksheet-prop",payload:{property:"title",value:e}})},type:"text",placeholder:"Escribe un t\xedlulo aqu\xed...",children:[Object(p.jsx)(Ve.c,{ref:c}),Object(p.jsx)(Ve.b,{})]})})},Ze=r(396),He=r(431),Je=r(449),_e=r(442),Ge=r(433),Ke=function(e){var t=e.decorate,r=e.renderElement,a=e.renderLeaf,n=e.readOnly,c=e.placeholder;return Object(p.jsx)(De.a,{background:"white",p:"5",as:Te.a,decorate:t,renderElement:r,renderLeaf:a,readOnly:n,placeholder:c})},Ue=r(427),Xe=function(e){var t=e.updateWorksheetProp,r=e.dispatch,a=e.lang;return Object(p.jsxs)(De.a,{my:"4",children:[Object(p.jsx)(E.a,{my:"2",children:"Idioma"}),Object(p.jsxs)(Ue.a,{background:"white",required:!0,value:a,onBlur:function(){return t({property:"lang"})},onChange:function(e){return r({type:"change-worksheet-prop",payload:{property:"lang",value:e.target.value}})},children:[Object(p.jsx)("option",{value:""}),Object(p.jsx)("option",{value:"de",children:"Alem\xe1n"}),Object(p.jsx)("option",{value:"es",children:"Espa\xf1ol"}),Object(p.jsx)("option",{value:"fr",children:"Franc\xe9s"}),Object(p.jsx)("option",{value:"en",children:"Ingl\xe9s"}),Object(p.jsx)("option",{value:"ru",children:"Ruso"}),Object(p.jsx)("option",{value:"zh",children:"Chino"}),Object(p.jsx)("option",{value:"ja",children:"Japon\xe9s"})]})]})};Xe.defaultProps={lang:""};var Ye=Xe,Qe=function(e){var t=e.dispatch,r=e.updateWorksheetProp,a=e.isPublic;return Object(p.jsx)(De.a,{my:"4",children:Object(p.jsx)(W.a,{label:"Si la actividad es p\xfablica, ser\xe1 listada en la p\xe1gina global de actividades",children:Object(p.jsxs)(E.a,{my:"2",children:["Actividad P\xfablica ",Object(p.jsx)(Je.a,{colorScheme:"brand",ml:"4",onBlur:function(){return r({property:"published"})},onChange:function(e){return t({type:"change-worksheet-prop",payload:{property:"published",value:!a}})},isChecked:a})," "]})})})};Qe.defaultProps={isPublic:!0};var $e=Qe,et=r(90),tt=r(4),rt=r(236),at=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(y.a)(r,2),n=a[0],c=a[1];!tt.a.isBlock(n)||n.alignment?t(r):tt.h.setNodes(e,{textAlign:"left"},{at:c})},e},nt=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(y.a)(r,2),n=a[0],c=a[1];if("exercise-block"===n.type){if(!tt.c.has(e,tt.e.next(c)))return tt.h.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:tt.e.next(c)});if(!tt.c.has(e,tt.e.previous(c)))return console.log("Paragraph inserted"),tt.h.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:tt.e.previous(c)})}t(r)},e},ct=r(12),st=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(y.a)(r,2),n=a[0],c=a[1];if(tt.a.isBlock(e,n)&&["paragraph","paragraph-with-missing-word"].includes(n.type)){var s,i=!1,o=Object(ct.a)(tt.c.descendants(n));try{for(o.s();!(s=o.n()).done;){Object(y.a)(s.value,1)[0].missingWord&&(i=!0)}}catch(x){o.e(x)}finally{o.f()}if(i){if("paragraph-with-missing-word"!==n.type)return tt.h.setNodes(e,{type:"paragraph-with-missing-word"},{at:c})}else if("paragraph-with-missing-word"===n.type)return tt.h.setNodes(e,{type:"paragraph"},{at:c})}if(tt.c.isNode(n)&&tt.b.isElement(n)){var l,d=tt.c.first(e,c)[1],j=tt.c.last(e,c)[1],b=Object(ct.a)(tt.c.children(e,c));try{for(b.s();!(l=b.n()).done;){var u=Object(y.a)(l.value,2),h=u[0],p=u[1];if(!0===h.missingWord){if(tt.e.equals(p,j))return tt.h.insertNodes(e,{text:" "},{at:tt.e.next(p),select:!0,hanging:!0});if(tt.e.equals(p,d))return tt.h.insertNodes(e,{text:" "},{at:p,select:!0,hanging:!0});if(tt.c.has(e,tt.e.next(p)))if(" "!==tt.c.get(e,tt.e.next(p)).text[0])return tt.h.insertText(e," ",{at:{path:tt.e.next(p),offset:0}})}}}catch(x){b.e(x)}finally{b.f()}}t(r)},e},it=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a,n=Object(y.a)(r,2),c=n[0],s=n[1],i=!1,o=Object(ct.a)(tt.c.ancestors(e,s));try{for(o.s();!(a=o.n()).done;){"exercise-block"===Object(y.a)(a.value,1)[0].type&&(i=!0)}}catch(d){o.e(d)}finally{o.f()}if(tt.a.isBlock(e,c)&&["paragraph","word-order-exercise-paragraph"].includes(c.type)&&i){var l=!1;if(tt.c.string(c).split("/").length>1&&(l=!0),l){if("word-order-exercise-paragraph"!==c.type)return tt.h.setNodes(e,{type:"word-order-exercise-paragraph"},{at:s})}else if("word-order-exercise-paragraph"===c.type)return tt.h.setNodes(e,{type:"paragraph"},{at:s})}t(r)},e};var ot=function(){return Object(a.useMemo)((function(){return at(it(nt(st(Object(rt.a)(Object(Te.h)(Object(tt.i)()))))))}),[])},lt=r(428),dt=r(429),jt=r(430),bt=r(237);function ut(e){if(!e.length||!e)throw new Error("Expected an array wit items and got",JSON.stringify(e));for(var t,r,a=Object(f.a)(e),n=a.length;0!==n;)r=Math.floor(Math.random()*n),t=a[n-=1],a[n]=a[r],a[r]=t;return e[0]===a[0]?ut(a):a}function ht(e,t){if(!e||!t)throw new Error("Slate editor and path are required");var r,a,n,c=Object(ct.a)(tt.c.ancestors(e,t));try{for(c.s();!(n=c.n()).done;){var s=Object(y.a)(n.value,1)[0];"exercise-block"===s.type&&(r=s.showAnswers,a=s.checkExercise)}}catch(i){c.e(i)}finally{c.f()}return{showAnswers:r,checkExercise:a}}function pt(e,t){var r=e.split("/").map((function(e){return{word:e,id:Object(bt.a)(),isCorrect:!1}}));return t.shuffle?ut(r):r}var xt=r(231),Ot=Object(xt.io)({autoConnect:!1}),ft=Object(a.createContext)(Ot),mt=function(e){var t=e.isCorrect,r=e.checkExercise,a=e.showAnswers;return!r||a?null:t?Object(p.jsx)(lt.a,{as:"span",children:Object(p.jsx)(L.b,{as:D.h,color:"green.400"})}):Object(p.jsx)(lt.a,{as:"span",children:Object(p.jsx)(L.b,{as:D.q,color:"red.400"})})},gt=function(e){var t=Object(a.useContext)(ft),r=e.leaf,n=r.text,c=r.userAnswer,s=void 0===c?"":c,i=r.isCorrect,o=void 0!==i&&i,l=r.focused,d=void 0!==l&&l,j=r.user,b=Object(Te.g)(),u=Te.b.findPath(b,e.text),h=ht(b,u),x=h.showAnswers,O=h.checkExercise;function f(e){var r=e.event,a=e.focus;void 0===a||a?t.emit("action",{type:"input-focused",user:{username:t.auth.username,userID:t.id},path:u}):r.target.blur()}function m(e){var r,a=e.target.value;r={isAnswered:a.trim().length>0,isCorrect:g(a),userAnswer:a},t.emit("action",{type:"set-leaf-props",props:r,path:u}),tt.h.setNodes(b,r,{at:u})}function g(e){return e.toLowerCase().trim()===n.toLowerCase().trim()}var v=x?n:s;return Object(p.jsxs)(dt.a,{w:"32",as:"span",display:"inline-block",position:"relative",children:[d?Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(E.a,{as:"span",w:"3",h:"3",bg:"brand.500",position:"absolute",transform:"translateY(-50%) translateX(50%)",animation:"pulse 2s infinite",boxShadow:"0 0 0 #3c37cfb7",right:"0",borderRadius:"50%",zIndex:"overlay"}),Object(p.jsx)(W.a,{label:Object(p.jsx)(vt,{user:j}),children:Object(p.jsx)(jt.a,{cursor:"not-allowed",variant:"filled",transition:"all ease 300ms",readOnly:O,value:v,onFocus:function(e){return f({event:e,focus:!1})},onChange:m})})]}):Object(p.jsx)(jt.a,{variant:"filled",readOnly:O,value:v,onFocus:f,onBlur:function(){t.emit("action",{type:"input-blured",path:u})},onChange:m}),Object(p.jsx)(mt,{isCorrect:o,checkExercise:O,showAnswers:x})]})},vt=function(e){return Object(p.jsxs)(E.a,{as:"span",children:[e.user.username," esta escribiendo ",Object(p.jsx)(yt,{})]})},yt=function(e){return Object(p.jsxs)(E.a,{as:"span",id:"wave",position:"relative",children:[Object(p.jsx)(E.a,{as:"span",className:"dot"}),Object(p.jsx)(E.a,{as:"span",className:"dot"}),Object(p.jsx)(E.a,{as:"span",className:"dot"})]})},wt=function(e){var t=Object($.a)(["print"]),r=Object(y.a)(t,1)[0],a=r?e.leaf.text+e.leaf.text:e.children;return Object(p.jsx)(De.a,Object(d.a)(Object(d.a)({as:"span",color:r?"transparent":"",borderRadius:"sm",px:"1",background:"brand.200"},e.attributes),{},{sx:{"@media print":{background:"none",borderBottom:"solid black 1px",color:"transparent"}},children:a}))},kt=function(e){var t=e.leaf,r=e.children,a=e.attributes,n=Object(Te.e)();return!0===t.missingWord?n?Object(p.jsx)(gt,Object(d.a)({},e)):Object(p.jsx)(wt,Object(d.a)({},e)):(t.division&&(r=Object(p.jsx)(E.a,{as:"span",fontWeight:"black",color:"brand.500",children:r})),t.bold&&(r=Object(p.jsx)("strong",{children:r})),t.italic&&(r=Object(p.jsx)("em",{children:r})),t.underline&&(r=Object(p.jsx)("u",{children:r})),t.strike&&(r=Object(p.jsx)("s",{children:r})),Object(p.jsx)("span",Object(d.a)(Object(d.a)({},a),{},{children:r})))},Ct=function(e){var t=e.children,r=e.element,a=e.attributes,n=r.textAlign;return Object(p.jsx)(E.a,Object(d.a)(Object(d.a)({textAlign:n},a),{},{children:t}))},St=function(e){var t=e.attributes,r=e.children;return Object(p.jsx)("div",Object(d.a)(Object(d.a)({},t),{},{children:r}))},Et=r(134),zt=function(e){var t=Object(Te.g)(),r=e.element,n=Te.b.findPath(t,r),c=ht(t,n),s=c.showAnswers,i=c.checkExercise,o=tt.c.string(r),l=Object(a.useRef)(pt(o,{shuffle:!0})),j=r.userAnswers,b=void 0===j?l.current:j,u=pt(o,{shuffle:!1});return s?Object(p.jsx)(I.a,{flexWrap:"wrap",alignItems:"center",my:"4",p:"4",borderRadius:"base",border:"2px var(--chakra-colors-purple-600) solid",children:u.map((function(e){return Object(p.jsx)(At,Object(d.a)({},Object(d.a)(Object(d.a)({},e),{},{isCorrect:!0})),e.id)}))}):Object(p.jsx)(Et.a,{onDragEnd:function(e){if(e.destination){var a=function(e,t,r){var a=Array.from(e),n=a.splice(t,1),c=Object(y.a)(n,1)[0];return a.splice(r,0,c),a}(b,e.source.index,e.destination.index),n=Te.b.findPath(t,r);tt.h.setNodes(t,{userAnswers:Lt(a,u)},{at:n})}},children:Object(p.jsx)(Et.c,{droppableId:"droppable",direction:"horizontal",children:function(e,t){return Object(p.jsxs)(I.a,Object(d.a)(Object(d.a)({flexWrap:"wrap",alignItems:"center",my:"4",p:"4",borderRadius:"base",border:"2px var(--chakra-colors-purple-600) solid",ref:e.innerRef},e.droppableProps),{},{className:"".concat(t.isDraggingOver&&"draggingOver"),children:[b.map((function(e,t){return Object(p.jsx)(It,Object(d.a)({},Object(d.a)(Object(d.a)({},e),{},{index:t,checkExercise:i})),e.id)})),e.placeholder]}))}})})},At=function(e){return Object(p.jsx)(E.a,{m:"1",px:"2",py:"1",bg:e.isCorrect?"green.500":"yellow.300",color:e.isCorrect?"white":"black",borderRadius:"base",as:"span",fontWeight:"medium",transition:"all ease 300",cursor:"default",children:e.word})},It=function(e){var t=e.id,r=e.word,a=e.index,n=e.checkExercise,c=e.isCorrect;function s(e){return e.isDragging?"purple.600":n?c?"green.300":"yellow.300":"purple.500"}return Object(p.jsx)(Et.b,{draggableId:t,index:a,children:function(e,t){return Object(p.jsx)(E.a,Object(d.a)(Object(d.a)(Object(d.a)({userSelect:"none",m:"1",px:"2",py:"1",borderRadius:"base",as:"span",cursor:"move",fontWeight:"medium",color:n&&!c?"black":"white",transition:"all ease 300",bg:s(t),style:e.draggableProps.style,ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:r}))}},t)},Pt=function(e){var t=e.attributes,r=e.children;return Object(p.jsx)("div",Object(d.a)(Object(d.a)({},t),{},{children:r}))};function Lt(e,t){return e.map((function(e,r){return Object(d.a)(Object(d.a)({},e),{},{isCorrect:e.word===t[r].word})}))}var Ft=function(e){return Object(Te.e)()?Object(p.jsx)(zt,Object(d.a)({},e)):Object(p.jsx)(Pt,Object(d.a)({},e))};var Rt=function(e){var t=e.element,r=e.children,a=e.attributes,n=t.textAlign,c=t.type.split(" ")[1];return Object(p.jsx)(E.a,Object(d.a)(Object(d.a)({textAlign:n,fontSize:c},a),{},{children:r}))},Wt=r(432),Nt=r(11);function qt(e,t,r){if(!r)return!1;var a=tt.a.nodes(r,{match:function(r){return r[e]===t}});return!!Object(y.a)(a,1)[0]}function Tt(e,t){if(!t)return!1;var r=tt.a.marks(t);return!!r&&!0===r[e]}function Dt(e,t){if(t)return Tt(e,t)?tt.a.removeMark(t,e):tt.a.addMark(t,e,!0)}var Mt=function(e){var t=e.format,r=e.label,a=e.type,n=e.customOnClick,c=e.variant,s=e.icon,i=e.formatKey,o=Object(j.a)(e,["format","label","type","customOnClick","variant","icon","formatKey"]),l=Object(Te.g)();function b(){return"function"===typeof n?n.call():"mark"===a?Dt(t,l):function(e,t,r){var a=qt(e,t,r);tt.h.setNodes(r,Object(Nt.a)({},e,a?null:t),{match:function(e){return tt.a.isBlock(r,e)}})}(i,t,l)}function u(){return"mark"===a?Tt(t,l):qt(i,t,l)}return"button"===c?Object(p.jsx)(W.a,{hasArrow:!0,label:r,fontSize:"md",children:Object(p.jsx)(P.a,Object(d.a)(Object(d.a)({size:"sm"},o),{},{color:u()?"brand.500":"#616161",background:u()?"brand.100":"",variant:"ghost",onClick:b,children:s}))}):Object(p.jsx)(ee.e,{color:u()?"brand.500":"",background:u()?"brand.100":"",onClick:b,icon:s,children:r})};Mt.defaultProps={customOnClick:void 0,variant:"button",formatKey:"type"};var Vt=Mt,Bt=function(e){var t=Object(Te.g)(),r=Te.b.findPath(t,e.element);return Object(p.jsxs)(R.a,{display:"flex",flexWrap:"wrap",spacing:["0","4"],justifyContent:"center",colorScheme:"purple",size:"sm",children:[Object(p.jsx)(P.a,{my:"2",variant:"solid",onClick:function(){tt.h.setNodes(t,{checkExercise:!0},{at:r})},children:"Calificar respuestas"}),Object(p.jsx)(P.a,{my:"2",variant:"outline",onClick:function(){tt.h.setNodes(t,{showAnswers:!0},{at:r})},children:"Ver respuestas"})]})},Zt=function(e){return Object(p.jsx)(a.Fragment,{children:Object(p.jsx)(Bt,Object(d.a)({},e))})},Ht=r(232),Jt={"missing-word":"Palabras faltantes","word-order":"Ordenar oraciones"},_t={"missing-word":Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(E.a,{my:"2",children:"Cada oraci\xf3n puede contener una o m\xfaltiple palabras faltantes."}),Object(p.jsxs)(E.a,{my:"2",children:["Para a\xf1adir una palabra faltante seleccione la palabra(s) y presione el boton de a\xf1adir palabra faltante. ",Object(p.jsx)(L.a,{color:"brand.500",w:"2.5em",as:Oe})]}),Object(p.jsx)(E.a,{my:"2",children:"Cada palabra faltante lucir\xe1 con un fondo de color p\xfarpura."}),Object(p.jsx)(E.a,{my:"2",color:"brand.500",fontWeight:"semibold",children:"Ejemplo:"}),Object(p.jsx)(E.a,{my:"2",children:Object(p.jsx)("em",{children:"Escribiendo la siguiente oraci\xf3n"})}),Object(p.jsxs)(E.a,{my:"2",as:"samp",children:["Si quieres cambiar el ",Object(p.jsx)(E.a,{px:"2",as:"span",bg:"brand.200",borderRadius:"base",children:"mundo"}),", c\xe1mbiate a ti mismo."]}),Object(p.jsx)(E.a,{my:"2",children:Object(p.jsx)("em",{children:"Se creara el siguiente ejercicio :"})}),Object(p.jsxs)(I.a,{alignItems:"center",flexWrap:"wrap",children:["Si quieres cambiar el ",Object(p.jsx)(jt.a,{w:"24",bg:"gray.100"}),", c\xe1mbiate a ti mismo."]})]}),"word-order":Object(p.jsxs)(a.Fragment,{children:[Object(p.jsxs)(E.a,{my:"2",children:["Cada oraci\xf3n tiene que ser dividida usando diagonales ",Object(p.jsx)(E.a,{as:"kbd",bg:"brand.100",children:"/"})]}),Object(p.jsx)(E.a,{my:"2",color:"brand.500",fontWeight:"semibold",children:"Ejemplo:"}),Object(p.jsx)(E.a,{my:"2",children:Object(p.jsx)("em",{children:"Escribiendo la siguiente oraci\xf3n"})}),Object(p.jsxs)(E.a,{my:"2",as:"samp",children:["Si quieres ",Object(p.jsx)(E.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"})," cambiar ",Object(p.jsx)(E.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"}),"el mundo, c\xe1mbiate",Object(p.jsx)(E.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"})," a ti mismo."]}),Object(p.jsx)(E.a,{my:"2",children:Object(p.jsx)("em",{children:"Se creara el siguiente ejercicio :"})}),Object(p.jsx)(I.a,{flexWrap:"wrap",children:ut(["Si quieres","cambiar","el mundo, c\xe1mbiate","a ti mismo."]).map((function(e,t){return Object(p.jsx)(E.a,{as:"span",borderRadius:"base",m:"1",px:"1",py:"2",color:"white",bg:"brand.500",children:e},"".concat(e,"-").concat(t))}))})]})};var Gt=function(e){var t=Object(Te.g)();switch(e.exerciseType){case"missing-word":return Object(p.jsxs)(De.a,{w:"full",children:[Object(p.jsx)(Vt,{m:"2",colorScheme:"brand",type:"mark",customOnClick:function(){return function(e,t){tt.f.isCollapsed(e.selection)?alert("Para crear una palabra faltante , seleciona primero la palabra"):Dt("missingWord",e)}(t)},format:"missingWord",label:"A\xf1adir Palabra faltante",icon:Object(p.jsx)(L.a,{width:"2.5em",as:Oe})}),Object(p.jsx)(He.a,{borderBottomWidth:"2px",opacity:"1"})]});case"word-order":default:return null}},Kt=function(e){var t=Object(Te.g)(),r=Object(Te.e)(),n=Object(Te.d)(),c=Object(Te.f)();function s(){if(n&&c){if(t.selection){if(tt.f.isExpanded(t.selection)){var e=tt.a.fragment(t,t.selection);return"missing-word"===Object(y.a)(e,1)[0].exerciseType}return!0}return!0}return!1}return r?Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(De.a,Object(d.a)(Object(d.a)({},e.attributes),{},{borderBottomRadius:"base",py:"4",children:e.children})),Object(p.jsx)(Zt,Object(d.a)({},e))]}):Object(p.jsxs)(De.a,Object(d.a)(Object(d.a)({borderRadius:"5px",border:"".concat(s()?"var(--chakra-colors-brand-100)":"transparent"," 1px solid")},e.attributes),{},{transition:"all ease 300ms",position:"relative",children:[Object(p.jsxs)(Wt.a,{in:s(),animateOpacity:!0,contentEditable:!1,children:[!r&&Object(p.jsxs)(De.a,{borderTopRadius:"base",w:["full","full","auto"],bg:"brand.400",px:"4",py:"2",color:"white",children:["Actividad: ",Object(p.jsxs)("b",{children:[" ",Jt[e.element.exerciseType]," "]}),!!_t[e.element.exerciseType]&&Object(p.jsxs)(_e.a,{children:[Object(p.jsx)(_e.f,{children:Object(p.jsx)(N.a,{variant:"ghost",colorScheme:"white",icon:Object(p.jsx)(L.a,{as:Ht.a})})}),Object(p.jsxs)(_e.d,{children:[Object(p.jsx)(_e.c,{}),Object(p.jsx)(_e.e,{color:"black",children:"Ayuda"}),Object(p.jsx)(_e.b,{color:"black",children:_t[e.element.exerciseType]})]})]})]}),Object(p.jsx)(Gt,{isActive:s(),exerciseType:e.element.exerciseType})]}),Object(p.jsx)(De.a,{borderBottomRadius:"base",py:"4",px:s()&&"2",children:e.children})]}))},Ut=function(e){return Object(p.jsx)(De.a,Object(d.a)(Object(d.a)({},e.attributes),{},{children:e.children}))},Xt=function(){return[Object(a.useCallback)((function(e){return Object(p.jsx)(kt,Object(d.a)({},e))}),[]),Object(a.useCallback)((function(e){var t=e.element.type;if("heading"===(null===t||void 0===t?void 0:t.split(" ")[0]))return Object(p.jsx)(Rt,Object(d.a)({},e));switch(t){case"exercise-block":return Object(p.jsx)(Kt,Object(d.a)({},e));case"exercise-list-items":return Object(p.jsx)(Ut,Object(d.a)({},e));case"missing-word-exercise-paragraph":return Object(p.jsx)(St,Object(d.a)({},e));case"word-order-exercise-paragraph":return Object(p.jsx)(Ft,Object(d.a)({},e));default:return Object(p.jsx)(Ct,Object(d.a)({},e))}}),[])]};function Yt(){var e=Ee(),t=Object(a.useState)(e),r=Object(y.a)(t,2),n=r[0],c=r[1];function s(){c(Ee())}return Object(a.useEffect)((function(){return document.addEventListener("fullscreenchange",s),function(){document.removeEventListener("fullscreenchange",s)}}),[]),n}function Qt(e,t){var r={type:"exercise-block",exerciseType:t.type,children:[{type:"exercise-list-items",children:[{type:"paragraph",children:[{text:""}]}]}]};if(e.selection){var a=tt.c.fragment(e,e.selection);if("exercise-block"===Object(y.a)(a,1)[0].type)return void alert("No es posible crear un ejercicio dentro de otro ejercicio, selecciona una linea de texto vac\xeda fuera del cuadro de ejercicio")}tt.h.insertNodes(e,r,{select:!0}),Te.b.focus(e)}function $t(e){document.body.style.zoom="100%",e.target.blur(),setTimeout((function(){window.print()}),500)}function er(){if(!Ee()){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}function tr(){Ee()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}var rr=function(){var e=Object(Te.g)(),t=Yt();return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsxs)(ee.a,{children:[Object(p.jsx)(ee.b,{children:"Actividad"}),Object(p.jsxs)(ee.f,{children:[Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.b,{as:D.k}),children:"Publicar Actividad"}),Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.b,{as:D.o}),onClick:$t,children:"Imprimir Actividad"})]})]}),Object(p.jsxs)(ee.a,{children:[Object(p.jsx)(ee.b,{mx:"4",children:"Insertar"}),Object(p.jsx)(ee.f,{children:Object(p.jsxs)(ee.d,{title:"Ejercicios",children:[Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.b,{w:8,h:8,as:Oe}),onClick:function(t){return Qt(e,{type:"missing-word"})},children:"Palabras Faltantes"}),Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.b,{w:8,h:8,as:ve}),onClick:function(t){return Qt(e,{type:"word-order"})},children:"Ordenar Oraciones"})]})})]}),Object(p.jsxs)(ee.a,{children:[Object(p.jsx)(ee.b,{mx:"4",children:"Ver"}),Object(p.jsx)(ee.f,{children:t?Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.b,{as:et.b}),onClick:tr,children:"Vista normal"}):Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.b,{as:et.a}),onClick:er,children:"Pantalla completa"})})]})]})},ar=function(){var e=Object(Te.g)(),t=Object($.a)("(min-width: 1024px)"),r=Object(y.a)(t,1)[0];return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsxs)(ee.a,{children:[Object(p.jsxs)(ee.b,Object(d.a)(Object(d.a)({},r?"":Object(d.a)({},{borderRadius:"none",height:"full"})),{},{flex:"0 0 auto",display:"flex",as:P.a,size:"sm",colorScheme:"brand",variant:"solid",children:[Object(p.jsx)(L.b,{w:5,h:5,mr:"2",as:_.d})," Insertar Ejercicio"]})),Object(p.jsxs)(ee.f,{children:[Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.b,{w:5,h:5,as:Oe}),onClick:function(t){return Qt(e,{type:"missing-word"})},children:"Palabras faltantes"}),Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.b,{w:5,h:5,as:ve}),onClick:function(t){return Qt(e,{type:"word-order"})},children:"Ordernar oraciones"})]})]}),Object(p.jsxs)(ee.a,{children:[Object(p.jsx)(W.a,{hasArrow:!0,label:"Estilos de tipograf\xeda",fontSize:"md",children:Object(p.jsx)(ee.b,{as:P.a,"aria-label":"Estilos de tipograf\xeda",variant:"ghost",color:"#616161",size:"sm",children:Object(p.jsx)(L.b,{as:D.l})})}),Object(p.jsxs)(ee.f,{children:[Object(p.jsx)(Vt,{variant:"menuListItem",type:"block",format:"heading 4xl",label:Object(p.jsx)(E.a,{fontSize:"3xl",children:"T\xedtulo 1"})}),Object(p.jsx)(Vt,{variant:"menuListItem",type:"block",format:"heading 3xl",label:Object(p.jsx)(E.a,{fontSize:"2xl",children:"T\xedtulo 2"})}),Object(p.jsx)(Vt,{variant:"menuListItem",type:"block",format:"heading 2xl",label:Object(p.jsx)(E.a,{fontSize:"xl",children:"Subt\xedtulo 1"})}),Object(p.jsx)(Vt,{variant:"menuListItem",type:"block",format:"heading xl",label:Object(p.jsx)(E.a,{fontSize:"lg",children:"Subt\xedtulo 2"})}),Object(p.jsx)(Vt,{variant:"menuListItem",type:"block",format:"",label:Object(p.jsx)(E.a,{fontSize:"md",children:"Texto normal"})})]})]}),Object(p.jsx)(Vt,{type:"mark",format:"bold",label:"Negrita",icon:Object(p.jsx)(L.b,{as:D.f})}),Object(p.jsx)(Vt,{type:"mark",format:"italic",label:"Cursiva",icon:Object(p.jsx)(L.b,{as:D.n})}),Object(p.jsx)(Vt,{type:"mark",format:"underline",label:"Subrayado",icon:Object(p.jsx)(L.b,{as:D.r})}),Object(p.jsx)(Vt,{type:"mark",format:"strike",label:"Tachado",icon:Object(p.jsx)(L.b,{as:D.p})}),Object(p.jsx)(Vt,{type:"block",formatKey:"textAlign",format:"left",label:"Alinear a la izquierda",icon:Object(p.jsx)(L.b,{as:D.c})}),Object(p.jsx)(Vt,{type:"block",formatKey:"textAlign",format:"center",label:"Alinear al centro",icon:Object(p.jsx)(L.b,{as:D.a})}),Object(p.jsx)(Vt,{type:"block",formatKey:"textAlign",format:"right",label:"Alinear a la derecha",icon:Object(p.jsx)(L.b,{as:D.d})}),Object(p.jsx)(Vt,{type:"block",formatKey:"textAlign",format:"justify",label:"Justificar",icon:Object(p.jsx)(L.b,{as:D.b})})]})},nr="saving-worksheet",cr="saving-worksheet-success",sr="toggle-writting-mode",ir="change-worksheet-prop",or="set-worksheet",lr="error";function dr(e,t){switch(t.type){case sr:return Object(d.a)(Object(d.a)({},e),{},{isWritingMode:!e.isWritingMode});case ir:if(!t.payload.property)throw new Error("'property' is required but got undefined");if("content"===t.payload.property&&!e.isWritingMode)return console.log("Cannot update activity state in preview mode"),e;var r=Object(d.a)({},e.worksheet);return r[t.payload.property]=t.payload.value,Object(d.a)(Object(d.a)({},e),{},{worksheet:r});case nr:return Object(d.a)(Object(d.a)({},e),{},{savingWorksheet:!0});case cr:return Object(d.a)(Object(d.a)({},e),{},{savingWorksheet:!1});case or:return Object(d.a)(Object(d.a)({},e),{},{savingWorksheet:!1,loading:!1,worksheet:t.payload.worksheet,error:void 0});case lr:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload.error});default:return console.warn("Action provided did not matched",t),e}}var jr={isWritingMode:!0,loading:!0,error:"",worksheet:void 0,savingWorksheet:!1};function br(){if(!Ee()){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}function ur(){Ee()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}var hr=function(){var e,t,r=Object(h.g)(),n=Object(w.a)(),c=Object(h.i)().id,s=ot(),i=Xt(),o=Object(y.a)(i,2),l=o[0],d=o[1],j=function(e){return Object(a.useCallback)((function(t){var r=Object(y.a)(t,2),a=r[0],n=r[1],c=[];if(tt.g.isText(a)&&"word-order-exercise-paragraph"===tt.c.parent(e,n).type){var s=a.text.split("/"),i=0;s.forEach((function(e,t){0!==t&&c.push({anchor:{path:n,offset:i-1},focus:{path:n,offset:i},division:!0}),i=i+e.length+1}))}return c}),[e])}(s),b=Object(a.useReducer)(dr,jr),u=Object(y.a)(b,2),x=u[0],O=u[1],f=x.worksheet,m=x.loading,C=x.error,S=x.isWritingMode,F=x.savingWorksheet,W=Yt();function q(e){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(g.a.mark((function e(t){var r,a,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.property,O({type:nr}),a={property:r,value:x.worksheet[r],author:x.worksheet.author},"content"===r&&(a.value=JSON.stringify(x.worksheet[r])),e.prev=4,e.next=7,fetch("/api/activities/".concat(c),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 7:return s=e.sent,e.next=10,s.json();case 10:i=e.sent,console.log(i),O({type:cr}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),n({position:J?"top-right":"bottom",title:"Error al guardar actividad",status:"error",duration:5e3,isClosable:!0});case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function V(e){document.body.style.zoom="100%",e.target.blur(),setTimeout((function(){window.print()}),500)}Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/activities/".concat(c));case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,404!==t.status){e.next=9;break}return r.push("/worksheets/404"),e.abrupt("return");case 9:if(!t.ok){e.next=12;break}return O({type:or,payload:{worksheet:Ae(a)}}),e.abrupt("return");case 12:n({description:a.message,status:"error",isClosable:!0});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c,n,r]);var B=(null===x||void 0===x||null===(e=x.worksheet)||void 0===e?void 0:e.title)?"LangSheets | ".concat(null===x||void 0===x||null===(t=x.worksheet)||void 0===t?void 0:t.title):"LangSheets";Se(B);var Z=window.location.host,H=Object($.a)("(min-width: 1024px)"),J=Object(y.a)(H,1)[0];return Object(p.jsxs)(Te.c,{editor:s,value:m?[{children:[{text:"Cargando..."}]}]:C?[{children:[{text:""}]}]:f.content,onChange:function(e){return O({type:ir,payload:{property:"content",value:e}})},children:[J?Object(p.jsxs)(z.a,{h:"100vh",templateColumns:"repeat(12, 1fr)",templateRows:"auto 1fr",children:[Object(p.jsx)(z.b,{rowSpan:2,colSpan:1,bg:"#05043E",py:"10",position:"sticky",top:"0",zIndex:"docked",sx:{"@media print":{display:"none"}},children:Object(p.jsx)(Me,{handlePrint:V,id:c})}),Object(p.jsxs)(z.b,{rowSpan:1,colSpan:11,sx:{"@media print":{display:"none"}},children:[m&&Object(p.jsx)(k.a,{size:"sm",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),Object(p.jsxs)(z.a,{gridTemplateRows:"auto auto auto",gridTemplateColumns:"50px 1fr auto",h:"full",bg:"white",children:[Object(p.jsx)(z.b,{rowSpan:"1",colSpan:"1",display:"grid",placeItems:"center",children:Object(p.jsx)(I.a,{as:"a",href:"/dashboard",mx:"4",children:Object(p.jsx)(L.a,{as:D.e})})}),Object(p.jsxs)(z.b,{rowSpan:"1",display:"flex",flexDirection:"row",alignItems:"center",pt:"2",children:[Object(p.jsx)(A.a,{isLoaded:!m,children:Object(p.jsx)(Be,{updateWorksheetProp:q,dispatch:O,title:f?f.title:""})}),!m&&Object(p.jsx)(P.a,{ml:"5",variant:"ghost",size:"sm",rightIcon:F?Object(p.jsx)(Ze.a,{}):Object(p.jsx)(L.a,{color:"green.500",as:D.i}),children:F?"Guardando Actividad":"Cambios guardados"})]}),Object(p.jsx)(z.b,{display:"flex",alignItems:"center",px:"4",colStart:3,rowSpan:2,children:Object(p.jsx)(R.a,{children:Object(p.jsxs)(P.a,{colorScheme:"brand",children:[Object(p.jsx)(L.a,{as:D.k,mr:"2"}),"Publicar"]})})}),Object(p.jsx)(z.b,{py:"2",colStart:2,rowSpan:"1",display:"inline-flex",alignItems:"center",children:Object(p.jsx)(rr,{})}),Object(p.jsx)(z.b,{py:"2",px:"5",colSpan:3,width:"full",borderTop:"2px solid var(--chakra-colors-gray-100)",children:Object(p.jsx)(R.a,{as:I.a,alignItems:"center",children:Object(p.jsx)(ar,{})})})]})]}),Object(p.jsx)(z.b,{rowSpan:1,colSpan:8,p:"12",bg:"gray.100",sx:{"@media print":{gridColumn:"span 12/span 12",gridRow:"span 2/span 2"}},onBlur:function(){return q({property:"content"})},children:Object(p.jsx)(A.a,{isLoaded:!m,children:Object(p.jsx)(Ke,{decorate:j,renderElement:d,renderLeaf:l,readOnly:!S,placeholder:"Escribe aqu\xed..."})})}),Object(p.jsxs)(z.b,{rowSpan:1,colSpan:3,sx:{"@media print":{display:"none"}},children:[Object(p.jsx)(He.a,{}),Object(p.jsxs)(De.a,{p:"4",children:[Object(p.jsx)(E.a,{fontWeight:"semibold",fontSize:"lg",children:"Detalles de la actividad"}),!m&&!C&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(Ye,{updateWorksheetProp:q,dispatch:O,lang:f.lang}),Object(p.jsx)($e,{updateWorksheetProp:q,dispatch:O,isPublic:f.published})]})]}),Object(p.jsx)(He.a,{}),Object(p.jsxs)(De.a,{p:"4",children:[Object(p.jsx)(E.a,{fontWeight:"semibold",fontSize:"lg",children:"Ajustes"}),Object(p.jsxs)(E.a,{my:"2",children:["Modo de edici\xf3n: ",Object(p.jsx)(Je.a,{colorScheme:"brand",ml:"4",isChecked:S,onChange:function(){return O({type:"toggle-writting-mode"})}})]})]})]})]}):Object(p.jsxs)(I.a,{flexDir:"column",minH:"100vh",children:[m&&Object(p.jsx)(k.a,{size:"sm",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),Object(p.jsxs)(I.a,{py:"2",px:"4",alignItems:"center",children:[Object(p.jsxs)(I.a,{flexGrow:"1",alignItems:"center",children:[Object(p.jsx)(A.a,{isLoaded:!m,children:Object(p.jsx)(Be,{updateWorksheetProp:q,dispatch:O,title:f?f.title:""})}),!m&&Object(p.jsxs)(_e.a,{children:[Object(p.jsx)(_e.f,{children:Object(p.jsx)(P.a,{ml:"5",variant:"ghost",size:"sm",children:F?Object(p.jsx)(Ze.a,{}):Object(p.jsx)(L.a,{color:"green.500",as:D.i})})}),Object(p.jsx)(_e.d,{p:"2",boxShadow:"base",children:F?"Guardando cambios":"Cambios guardados"})]})]}),Object(p.jsxs)(ee.a,{children:[Object(p.jsx)(ee.b,{variant:"ghost",colorScheme:"brand",icon:Object(p.jsx)(L.a,{as:_.b}),as:N.a}),Object(p.jsxs)(ee.f,{children:[Object(p.jsx)(ee.d,{title:"Actividad",children:Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.a,{color:"brand.500",as:D.k}),children:"Publicar Actividad"})}),Object(p.jsx)(ee.c,{}),Object(p.jsx)(ee.d,{title:"Ver",children:W?Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.a,{as:et.b}),onClick:ur,children:"Vista normal"}):Object(p.jsx)(ee.e,{icon:Object(p.jsx)(L.a,{as:et.a}),onClick:br,children:"Pantalla completa"})})]})]})]}),Object(p.jsx)(He.a,{}),Object(p.jsx)(De.a,{flexGrow:"1",bg:"gray.100",p:"4",boxShadow:"base",children:Object(p.jsx)(A.a,{height:"full",isLoaded:!m,children:Object(p.jsx)(Ke,{decorate:j,renderElement:d,renderLeaf:l,readOnly:!S,placeholder:"Escribe aqu\xed..."})})}),s.selection&&Object(p.jsx)(Ge.a,{direction:"bottom",in:s.selection,style:{zIndex:50,boxShadow:"var(--chakra-shadows-dark-lg)"},children:Object(p.jsxs)(I.a,{pr:"30vw",w:"100vw",color:"#616161",bg:"white",alignItems:"center",height:"50px",children:[Object(p.jsx)(I.a,{width:"full",height:"full",overflowX:"auto",alignItems:"center",children:Object(p.jsx)(ar,{})}),Object(p.jsxs)(I.a,{height:"full",position:"fixed",bottom:"0",right:"0",alignItems:"center",children:[Object(p.jsx)(He.a,{orientation:"vertical"}),Object(p.jsx)(N.a,{bg:"white",borderRadius:"none",height:"full",onClick:function(){tt.h.deselect(s)},variant:"ghost",colorScheme:"brand",icon:Object(p.jsx)(L.a,{as:M.b})}),Object(p.jsx)(He.a,{orientation:"vertical"}),Object(p.jsx)(N.a,{variant:"ghost",borderRadius:"none",height:"full",colorScheme:"brand",icon:Object(p.jsx)(L.a,{as:D.j})})]})]})}),!s.selection&&Object(p.jsx)(Ge.a,{direction:"bottom",in:!s.selection,style:{zIndex:150},children:Object(p.jsxs)(De.a,{color:"white",display:"flex",bg:"#05043E",alignItems:"center",width:"100%",justifyContent:"space-around",children:[Object(p.jsxs)(I.a,{onClick:V,flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(p.jsx)(L.a,{w:6,h:6,as:D.o}),Object(p.jsx)(E.a,{fontSize:"x-small",children:"Imprimir"})]}),Object(p.jsxs)(I.a,{flexDir:"column",alignItems:"center",as:"a",href:"/dashboard",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(p.jsx)(L.a,{w:6,h:6,as:D.m}),Object(p.jsx)(E.a,{fontSize:"x-small",children:"Inicio"})]}),Object(p.jsxs)(I.a,{flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(p.jsx)(L.a,{w:6,h:6,as:D.g}),Object(p.jsx)(E.a,{fontSize:"x-small",children:"Previsualizar"})]})]})})]}),Object(p.jsxs)(I.a,{display:"none",flexDirection:"column",alignItems:"flex-start",position:"fixed",zIndex:"banner",bottom:"0.5",width:"full",sx:{"@media print":{display:"flex"}},children:[Object(p.jsx)(L.a,{as:ye}),Object(p.jsxs)(E.a,{fontSize:"smaller",children:[" ",Z,"/worksheets/",c,"/practice "]})]})]})},pr=r(434),xr=r(450),Or=function(){var e=Re().user;return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsxs)(De.a,{px:"10",children:[Object(p.jsxs)(I.a,{mx:"auto",justifyContent:"space-between",alignItems:"center",py:"5",children:[Object(p.jsx)(ye,{}),e?Object(p.jsx)(P.a,{as:"a",href:"/dashboard",colorScheme:"brand",variant:"solid",children:"Mis actividades"}):Object(p.jsxs)(R.a,{spacing:"5",children:[Object(p.jsx)(P.a,{as:"a",href:"/login",colorScheme:"brand",variant:"outline",children:"Iniciar Sesi\xf3n"}),Object(p.jsx)(P.a,{as:"a",href:"/signup",variant:"solid",colorScheme:"brand",children:"Crear Cuenta"})]})]}),Object(p.jsxs)(I.a,{flexDirection:["column","row"],alignItems:"center",my:"5",children:[Object(p.jsxs)(De.a,{w:"40%",children:[Object(p.jsxs)(E.a,{lineHeight:"8",textAlign:["center","left"],children:[Object(p.jsx)(E.a,{as:"span",fontWeight:"bold",fontSize:"xxx-large",children:"Actividades digitales"})," ",Object(p.jsx)(E.a,{as:"span",color:"brand.300",fontWeight:"bold",fontSize:"xxx-large",children:"Interactivas"})]}),Object(p.jsx)(E.a,{fontSize:"x-large",children:"para entornos virtuales de aprendizaje."}),e?Object(p.jsx)(P.a,{my:"5",size:"lg",as:"a",href:"/dashboard",colorScheme:"brand",variant:"solid",children:"Mis actividades"}):Object(p.jsx)(P.a,{my:"5",size:"lg",as:"a",href:"/signup",variant:"solid",colorScheme:"brand",children:"Pru\xe9balo gratis"})]}),Object(p.jsx)(pr.a,{w:"60%",objectFit:"cover",src:"/hero.svg"})]})]}),Object(p.jsx)(I.a,{my:"5",p:"10",w:"full",position:"relative",alignItems:"center",children:Object(p.jsxs)(De.a,{mt:"80",mx:"auto",width:"container.xl",children:[Object(p.jsxs)(De.a,{w:"40%",children:[Object(p.jsx)(E.a,{color:"brand.300",fontWeight:"bold",fontSize:"xx-large",my:"10",children:"\xbfC\xf3mo funciona?"}),Object(p.jsxs)(xr.a,{spacing:"5",children:[Object(p.jsxs)(I.a,{children:[Object(p.jsx)(De.b,{fontSize:"x-large",fontWeight:"bold",size:"50px",bg:"brand.300",color:"white",children:"1"}),Object(p.jsxs)(De.a,{ml:"5",children:[Object(p.jsx)(E.a,{fontSize:"x-large",fontWeight:"bold",children:"Crea una actividad"}),Object(p.jsx)(E.a,{children:"Elige una plantilla o comienza una actividad desde cero. Inserta el contenido que necesites (im\xe1genes, videos etc.)"})]})]}),Object(p.jsxs)(I.a,{children:[Object(p.jsx)(De.b,{fontSize:"x-large",fontWeight:"bold",size:"50px",bg:"brand.300",color:"white",children:"2"}),Object(p.jsxs)(De.a,{ml:"5",children:[Object(p.jsx)(E.a,{fontSize:"x-large",fontWeight:"bold",children:"Publica tu actividad"}),Object(p.jsx)(E.a,{children:"Cambia el estado de tu actividad de borrador a publicado en un solo click."})]})]}),Object(p.jsxs)(I.a,{children:[Object(p.jsx)(De.b,{fontSize:"x-large",fontWeight:"bold",size:"50px",bg:"brand.300",color:"white",children:"2"}),Object(p.jsxs)(De.a,{ml:"5",children:[Object(p.jsx)(E.a,{fontSize:"x-large",fontWeight:"bold",children:"Comparte el link de tu actividad"}),Object(p.jsx)(E.a,{children:"Por cada actividad creada un link \xfanico ser\xe1 generado para que los alumnos puedan realizar las actividades en tiempo real."})]})]})]})]}),Object(p.jsx)(pr.a,{position:"absolute",top:"0.5",right:"0.5",src:"/figurebg.svg"}),Object(p.jsx)(pr.a,{position:"absolute",right:"425px",top:"310px",title:"Crea una actividad",src:"/figure1.svg"}),Object(p.jsx)(pr.a,{position:"absolute",right:"400px",top:"700px",title:"Comparte una actividad",src:"/figure2.svg"}),Object(p.jsx)(pr.a,{position:"absolute",right:"103px",top:"470px",title:"Publica una actividad",src:"/figure3.svg"})]})})]})},fr=r(435),mr=r(233),gr={users:[],username:void 0,worksheet:{title:"",content:[{type:"paragraph",children:[{text:""}]}]}};function vr(e,t){switch(t.type){case"set-username":return Object(d.a)(Object(d.a)({},e),{},{username:t.payload.username});case"set-worksheet":return Object(d.a)(Object(d.a)({},e),{},{worksheet:t.payload.worksheet});case"set-worksheet-content":return Object(d.a)(Object(d.a)({},e),{},{worksheet:Object(d.a)(Object(d.a)({},e.worksheet),{},{content:t.payload.content})});case"add-user":return Object(d.a)(Object(d.a)({},e),{},{users:[].concat(Object(f.a)(e.users),[t.payload.user])});case"set-users":return Object(d.a)(Object(d.a)({},e),{},{users:t.payload.users});default:return console.warn("Action provided did not matched",t),e}}var yr=function(e){var t=e.dispatch,r=Object(w.a)(),n=Object(a.useRef)();function c(){var e=n.current.value;if(""!==e.trim())return localStorage.setItem("ls-username",e),void t({type:"set-username",payload:{username:e}});r({description:"Debes elegir un nombre v\xe1lido",status:"warning",duration:8e3,position:"top-right",isClosable:!0})}return Object(p.jsx)(I.a,{bg:"gray.100",h:"100vh",alignItems:"center",justifyContent:"center",children:Object(p.jsxs)(I.a,{flexDir:"column",bg:"white",px:"10",py:"5",boxShadow:"base",borderRadius:"base",alignItems:"center",justifyContent:"center",children:[Object(p.jsx)(E.a,{fontSize:"x-large",my:"4",children:"Ingresa tu nombre"}),Object(p.jsx)(jt.a,{onSubmit:c,size:"lg",ref:n,variant:"filled",my:"4",placeholder:"Escribe un nombre"}),Object(p.jsx)(P.a,{variant:"solid",colorScheme:"brand",my:"4",onClick:c,children:"Aceptar"})]})})},wr=function(e){var t=e.users,r=e.worksheet,n=e.dispatch,c=e.editor,s=e.renderLeaf,i=e.renderElement;return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsxs)(I.a,{py:"2",children:[Object(p.jsx)(E.a,{flexGrow:"1",color:"brand.600",px:"4",fontSize:"x-large",fontWeight:"bold",children:r.title}),Object(p.jsx)(I.a,{justifyContent:"flex-end",alignItems:"center",px:"4",children:Object(p.jsx)(Cr,{users:t})})]}),Object(p.jsx)(De.a,{children:Object(p.jsx)(S.a,{maxWidth:"container.lg",my:"4",children:Object(p.jsx)(ft.Provider,{value:Ot,children:Object(p.jsx)(Te.c,{editor:c,value:r.content,onChange:function(e){return n({type:"set-worksheet-content",payload:{content:e}})},children:Object(p.jsx)(De.a,{background:"white",px:["8","16"],py:"16",as:Te.a,shadow:"sm",renderElement:i,renderLeaf:s,readOnly:!0})})})})})]})},kr=function(e){var t=e.username,r=e.users,n=e.worksheet,c=e.dispatch,s=e.editor,i=e.renderLeaf,o=e.renderElement;return t?Object(p.jsxs)(a.Fragment,{children:[Object(p.jsxs)(I.a,{py:"2",children:[Object(p.jsx)(E.a,{flexGrow:"1",color:"brand.600",px:"4",fontSize:"x-large",fontWeight:"bold",children:n.title}),Object(p.jsx)(I.a,{justifyContent:"flex-end",alignItems:"center",px:"4",children:Object(p.jsx)(Cr,{users:r})})]}),Object(p.jsx)(De.a,{children:Object(p.jsx)(S.a,{maxWidth:"container.lg",my:"4",children:Object(p.jsx)(ft.Provider,{value:Ot,children:Object(p.jsx)(Te.c,{editor:s,value:n.content,onChange:function(e){return c({type:"set-worksheet-content",payload:{content:e}})},children:Object(p.jsx)(De.a,{background:"white",px:["8","16"],py:"16",as:Te.a,shadow:"sm",renderElement:o,renderLeaf:i,readOnly:!0})})})})})]}):Object(p.jsx)(yr,{dispatch:c})},Cr=function(e){var t=e.users;return Object(p.jsx)(fr.a,{size:"sm",max:3,children:t.map((function(e){var t=e.username,r=e.userID;return Object(p.jsx)(mr.a,{bg:"brand.500",color:"white",name:t,src:Object(p.jsx)(D.s,{}),title:t},r)}))})},Sr=function(){var e=Object(h.i)().id,t=Re(),r=t.user,n=t.loading,c=ot(),s=Xt(),i=Object(y.a)(s,2),o=i[0],l=i[1],b=Object(a.useReducer)(vr,gr),u=Object(y.a)(b,2),x=u[0],O=u[1],f=x.username,m=x.users,k=x.worksheet,C=Object(w.a)();return Object(a.useEffect)((function(){function t(){return(t=Object(v.a)(g.a.mark((function t(){var r,a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/activities/".concat(e));case 2:return r=t.sent,t.next=5,r.json();case 5:a=t.sent,r.ok&&(n=Ae(a),O({type:"set-worksheet",payload:{worksheet:n}}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(a.useEffect)((function(){var e=localStorage.getItem("ls-username");!n&&r&&(e="".concat(r.name," ").concat(r.lastName)),O({type:"set-username",payload:{username:e}})}),[n]),Object(a.useEffect)((function(){f&&(Ot.auth={username:f},Ot.connect(),Ot.emit("join-room",e))}),[e,f]),Object(a.useEffect)((function(){return Ot.on("users",(function(e){O({type:"set-users",payload:{users:e}})})),Ot.on("user-connected",(function(e){C({description:"".concat(e.username," ha ingresado a la actividad."),status:"info",duration:3e3,position:"top-right",isClosable:!0}),O({type:"add-user",payload:{user:e}})})),Ot.on("send-updated-content",(function(e){Ot.emit("send-updated-content",e,k.content)})),Ot.on("user-disconnected",(function(e){var t=e.username,r=e.users;C({description:"".concat(t," ha salido de la actividad."),status:"info",duration:3e3,position:"top-right",isClosable:!0}),O({type:"set-users",payload:{users:r}})})),Ot.on("action",(function(e){if(0!==c.children.length){var t=e.path,r=Object(j.a)(e,["path"]);switch(r.type){case"update-content":console.log(r.content),O({type:"set-worksheet-content",payload:{content:r.content}});break;case"set-leaf-props":tt.h.setNodes(c,Object(d.a)({},r.props),{at:t});break;case"input-focused":tt.h.setNodes(c,{focused:!0,user:r.user},{at:t});break;case"input-blured":tt.h.setNodes(c,{focused:!1},{at:t})}}})),Ot.on("connection_error",(function(t){switch(t.message){case"invalid username":C({description:"Debes elegir un nombre v\xe1lido",status:"warning",duration:8e3,position:"top-right",isClosable:!0});break;case"invalid room":Ot.emit("join-room",e)}})),function(){Ot.offAny(),Ot.off("send-updated-content"),Ot.off("users"),Ot.off("user-connected"),Ot.off("user-disconnected"),Ot.off("action"),Ot.off("connection_error")}}),[e,k,c,C]),Q("var(--chakra-colors-gray-100)"),Se("LangSheets | ".concat(k.title)),Object(p.jsx)(ft.Provider,{value:Ot,children:!n&&r?Object(p.jsx)(wr,{users:m,worksheet:k,dispatch:O,editor:c,renderLeaf:o,renderElement:l,activityID:e}):Object(p.jsx)(kr,{username:f,users:m,worksheet:k,dispatch:O,editor:c,renderLeaf:o,renderElement:l,activityID:e})})},Er=function(){return Se("P\xe1gina no encontrada"),Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ke,{}),Object(p.jsxs)(I.a,{alignItems:"center",flexDirection:"column",justifyContent:"center",textAlign:"center",height:"100vh",children:[Object(p.jsx)(E.a,{fontSize:"6xl",children:"404"}),Object(p.jsx)(E.a,{fontSize:"4xl",children:"Page not founded"})]})]})},zr=r(104),Ar=r(436),Ir={name:"",lastName:"",email:"",password:"",password2:"",error:void 0},Pr=function(){var e=Re(),t=e.login,r=e.signUp,n=e.loading,c=Object(h.g)(),s=Object(a.useState)(Ir),i=Object(y.a)(s,2),o=i[0],l=i[1],j=o.name,b=o.lastName,u=o.email,x=o.password,O=o.password2,f=o.error;function m(e,t){var r=Object(d.a)({},o);r[e]=t,l(r)}function w(){return(w=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o.password===o.password2){e.next=7;break}return(n=Object(d.a)({},o)).password2="",n.error="Las contrase\xf1as no coinciden",l(n),e.abrupt("return");case 7:return e.next=9,r(o.name,o.lastName,o.email,o.password);case 9:return e.next=11,t(o.email,o.password);case 11:c.push("/dashboard");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(z.a,{h:"100vh",placeItems:"center",templateColumns:["1fr","repeat(2, 1fr)"],w:"100vw",children:[Object(p.jsxs)(De.a,{children:[Object(p.jsx)(pr.a,{src:"/Online_collaboration.png"}),Object(p.jsx)(E.a,{px:"4",textAlign:"center",fontSize:"x-large",fontWeight:"semibold",color:"brand.700",children:"Lleva la interacci\xf3n de tus clases al siguiente nivel"})]}),Object(p.jsx)(De.a,{w:"md",textAlign:"center",px:"10",children:Object(p.jsx)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:Object(p.jsxs)(xr.a,{spacing:"4",children:[Object(p.jsx)(ye,{}),Object(p.jsxs)(zr.a,{isRequired:!0,mr:"4",children:[Object(p.jsx)(Ar.a,{children:"Nombre (s)"}),Object(p.jsx)(jt.a,{autoFocus:!0,value:j,onChange:function(e){return m("name",e.target.value)},placeholder:"Armando"})]}),Object(p.jsxs)(zr.a,{isRequired:!0,children:[Object(p.jsx)(Ar.a,{children:"Apellido (s)"}),Object(p.jsx)(jt.a,{value:b,onChange:function(e){return m("lastName",e.target.value)},placeholder:"S\xe1nchez"})]}),Object(p.jsxs)(zr.a,{isRequired:!0,children:[Object(p.jsx)(Ar.a,{children:"Correo"}),Object(p.jsx)(jt.a,{value:u,onChange:function(e){return m("email",e.target.value)},placeholder:"email@provider.com"})]}),Object(p.jsxs)(zr.a,{isRequired:!0,children:[Object(p.jsx)(Ar.a,{children:"Contrase\xf1a"}),Object(p.jsx)(jt.a,{value:x,onChange:function(e){return m("password",e.target.value)},type:"password"})]}),Object(p.jsxs)(zr.a,{isRequired:!0,children:[Object(p.jsx)(Ar.a,{children:"Confirma tu contrase\xf1a"}),Object(p.jsx)(jt.a,{value:O,onChange:function(e){return m("password2",e.target.value)},type:"password"})]}),f&&Object(p.jsxs)(C.a,{status:"error",children:[Object(p.jsx)(C.c,{}),f]}),Object(p.jsx)(P.a,{isLoading:n,type:"submit",colorScheme:"brand",variant:"solid",children:"Crear Cuenta"}),Object(p.jsxs)(E.a,{textAlign:"center",children:["\xbfYa tienes una cuenta? Inicia sesi\xf3n ",Object(p.jsx)(E.a,{color:"brand",textDecoration:"underline",as:"a",href:"/login",children:" aqu\xed "})]})]})})})]})},Lr={email:"",password:""};var Fr=function(){var e=Object(h.g)(),t=Object(a.useState)(Lr),r=Object(y.a)(t,2),n=r[0],c=r[1],s=n.email,i=n.password,o=Re(),l=o.login,j=o.loading,b=o.error;function u(e,t){var r=Object(d.a)({},n);r[e]=t,c(r)}function x(){return(x=Object(v.a)(g.a.mark((function t(r){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,l(n.email,n.password);case 3:e.push("/dashboard");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsx)(De.a,{as:"form",bg:"gray.100",onSubmit:function(e){return x.apply(this,arguments)},display:"flex",alignItems:"center",justifyContent:"center",h:"100vh",flexDirection:"column",children:Object(p.jsxs)(xr.a,{spacing:"8",bg:"white",shadow:"base",w:["80vw","50vw","40vw"],p:["8","10"],children:[Object(p.jsx)(ye,{}),Object(p.jsxs)(zr.a,{isRequired:!0,children:[Object(p.jsx)(Ar.a,{children:"Correo"}),Object(p.jsx)(jt.a,{autoFocus:!0,value:s,onChange:function(e){return u("email",e.target.value)},placeholder:"email@provider.com"})]}),Object(p.jsxs)(zr.a,{isRequired:!0,children:[Object(p.jsx)(Ar.a,{children:"Contrase\xf1a"}),Object(p.jsx)(jt.a,{value:i,onChange:function(e){return u("password",e.target.value)},placeholder:"password",type:"password"})]}),b&&Object(p.jsxs)(C.a,{status:"error",children:[Object(p.jsx)(C.c,{}),b.message]}),Object(p.jsx)(P.a,{isLoading:j,type:"submit",colorScheme:"brand",variant:"solid",children:"Iniciar Sesi\xf3n"}),Object(p.jsxs)(E.a,{textAlign:"center",children:["\xbfAun no tienes una cuenta? Crea tu cuenta ",Object(p.jsx)(E.a,{color:"brand",textDecoration:"underline",as:"a",href:"/signUp",children:" aqu\xed "})]})]})})};var Rr=function(){return Object(p.jsx)(l.a,{theme:o,children:Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(O.a,{children:Object(p.jsxs)(h.d,{children:[Object(p.jsx)(h.b,{exact:!0,path:"/",component:Or}),Object(p.jsx)(x,{path:"/dashboard",redirectTo:"/login",component:qe}),Object(p.jsx)(h.b,{path:"/login",component:Fr}),Object(p.jsx)(h.b,{path:"/signup",component:Pr}),Object(p.jsx)(x,{path:"/worksheets/:id/edit",type:"user",redirectTo:"/login",component:hr}),Object(p.jsx)(h.b,{path:"/worksheets/:id/practice",component:Sr}),Object(p.jsx)(h.b,{path:"*",component:Er})]})})})})},Wr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,451)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))};s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(Fe,{children:Object(p.jsx)(Rr,{})})}),document.getElementById("root")),Wr()}},[[392,1,2]]]);
//# sourceMappingURL=main.99f826b8.chunk.js.map