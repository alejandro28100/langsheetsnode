(this.webpackJsonplangsheets=this.webpackJsonplangsheets||[]).push([[0],{387:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(35),i=r.n(c),s=r(434),o=r(404),l=Object(o.a)({colors:{brand:{50:"#eaeaff",100:"#c2c2f3",200:"#9b9ae6",300:"#7371da",400:"#4c48cf",500:"#332fb6",600:"#27258e",700:"#1b1a66",800:"#0f1040",900:"#06041a"}}}),d=r(14),j=r(15),b=r.n(j),u=r(70),h=r(3),p=r(7),x=r(25),O=r(432),f=r(439),m=r(441),g=r(419),v=r(407),y=r(420),w=r(435),k=r(405),C=r(230),S=r(389),E=r(408),A=r(217),z=r(438),I=r(412),P=r(413),L=r(64),F=r(18),R=r(101),N=r(66),q=r(216),W=r(2),M={es:"Espa\xf1ol",en:"Ingl\xe9s",fr:"Franc\xe9s",ru:"Ruso",de:"Alem\xe1n",ja:"Japon\xe9s",zh:"Chino"};function T(e){var t=e.lang,r=e.title,n=e._id,c=(e.createdAt,e.deleteSheet),i=e.isPublic,s=Object(a.useState)(!1),o=Object(h.a)(s,2),l=o[0],d=o[1],j=function(){return d(!1)},b=Object(a.useRef)();return Object(W.jsxs)(a.Fragment,{children:[Object(W.jsxs)(k.a,{boxShadow:"base",background:"white",height:"40",borderRadius:"xl",width:"full",children:[Object(W.jsxs)(k.a,{padding:"5",flexDirection:"column",children:[Object(W.jsx)(v.a,{title:""===r?"Sin t\xedtulo":r,noOfLines:2,fontFamily:"sans-serif",fontSize:"large",fontWeight:"semibold",children:""===r?"Sin t\xedtulo":r}),Object(W.jsx)(E.a,{}),M[t]&&Object(W.jsxs)(v.a,{children:[Object(W.jsx)(S.a,{mr:"2",as:q.a}),M[t]]}),Object(W.jsxs)(v.a,{noOfLines:1,title:"Actividad ".concat(i?"P\xfablica":"Privada"),children:[Object(W.jsx)(S.a,{mr:"2",as:i?R.c:N.c}),"Actividad ",i?"P\xfablica":"Privada"]})]}),Object(W.jsx)(E.a,{}),Object(W.jsx)(k.a,{pr:"5",py:"5",children:Object(W.jsxs)(A.a,{as:k.a,flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",spacing:"0",size:"lg",colorScheme:"brand",variant:"ghost",children:[Object(W.jsx)(z.a,{hasArrow:!0,label:"Comenzar Actividad",children:Object(W.jsx)(I.a,{as:"a",href:"/worksheets/".concat(n,"/practice"),icon:Object(W.jsx)(S.a,{as:F.g})})}),Object(W.jsx)(z.a,{hasArrow:!0,label:"Editar Actividad",children:Object(W.jsx)(I.a,{as:"a",href:"/worksheets/".concat(n,"/edit"),icon:Object(W.jsx)(S.a,{as:N.b})})}),Object(W.jsx)(z.a,{hasArrow:!0,label:"Eliminar Actividad",children:Object(W.jsx)(I.a,{onClick:function(e){return d(!0)},icon:Object(W.jsx)(S.a,{as:R.a})})})]})})]}),Object(W.jsx)(P.a,{isOpen:l,leastDestructiveRef:b,onClose:j,children:Object(W.jsx)(L.f,{children:Object(W.jsxs)(P.b,{children:[Object(W.jsx)(L.e,{fontSize:"lg",fontWeight:"bold",children:"Eliminar Actividad"}),Object(W.jsx)(L.b,{children:"\xbfEst\xe1s seguro de querer borrar esta actividad? Esta acci\xf3n es irreversible."}),Object(W.jsxs)(L.d,{children:[Object(W.jsx)(C.a,{ref:b,onClick:j,children:"Cancelar"}),Object(W.jsx)(C.a,{colorScheme:"red",onClick:function(e){return c(n)},ml:3,children:"Eliminar"})]})]})})})]})}T.defaultProps={lang:"",isPublic:!0};var D=T,V=r(77),Z=r(34),H=r.n(Z),B=function(e){Object(a.useEffect)((function(){document.body.style.background=e}),[e])};B.propTypes={backgroundColor:H.a.string.isRequired};var _,J,G=B,K=r(416),U=r(433);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Y(e,t){var r=e.title,n=e.titleId,c=Q(e,["title","titleId"]);return a.createElement("svg",X({width:70,height:78,viewBox:"0 0 70 78",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,_||(_=a.createElement("g",{clipPath:"url(#clip0)"},a.createElement("path",{d:"M69.7126 21.9061L55.7683 3.7113L29.024 0.0596367C25.5601 -0.413512 22.3645 1.97751 21.8856 5.39973L14.2604 59.911C13.7815 63.3332 16.2016 66.4903 19.6655 66.9635L56.4828 71.9905C59.9467 72.4636 63.1423 70.0726 63.6212 66.6504L69.8733 21.9541L69.7126 21.9061Z",fill:"#605EC5"}),a.createElement("path",{d:"M69.8201 21.991L53.7102 19.7918L55.9559 3.73657L69.8201 21.991Z",fill:"#8987DE"}),a.createElement("path",{d:"M57.2476 29.9889L30.5532 26.3441L30.0225 30.138L56.7169 33.7828L57.2476 29.9889Z",fill:"white"}),a.createElement("path",{d:"M55.9146 39.52L29.2202 35.8752L28.6895 39.6692L55.3839 43.3139L55.9146 39.52Z",fill:"white"}),a.createElement("path",{d:"M27.8744 45.4979L27.4214 48.7365L50.65 51.908L51.103 48.6695L27.8744 45.4979Z",fill:"white"}),a.createElement("path",{d:"M49.6339 26.3764L33.2997 10.2388H6.3008C2.80408 10.2388 -0.0300293 13.0394 -0.0300293 16.4934V71.5224C-0.0300293 74.9771 2.80474 77.777 6.3008 77.777H43.4684C46.9651 77.777 49.7992 74.9764 49.7992 71.5224V26.4016L49.6339 26.3764Z",fill:"#252388"}),a.createElement("path",{d:"M49.752 26.4463H33.4893V10.2388L49.752 26.4463Z",fill:"#4846AE"}),a.createElement("path",{d:"M38.4054 36.0681H11.4578V39.8981H38.4054V36.0681Z",fill:"white"}),a.createElement("path",{d:"M38.4054 45.6899H11.4578V49.5198H38.4054V45.6899Z",fill:"white"}),a.createElement("path",{d:"M34.9068 55.4049H11.4578V58.6742H34.9068V55.4049Z",fill:"white"}))),J||(J=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0"},a.createElement("rect",{width:70,height:77.7778,fill:"white"})))))}var $,ee,te,re,ae=a.forwardRef(Y);r.p;function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ie(e,t){var r=e.title,n=e.titleId,c=ce(e,["title","titleId"]);return a.createElement("svg",ne({id:"Capa_2","data-name":"Capa 2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 16",stroke:"currentColor",fill:"currentColor",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,$||($=a.createElement("path",{d:"M16.14,13.06c-.39,0-.74-.5-1-1.51a19.28,19.28,0,0,1-.42-2c-.43.06-1,.17-1.71.32l-1.69.35c-.22.56-.58,1.38-1.1,2.45a.61.61,0,0,1-.55.36.7.7,0,0,1-.46-.19.61.61,0,0,1-.2-.46A11.73,11.73,0,0,1,10,10a.7.7,0,0,1-.1-.38c0-.35.2-.57.62-.67.49-.91,1.1-2,1.84-3.14,1-1.61,1.64-2.42,1.89-2.42s.56.23.69.7l.4,2.15.95,4.44.36,1a2.39,2.39,0,0,1,.19.69.63.63,0,0,1-.2.46A.64.64,0,0,1,16.14,13.06Zm-2.26-7.3-1.82,3q.76-.21,2.34-.48Z"})),ee||(ee=a.createElement("path",{className:"cls-1",d:"M23.38,12.61a10.06,10.06,0,0,1-3.67.57.71.71,0,0,1-.52-.26.77.77,0,0,1-.25-.54V10.53q0-.91.12-2.61c.08-1.22.13-2.1.14-2.64s0-1,.07-1.75a.57.57,0,0,1,.21-.43,7,7,0,0,1,2-.26,3.58,3.58,0,0,1,2.16.76A2.65,2.65,0,0,1,24.8,5.78a3.05,3.05,0,0,1-1.27,2.59,4.4,4.4,0,0,1,1.43.9,1.57,1.57,0,0,1,.48,1.09,2,2,0,0,1-.84,1.49A4.11,4.11,0,0,1,23.38,12.61ZM22.17,9.25l-.68-.1H21a4.84,4.84,0,0,1-.74-.05c0,.53,0,1,0,1.43v1.33a8.26,8.26,0,0,0,2.73-.48,2.71,2.71,0,0,0,.86-.53c.26-.22.39-.39.39-.5s-.28-.43-.82-.68A7.17,7.17,0,0,0,22.17,9.25Zm-.72-5.11a7.5,7.5,0,0,0-1,0V5.3l-.13,2.47c.61.05.93.08,1,.07a2.67,2.67,0,0,0,1.58-.6,1.83,1.83,0,0,0,.66-1.46,1.45,1.45,0,0,0-.67-1.12A2.27,2.27,0,0,0,21.45,4.14Z"})),te||(te=a.createElement("path",{className:"cls-1",d:"M33,5.7a.67.67,0,0,1-.62-.48,1.11,1.11,0,0,0-.33-.49,1.76,1.76,0,0,0-.66-.07c-.62,0-1.31.47-2.06,1.41a5.9,5.9,0,0,0-1.53,3.61,2,2,0,0,0,.53,1.42,1.68,1.68,0,0,0,1.31.61A2.85,2.85,0,0,0,31,11.37a8.66,8.66,0,0,0,1.14-.75,1.09,1.09,0,0,1,.54-.27.57.57,0,0,1,.46.21.65.65,0,0,1,.19.46.68.68,0,0,1-.24.51A5.19,5.19,0,0,1,29.66,13a2.92,2.92,0,0,1-2.24-1,3.37,3.37,0,0,1-.88-2.33,7.19,7.19,0,0,1,1.81-4.44,4.12,4.12,0,0,1,3.06-1.89,4.86,4.86,0,0,1,.56,0,1.9,1.9,0,0,1,.44.09A.67.67,0,0,1,33,3.14c.29,0,.48.2.56.58A7.52,7.52,0,0,1,33.65,5a.78.78,0,0,1-.14.46A.56.56,0,0,1,33,5.7Z"})),re||(re=a.createElement("path",{d:"M39.8,0H2.2a2,2,0,0,0-2,2V14a2,2,0,0,0,2,2H39.8a2,2,0,0,0,2-2V2A2,2,0,0,0,39.8,0Zm-.65,14.26H2.86A.91.91,0,0,1,2,13.35V2.7a1,1,0,0,1,1-1h36a1,1,0,0,1,1.13,1.07V3a.68.68,0,0,1,0,.12h0v10.2A.9.9,0,0,1,39.15,14.26Z"})))}var se,oe,le,de,je,be=a.forwardRef(ie);r.p;function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pe(e,t){var r=e.title,n=e.titleId,c=he(e,["title","titleId"]);return a.createElement("svg",ue({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,se||(se=a.createElement("rect",{x:12,y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),oe||(oe=a.createElement("rect",{x:6,y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),le||(le=a.createElement("rect",{y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),de||(de=a.createElement("path",{d:"M12.5218 11.5161C12.0215 12.0161 11.5219 12.5161 10.9268 12.8914C10.0216 13.5162 8 13.5 6.99997 13.5C5.98032 13.4885 4.99928 13.0089 3.99992 12.5",stroke:"#616161",strokeLinecap:"round",strokeLinejoin:"round"})),je||(je=a.createElement("path",{d:"M4.32786 13.9956C4.10086 13.6319 4.02894 13.2646 3.80915 12.8979C3.72803 12.7626 3.64479 12.6383 3.57362 12.5089C3.41056 12.2124 3.5 12 3.78875 12.0797C3.2496 12.0797 4.5 11.9506 5.07287 11.9506C5.44509 11.9511 6 11.9075 6.13559 11.9075",stroke:"#616161",strokeLinecap:"round",strokeLinejoin:"round"})))}var xe=a.forwardRef(pe),Oe=(r.p,function(e){var t=e.withIcon,r=function(e){switch(e){case"sm":return{w:"1em,",h:"1em"};case"lg":return{w:"3em",h:"3m"};default:return{w:"2.5em",h:"2.5em"}}}(e.size);return Object(W.jsxs)(C.a,{variant:"unstyled",display:"flex",as:"a",href:"/",children:[t&&Object(W.jsx)(S.a,Object(p.a)(Object(p.a)({mr:"2"},r),{},{as:ae,title:"LangSheets"})),Object(W.jsx)(v.a,{fontFamily:"cursive",fontSize:"large",fontWeight:"semibold",color:"brand.500",mr:"2",children:"LangSheets"})]})});Oe.defaultProps={withIcon:!0,size:"md"};var fe=Oe;function me(e){var t=e.leftActions,r=e.rightActions,n=e.withIcon,c=e.sm,i=Object(K.a)(["(max-width:900px)"]),s=Object(h.a)(i,1)[0];return Object(W.jsxs)(k.a,{px:"10",background:"white",py:"2",shadow:"sm",sx:{"@media print":{display:"none"}},children:[Object(W.jsx)(fe,Object(p.a)({},n)),s?c&&Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(E.a,{}),Object(W.jsxs)(U.a,{children:[Object(W.jsx)(U.b,{colorScheme:"purple",variant:"ghost",as:C.a,children:Object(W.jsx)(S.a,{as:V.c})}),Object(W.jsx)(U.f,{zIndex:"dropdown",children:c})]})]}):Object(W.jsxs)(a.Fragment,{children:[t,Object(W.jsx)(E.a,{}),r]})]})}me.defaultProps={withIcon:!0};var ge=me,ve=function(e){Object(a.useEffect)((function(){document.title=e}),[e])};ve.propTypes={title:H.a.string.isRequired};var ye=ve;function we(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement}function ke(e){return e.map(Se)}function Ce(e){var t=Object(p.a)({},e);return t.content=JSON.stringify(e.content),t}function Se(e){var t=Object(p.a)({},e);return t.content=JSON.parse(e.content),t}var Ee={error:void 0,loading:!0,worksheets:void 0};function Ae(e,t){switch(t.type){case"call-api":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"api-call-ended":return Object(p.a)(Object(p.a)({},e),{},{loading:!1});case"update-worksheets":return Object(p.a)(Object(p.a)({},e),{},{loading:!1,worksheets:t.payload.worksheets});case"api-error":return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:t.payload.error});default:return console.warn("The action type given did not match any posible action",t),e}}var ze=function(){var e=Object(x.f)(),t=Object(O.a)(),r=Object(a.useReducer)(Ae,Ee),n=Object(h.a)(r,2),c=n[0],i=n[1],s=c.error,o=c.loading,l=c.worksheets;function j(){return(j=Object(u.a)(b.a.mark((function t(){var r,a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:"call-api"}),r={title:"Actividad sin t\xedtulo",lang:"es",published:!1,content:JSON.stringify([{type:"paragraph",children:[{text:""}]}]),createdAt:new Date},t.next=4,fetch("/api/activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:return a=t.sent,t.next=7,a.json();case 7:if(n=t.sent,i({type:"api-call-ended"}),!a.ok){t.next=12;break}return e.push("/worksheets/".concat(n._id,"/edit")),t.abrupt("return");case 12:i({type:"api-error",payload:{error:n}});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=Object(u.a)(b.a.mark((function e(r){var a,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"call-api"}),e.next=3,fetch("/api/activities/".concat(r),{method:"DELETE"});case 3:if(a=e.sent,n=a.json(),!a.ok){e.next=10;break}return c=Object(d.a)(l).filter((function(e){return e._id!==r})),i({type:"update-worksheets",payload:{worksheets:c}}),t({title:"Actividad Eliminada",description:"La actividad fue eliminada exit\xf3samente",status:"info",durarion:5e3,isClosable:!0}),e.abrupt("return");case 10:i({type:"api-error",payload:{error:n}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"call-api"}),e.next=3,fetch("/api/activities");case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,!t.ok){e.next=10;break}return i({type:"update-worksheets",payload:{worksheets:ke(r)}}),e.abrupt("return");case 10:i({type:"api-error",payload:{error:r}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var A={createSheet:function(){return j.apply(this,arguments)},deleteSheet:function(e){return E.apply(this,arguments)}};return G("var(--chakra-colors-gray-100)"),ye("LangSheets | Mis actividades"),Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(ge,{}),o&&Object(W.jsx)(f.a,{size:"xs",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),s&&Object(W.jsxs)(m.a,{status:"error",children:[Object(W.jsx)(m.c,{}),Object(W.jsx)(m.b,{children:s.message})]}),Object(W.jsxs)(g.a,{maxW:"container.lg",children:[Object(W.jsx)(v.a,{fontSize:"xx-large",fontWeight:"semibold",my:"5",textAlign:["center","left"],children:" Mis Worksheets "}),Object(W.jsxs)(y.a,{mx:{md:"7",lg:"0"},gap:"5",justifyContent:"center",placeItems:"center",templateColumns:{base:"",md:"repeat(2, var(--chakra-sizes-72))",lg:"repeat(3, minmax(var(--chakra-sizes-72),var(--chakra-sizes-80)))"},children:[!!l&&l.map((function(e){return Object(W.jsx)(w.a,{isLoaded:!o,children:Object(W.jsx)(D,Object(p.a)({},Object(p.a)(Object(p.a)({},e),A)))},e._id)})),Object(W.jsx)(k.a,{width:"full",as:C.a,colorScheme:"brand",variant:"ghost",background:"white",onClick:A.createSheet,leftIcon:Object(W.jsx)(S.a,{as:V.a}),size:"lg",boxShadow:"base",height:"40",borderRadius:"xl",children:"Crear Nueva actividad"})]})]})]})},Ie=r(16),Pe=r(421),Le=function(e){return Object(W.jsx)(a.Fragment,{children:Object(W.jsxs)(k.a,{flexDirection:"column",alignItems:"center",children:[Object(W.jsx)(Pe.a,{px:"4",variant:"unstyled",_focus:{outline:"none"},as:"a",href:"/",children:Object(W.jsx)(ae,{width:"70px"})}),Object(W.jsxs)(k.a,{mt:"40",flexDirection:"column",flexGrow:"1",width:"full",children:[Object(W.jsx)(z.a,{hasArrow:!0,arrowSize:"5",placement:"auto-start",label:"Previsualizar actividad",children:Object(W.jsx)(Pe.a,{as:"a",target:"_blank",referrerPolicy:"no-referrer",href:"/worksheets/".concat(e.id,"/practice"),sx:{"&":{transition:"all ease 300ms",color:"white",cursor:"pointer",textAlign:"center",borderRadius:"none"},"&:hover, &:active":{background:"#252388"}},children:Object(W.jsx)(S.b,{m:"4",w:8,h:8,as:F.g})})}),Object(W.jsx)(z.a,{hasArrow:!0,arrowSize:"5",placement:"auto-start",label:"Imprimir actividad",children:Object(W.jsx)(Pe.a,{onClick:e.handlePrint,sx:{"&":{transition:"all ease 300ms",color:"white",cursor:"pointer",textAlign:"center",borderRadius:"none"},"&:hover, &:active":{background:"#252388"}},children:Object(W.jsx)(S.b,{m:"4",w:8,h:8,as:F.n})})})]})]})})},Fe=r(442);var Re=function(e){var t=e.title,r=e.dispatch,n=Object(a.useRef)();return Object(W.jsx)(Pe.a,{onClick:function(){return n.current.focus()},sx:{"@media print":{textAlign:"center"}},children:Object(W.jsxs)(Fe.a,{fontSize:"x-large",required:!0,id:"title",value:t,onChange:function(e){return r({type:"change-worksheet-prop",payload:{property:"title",value:e}})},type:"text",placeholder:"Escribe un t\xedlulo aqu\xed...",children:[Object(W.jsx)(Fe.c,{ref:n}),Object(W.jsx)(Fe.b,{})]})})},Ne=r(427),qe=r(443),We=r(429),Me=function(e){var t=e.decorate,r=e.renderElement,a=e.renderLeaf,n=e.readOnly,c=e.placeholder;return Object(W.jsx)(Pe.a,{background:"white",p:"5",as:Ie.a,decorate:t,renderElement:r,renderLeaf:a,readOnly:n,placeholder:c})},Te=r(422),De=function(e){var t=e.dispatch,r=e.lang;return Object(W.jsxs)(Pe.a,{my:"4",children:[Object(W.jsx)(v.a,{my:"2",children:"Idioma"}),Object(W.jsxs)(Te.a,{background:"white",required:!0,value:r,onChange:function(e){return t({type:"change-worksheet-prop",payload:{property:"lang",value:e.target.value}})},children:[Object(W.jsx)("option",{value:""}),Object(W.jsx)("option",{value:"de",children:"Alem\xe1n"}),Object(W.jsx)("option",{value:"es",children:"Espa\xf1ol"}),Object(W.jsx)("option",{value:"fr",children:"Franc\xe9s"}),Object(W.jsx)("option",{value:"en",children:"Ingl\xe9s"}),Object(W.jsx)("option",{value:"ru",children:"Ruso"}),Object(W.jsx)("option",{value:"zh",children:"Chino"}),Object(W.jsx)("option",{value:"ja",children:"Japon\xe9s"})]})]})};De.defaultProps={lang:""};var Ve=De,Ze=function(e){var t=e.dispatch,r=e.isPublic;return Object(W.jsx)(Pe.a,{my:"4",children:Object(W.jsx)(z.a,{label:"Si la actividad es p\xfablica, ser\xe1 listada en la p\xe1gina global de actividades",children:Object(W.jsxs)(v.a,{my:"2",children:["Actividad P\xfablica ",Object(W.jsx)(qe.a,{colorScheme:"brand",ml:"4",onChange:function(e){return t({type:"change-worksheet-prop",payload:{property:"isPublic",value:!r}})},isChecked:r})," "]})})})};Ze.defaultProps={isPublic:!0};var He=Ze,Be=r(89),_e=r(4),Je=r(231),Ge=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(h.a)(r,2),n=a[0],c=a[1];!_e.a.isBlock(n)||n.alignment?t(r):_e.h.setNodes(e,{textAlign:"left"},{at:c})},e},Ke=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(h.a)(r,2),n=a[0],c=a[1];if("exercise-block"===n.type){if(!_e.c.has(e,_e.e.next(c)))return _e.h.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:_e.e.next(c)});if(!_e.c.has(e,_e.e.previous(c)))return console.log("Paragraph inserted"),_e.h.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:_e.e.previous(c)})}t(r)},e},Ue=r(12),Xe=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(h.a)(r,2),n=a[0],c=a[1];if(_e.a.isBlock(e,n)&&["paragraph","paragraph-with-missing-word"].includes(n.type)){var i,s=!1,o=Object(Ue.a)(_e.c.descendants(n));try{for(o.s();!(i=o.n()).done;){Object(h.a)(i.value,1)[0].missingWord&&(s=!0)}}catch(O){o.e(O)}finally{o.f()}if(s){if("paragraph-with-missing-word"!==n.type)return _e.h.setNodes(e,{type:"paragraph-with-missing-word"},{at:c})}else if("paragraph-with-missing-word"===n.type)return _e.h.setNodes(e,{type:"paragraph"},{at:c})}if(_e.c.isNode(n)&&_e.b.isElement(n)){var l,d=_e.c.first(e,c)[1],j=_e.c.last(e,c)[1],b=Object(Ue.a)(_e.c.children(e,c));try{for(b.s();!(l=b.n()).done;){var u=Object(h.a)(l.value,2),p=u[0],x=u[1];if(!0===p.missingWord){if(_e.e.equals(x,j))return _e.h.insertNodes(e,{text:" "},{at:_e.e.next(x),select:!0,hanging:!0});if(_e.e.equals(x,d))return _e.h.insertNodes(e,{text:" "},{at:x,select:!0,hanging:!0});if(_e.c.has(e,_e.e.next(x)))if(" "!==_e.c.get(e,_e.e.next(x)).text[0])return _e.h.insertText(e," ",{at:{path:_e.e.next(x),offset:0}})}}}catch(O){b.e(O)}finally{b.f()}}t(r)},e},Qe=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a,n=Object(h.a)(r,2),c=n[0],i=n[1],s=!1,o=Object(Ue.a)(_e.c.ancestors(e,i));try{for(o.s();!(a=o.n()).done;){"exercise-block"===Object(h.a)(a.value,1)[0].type&&(s=!0)}}catch(d){o.e(d)}finally{o.f()}if(_e.a.isBlock(e,c)&&["paragraph","word-order-exercise-paragraph"].includes(c.type)&&s){var l=!1;if(_e.c.string(c).split("/").length>1&&(l=!0),l){if("word-order-exercise-paragraph"!==c.type)return _e.h.setNodes(e,{type:"word-order-exercise-paragraph"},{at:i})}else if("word-order-exercise-paragraph"===c.type)return _e.h.setNodes(e,{type:"paragraph"},{at:i})}t(r)},e};var Ye=function(){return Object(a.useMemo)((function(){return Ge(Qe(Ke(Xe(Object(Je.a)(Object(Ie.h)(Object(_e.i)()))))))}),[])},$e=r(424),et=r(425),tt=r(426),rt=r(233);function at(e){if(!e.length||!e)throw new Error("Expected an array wit items and got",JSON.stringify(e));for(var t,r,a=Object(d.a)(e),n=a.length;0!==n;)r=Math.floor(Math.random()*n),t=a[n-=1],a[n]=a[r],a[r]=t;return e[0]===a[0]?at(a):a}function nt(e,t){if(!e||!t)throw new Error("Slate editor and path are required");var r,a,n,c=Object(Ue.a)(_e.c.ancestors(e,t));try{for(c.s();!(n=c.n()).done;){var i=Object(h.a)(n.value,1)[0];"exercise-block"===i.type&&(r=i.showAnswers,a=i.checkExercise)}}catch(s){c.e(s)}finally{c.f()}return{showAnswers:r,checkExercise:a}}function ct(e,t){var r=e.split("/").map((function(e){return{word:e,id:Object(rt.a)(),isCorrect:!1}}));return t.shuffle?at(r):r}var it=r(226),st=Object(it.io)({autoConnect:!1}),ot=Object(a.createContext)(st),lt=function(e){var t=e.isCorrect,r=e.checkExercise,a=e.showAnswers;return!r||a?null:t?Object(W.jsx)($e.a,{as:"span",children:Object(W.jsx)(S.b,{as:F.h,color:"green.400"})}):Object(W.jsx)($e.a,{as:"span",children:Object(W.jsx)(S.b,{as:F.p,color:"red.400"})})},dt=function(e){var t=Object(a.useContext)(ot),r=e.leaf,n=r.text,c=r.userAnswer,i=void 0===c?"":c,s=r.isCorrect,o=void 0!==s&&s,l=r.focused,d=void 0!==l&&l,j=r.user,b=Object(Ie.g)(),u=Ie.b.findPath(b,e.text),h=nt(b,u),p=h.showAnswers,x=h.checkExercise;function O(e){var r=e.event,a=e.focus;void 0===a||a?t.emit("action",{type:"input-focused",user:{username:t.auth.username,userID:t.id},path:u}):r.target.blur()}function f(e){var r,a=e.target.value;r={isAnswered:a.trim().length>0,isCorrect:m(a),userAnswer:a},t.emit("action",{type:"set-leaf-props",props:r,path:u}),_e.h.setNodes(b,r,{at:u})}function m(e){return e.toLowerCase().trim()===n.toLowerCase().trim()}var g=p?n:i;return Object(W.jsxs)(et.a,{w:"32",as:"span",display:"inline-block",position:"relative",children:[d?Object(W.jsx)(z.a,{label:Object(W.jsx)(jt,{user:j}),children:Object(W.jsx)(tt.a,{cursor:"not-allowed",variant:"filled",bg:"brand.200",transition:"all ease 300ms",_hover:{background:"var(--chakra-colors-brand-200)"},readOnly:x,value:g,onFocus:function(e){return O({event:e,focus:!1})},onChange:f})}):Object(W.jsx)(tt.a,{variant:"filled",readOnly:x,value:g,onFocus:O,onBlur:function(){t.emit("action",{type:"input-blured",path:u})},onChange:f}),Object(W.jsx)(lt,{isCorrect:o,checkExercise:x,showAnswers:p})]})},jt=function(e){return Object(W.jsxs)(v.a,{as:"span",children:[e.user.username," esta escribiendo ",Object(W.jsx)(bt,{})]})},bt=function(e){return Object(W.jsxs)(v.a,{as:"span",id:"wave",position:"relative",children:[Object(W.jsx)(v.a,{as:"span",className:"dot"}),Object(W.jsx)(v.a,{as:"span",className:"dot"}),Object(W.jsx)(v.a,{as:"span",className:"dot"})]})},ut=function(e){var t=Object(K.a)(["print"]),r=Object(h.a)(t,1)[0],a=r?e.leaf.text+e.leaf.text:e.children;return Object(W.jsx)(Pe.a,Object(p.a)(Object(p.a)({as:"span",color:r?"transparent":"",borderRadius:"sm",px:"1",background:"brand.200"},e.attributes),{},{sx:{"@media print":{background:"none",borderBottom:"solid black 1px",color:"transparent"}},children:a}))},ht=function(e){var t=e.leaf,r=e.children,a=e.attributes,n=Object(Ie.e)();return!0===t.missingWord?n?Object(W.jsx)(dt,Object(p.a)({},e)):Object(W.jsx)(ut,Object(p.a)({},e)):(t.division&&(r=Object(W.jsx)(v.a,{as:"span",fontWeight:"black",color:"brand.500",children:r})),t.bold&&(r=Object(W.jsx)("strong",{children:r})),t.italic&&(r=Object(W.jsx)("em",{children:r})),t.underline&&(r=Object(W.jsx)("u",{children:r})),t.strike&&(r=Object(W.jsx)("s",{children:r})),Object(W.jsx)("span",Object(p.a)(Object(p.a)({},a),{},{children:r})))},pt=function(e){var t=e.children,r=e.element,a=e.attributes,n=r.textAlign;return Object(W.jsx)(v.a,Object(p.a)(Object(p.a)({textAlign:n},a),{},{children:t}))},xt=function(e){var t=e.attributes,r=e.children;return Object(W.jsx)("div",Object(p.a)(Object(p.a)({},t),{},{children:r}))},Ot=r(132),ft=function(e){var t=Object(Ie.g)(),r=e.element,n=Ie.b.findPath(t,r),c=nt(t,n),i=c.showAnswers,s=c.checkExercise,o=_e.c.string(r),l=Object(a.useRef)(ct(o,{shuffle:!0})),d=r.userAnswers,j=void 0===d?l.current:d,b=ct(o,{shuffle:!1});return i?Object(W.jsx)(k.a,{flexWrap:"wrap",alignItems:"center",my:"4",p:"4",borderRadius:"base",border:"2px var(--chakra-colors-purple-600) solid",children:b.map((function(e){return Object(W.jsx)(mt,Object(p.a)({},Object(p.a)(Object(p.a)({},e),{},{isCorrect:!0})),e.id)}))}):Object(W.jsx)(Ot.a,{onDragEnd:function(e){if(e.destination){var a=function(e,t,r){var a=Array.from(e),n=a.splice(t,1),c=Object(h.a)(n,1)[0];return a.splice(r,0,c),a}(j,e.source.index,e.destination.index),n=Ie.b.findPath(t,r);_e.h.setNodes(t,{userAnswers:yt(a,b)},{at:n})}},children:Object(W.jsx)(Ot.c,{droppableId:"droppable",direction:"horizontal",children:function(e,t){return Object(W.jsxs)(k.a,Object(p.a)(Object(p.a)({flexWrap:"wrap",alignItems:"center",my:"4",p:"4",borderRadius:"base",border:"2px var(--chakra-colors-purple-600) solid",ref:e.innerRef},e.droppableProps),{},{className:"".concat(t.isDraggingOver&&"draggingOver"),children:[j.map((function(e,t){return Object(W.jsx)(gt,Object(p.a)({},Object(p.a)(Object(p.a)({},e),{},{index:t,checkExercise:s})),e.id)})),e.placeholder]}))}})})},mt=function(e){return Object(W.jsx)(v.a,{m:"1",px:"2",py:"1",bg:e.isCorrect?"green.500":"yellow.300",color:e.isCorrect?"white":"black",borderRadius:"base",as:"span",fontWeight:"medium",transition:"all ease 300",cursor:"default",children:e.word})},gt=function(e){var t=e.id,r=e.word,a=e.index,n=e.checkExercise,c=e.isCorrect;function i(e){return e.isDragging?"purple.600":n?c?"green.300":"yellow.300":"purple.500"}return Object(W.jsx)(Ot.b,{draggableId:t,index:a,children:function(e,t){return Object(W.jsx)(v.a,Object(p.a)(Object(p.a)(Object(p.a)({userSelect:"none",m:"1",px:"2",py:"1",borderRadius:"base",as:"span",cursor:"move",fontWeight:"medium",color:n&&!c?"black":"white",transition:"all ease 300",bg:i(t),style:e.draggableProps.style,ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:r}))}},t)},vt=function(e){var t=e.attributes,r=e.children;return Object(W.jsx)("div",Object(p.a)(Object(p.a)({},t),{},{children:r}))};function yt(e,t){return e.map((function(e,r){return Object(p.a)(Object(p.a)({},e),{},{isCorrect:e.word===t[r].word})}))}var wt=function(e){return Object(Ie.e)()?Object(W.jsx)(ft,Object(p.a)({},e)):Object(W.jsx)(vt,Object(p.a)({},e))};var kt=function(e){var t=e.element,r=e.children,a=e.attributes,n=t.textAlign,c=t.type.split(" ")[1];return Object(W.jsx)(v.a,Object(p.a)(Object(p.a)({textAlign:n,fontSize:c},a),{},{children:r}))},Ct=r(428),St=r(436),Et=r(130),At=r(10);function zt(e,t,r){if(!r)return!1;var a=_e.a.nodes(r,{match:function(r){return r[e]===t}});return!!Object(h.a)(a,1)[0]}function It(e,t){if(!t)return!1;var r=_e.a.marks(t);return!!r&&!0===r[e]}function Pt(e,t){if(t)return It(e,t)?_e.a.removeMark(t,e):_e.a.addMark(t,e,!0)}var Lt=function(e){var t=e.format,r=e.label,a=e.type,n=e.customOnClick,c=e.variant,i=e.icon,s=e.formatKey,o=Object(Et.a)(e,["format","label","type","customOnClick","variant","icon","formatKey"]),l=Object(Ie.g)();function d(){return"function"===typeof n?n.call():"mark"===a?Pt(t,l):function(e,t,r){var a=zt(e,t,r);_e.h.setNodes(r,Object(At.a)({},e,a?null:t),{match:function(e){return _e.a.isBlock(r,e)}})}(s,t,l)}function j(){return"mark"===a?It(t,l):zt(s,t,l)}return"button"===c?Object(W.jsx)(z.a,{hasArrow:!0,label:r,fontSize:"md",children:Object(W.jsx)(C.a,Object(p.a)(Object(p.a)({size:"sm"},o),{},{color:j()?"brand.500":"#616161",background:j()?"brand.100":"",variant:"ghost",onClick:d,children:i}))}):Object(W.jsx)(U.e,{color:j()?"brand.500":"",background:j()?"brand.100":"",onClick:d,icon:i,children:r})};Lt.defaultProps={customOnClick:void 0,variant:"button",formatKey:"type"};var Ft=Lt,Rt=function(e){var t=Object(Ie.g)(),r=Ie.b.findPath(t,e.element);return Object(W.jsxs)(A.a,{display:"flex",flexWrap:"wrap",spacing:["0","4"],justifyContent:"center",colorScheme:"purple",size:"sm",children:[Object(W.jsx)(C.a,{my:"2",variant:"solid",onClick:function(){_e.h.setNodes(t,{checkExercise:!0},{at:r})},children:"Calificar respuestas"}),Object(W.jsx)(C.a,{my:"2",variant:"outline",onClick:function(){_e.h.setNodes(t,{showAnswers:!0},{at:r})},children:"Ver respuestas"})]})},Nt=function(e){return Object(W.jsx)(a.Fragment,{children:Object(W.jsx)(Rt,Object(p.a)({},e))})},qt=r(227),Wt={"missing-word":"Palabras faltantes","word-order":"Ordenar oraciones"},Mt={"missing-word":Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(v.a,{my:"2",children:"Cada oraci\xf3n puede contener una o m\xfaltiple palabras faltantes."}),Object(W.jsxs)(v.a,{my:"2",children:["Para a\xf1adir una palabra faltante seleccione la palabra(s) y presione el boton de a\xf1adir palabra faltante. ",Object(W.jsx)(S.a,{color:"brand.500",w:"2.5em",as:be})]}),Object(W.jsx)(v.a,{my:"2",children:"Cada palabra faltante lucir\xe1 con un fondo de color p\xfarpura."}),Object(W.jsx)(v.a,{my:"2",color:"brand.500",fontWeight:"semibold",children:"Ejemplo:"}),Object(W.jsx)(v.a,{my:"2",children:Object(W.jsx)("em",{children:"Escribiendo la siguiente oraci\xf3n"})}),Object(W.jsxs)(v.a,{my:"2",as:"samp",children:["Si quieres cambiar el ",Object(W.jsx)(v.a,{px:"2",as:"span",bg:"brand.200",borderRadius:"base",children:"mundo"}),", c\xe1mbiate a ti mismo."]}),Object(W.jsx)(v.a,{my:"2",children:Object(W.jsx)("em",{children:"Se creara el siguiente ejercicio :"})}),Object(W.jsxs)(k.a,{alignItems:"center",flexWrap:"wrap",children:["Si quieres cambiar el ",Object(W.jsx)(tt.a,{w:"24",bg:"gray.100"}),", c\xe1mbiate a ti mismo."]})]}),"word-order":Object(W.jsxs)(a.Fragment,{children:[Object(W.jsxs)(v.a,{my:"2",children:["Cada oraci\xf3n tiene que ser dividida usando diagonales ",Object(W.jsx)(v.a,{as:"kbd",bg:"brand.100",children:"/"})]}),Object(W.jsx)(v.a,{my:"2",color:"brand.500",fontWeight:"semibold",children:"Ejemplo:"}),Object(W.jsx)(v.a,{my:"2",children:Object(W.jsx)("em",{children:"Escribiendo la siguiente oraci\xf3n"})}),Object(W.jsxs)(v.a,{my:"2",as:"samp",children:["Si quieres ",Object(W.jsx)(v.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"})," cambiar ",Object(W.jsx)(v.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"}),"el mundo, c\xe1mbiate",Object(W.jsx)(v.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"})," a ti mismo."]}),Object(W.jsx)(v.a,{my:"2",children:Object(W.jsx)("em",{children:"Se creara el siguiente ejercicio :"})}),Object(W.jsx)(k.a,{flexWrap:"wrap",children:at(["Si quieres","cambiar","el mundo, c\xe1mbiate","a ti mismo."]).map((function(e,t){return Object(W.jsx)(v.a,{as:"span",borderRadius:"base",m:"1",px:"1",py:"2",color:"white",bg:"brand.500",children:e},"".concat(e,"-").concat(t))}))})]})};var Tt=function(e){var t=Object(Ie.g)();switch(e.exerciseType){case"missing-word":return Object(W.jsxs)(Pe.a,{w:"full",children:[Object(W.jsx)(Ft,{m:"2",colorScheme:"brand",type:"mark",customOnClick:function(){return function(e,t){_e.f.isCollapsed(e.selection)?alert("Para crear una palabra faltante , seleciona primero la palabra"):Pt("missingWord",e)}(t)},format:"missingWord",label:"A\xf1adir Palabra faltante",icon:Object(W.jsx)(S.a,{width:"2.5em",as:be})}),Object(W.jsx)(Ne.a,{borderBottomWidth:"2px",opacity:"1"})]});case"word-order":default:return null}},Dt=function(e){var t=Object(Ie.g)(),r=Object(Ie.e)(),n=Object(Ie.d)(),c=Object(Ie.f)();function i(){if(n&&c){if(t.selection){if(_e.f.isExpanded(t.selection)){var e=_e.a.fragment(t,t.selection);return"missing-word"===Object(h.a)(e,1)[0].exerciseType}return!0}return!0}return!1}return r?Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(Pe.a,Object(p.a)(Object(p.a)({},e.attributes),{},{borderBottomRadius:"base",py:"4",children:e.children})),Object(W.jsx)(Nt,Object(p.a)({},e))]}):Object(W.jsxs)(Pe.a,Object(p.a)(Object(p.a)({borderRadius:"5px",border:"".concat(i()?"var(--chakra-colors-brand-100)":"transparent"," 1px solid")},e.attributes),{},{transition:"all ease 300ms",position:"relative",children:[Object(W.jsxs)(Ct.a,{in:i(),animateOpacity:!0,contentEditable:!1,children:[!r&&Object(W.jsxs)(Pe.a,{borderTopRadius:"base",w:["full","full","auto"],bg:"brand.400",px:"4",py:"2",color:"white",children:["Actividad: ",Object(W.jsxs)("b",{children:[" ",Wt[e.element.exerciseType]," "]}),!!Mt[e.element.exerciseType]&&Object(W.jsxs)(St.a,{children:[Object(W.jsx)(St.f,{children:Object(W.jsx)(I.a,{variant:"ghost",colorScheme:"white",icon:Object(W.jsx)(S.a,{as:qt.a})})}),Object(W.jsxs)(St.d,{children:[Object(W.jsx)(St.c,{}),Object(W.jsx)(St.e,{color:"black",children:"Ayuda"}),Object(W.jsx)(St.b,{color:"black",children:Mt[e.element.exerciseType]})]})]})]}),Object(W.jsx)(Tt,{isActive:i(),exerciseType:e.element.exerciseType})]}),Object(W.jsx)(Pe.a,{borderBottomRadius:"base",py:"4",px:i()&&"2",children:e.children})]}))},Vt=function(e){return Object(W.jsx)(Pe.a,Object(p.a)(Object(p.a)({},e.attributes),{},{children:e.children}))},Zt=function(){return[Object(a.useCallback)((function(e){return Object(W.jsx)(ht,Object(p.a)({},e))}),[]),Object(a.useCallback)((function(e){var t=e.element.type;if("heading"===(null===t||void 0===t?void 0:t.split(" ")[0]))return Object(W.jsx)(kt,Object(p.a)({},e));switch(t){case"exercise-block":return Object(W.jsx)(Dt,Object(p.a)({},e));case"exercise-list-items":return Object(W.jsx)(Vt,Object(p.a)({},e));case"missing-word-exercise-paragraph":return Object(W.jsx)(xt,Object(p.a)({},e));case"word-order-exercise-paragraph":return Object(W.jsx)(wt,Object(p.a)({},e));default:return Object(W.jsx)(pt,Object(p.a)({},e))}}),[])]};function Ht(){var e=we(),t=Object(a.useState)(e),r=Object(h.a)(t,2),n=r[0],c=r[1];function i(){c(we())}return Object(a.useEffect)((function(){return document.addEventListener("fullscreenchange",i),function(){document.removeEventListener("fullscreenchange",i)}}),[]),n}function Bt(e,t){var r={type:"exercise-block",exerciseType:t.type,children:[{type:"exercise-list-items",children:[{type:"paragraph",children:[{text:""}]}]}]};if(e.selection){var a=_e.c.fragment(e,e.selection);if("exercise-block"===Object(h.a)(a,1)[0].type)return void alert("No es posible crear un ejercicio dentro de otro ejercicio, selecciona una linea de texto vac\xeda fuera del cuadro de ejercicio")}_e.h.insertNodes(e,r,{select:!0}),Ie.b.focus(e)}function _t(e){document.body.style.zoom="100%",e.target.blur(),setTimeout((function(){window.print()}),500)}function Jt(){if(!we()){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}function Gt(){we()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}var Kt=function(e){var t=e.saveWorksheet,r=Object(Ie.g)(),n=Ht();return Object(W.jsxs)(a.Fragment,{children:[Object(W.jsxs)(U.a,{children:[Object(W.jsx)(U.b,{children:"Actividad"}),Object(W.jsxs)(U.f,{children:[Object(W.jsx)(U.e,{onClick:t,icon:Object(W.jsx)(S.b,{as:N.a}),children:"Guardar Cambios"}),Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.b,{as:F.j}),children:"Publicar Actividad"}),Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.b,{as:F.n}),onClick:_t,children:"Imprimir Actividad"})]})]}),Object(W.jsxs)(U.a,{children:[Object(W.jsx)(U.b,{mx:"4",children:"Insertar"}),Object(W.jsx)(U.f,{children:Object(W.jsxs)(U.d,{title:"Ejercicios",children:[Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.b,{w:8,h:8,as:be}),onClick:function(e){return Bt(r,{type:"missing-word"})},children:"Palabras Faltantes"}),Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.b,{w:8,h:8,as:xe}),onClick:function(e){return Bt(r,{type:"word-order"})},children:"Ordenar Oraciones"})]})})]}),Object(W.jsxs)(U.a,{children:[Object(W.jsx)(U.b,{mx:"4",children:"Ver"}),Object(W.jsx)(U.f,{children:n?Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.b,{as:Be.b}),onClick:Gt,children:"Vista normal"}):Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.b,{as:Be.a}),onClick:Jt,children:"Pantalla completa"})})]})]})},Ut=function(){var e=Object(Ie.g)(),t=Object(K.a)("(min-width: 1024px)"),r=Object(h.a)(t,1)[0];return Object(W.jsxs)(a.Fragment,{children:[Object(W.jsxs)(U.a,{children:[Object(W.jsxs)(U.b,Object(p.a)(Object(p.a)({},r?"":Object(p.a)({},{borderRadius:"none",height:"full"})),{},{flex:"0 0 auto",display:"flex",as:C.a,size:"sm",colorScheme:"brand",variant:"solid",children:[Object(W.jsx)(S.b,{w:5,h:5,mr:"2",as:V.d})," Insertar Ejercicio"]})),Object(W.jsxs)(U.f,{children:[Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.b,{w:5,h:5,as:be}),onClick:function(t){return Bt(e,{type:"missing-word"})},children:"Palabras faltantes"}),Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.b,{w:5,h:5,as:xe}),onClick:function(t){return Bt(e,{type:"word-order"})},children:"Ordernar oraciones"})]})]}),Object(W.jsxs)(U.a,{children:[Object(W.jsx)(z.a,{hasArrow:!0,label:"Estilos de tipograf\xeda",fontSize:"md",children:Object(W.jsx)(U.b,{as:C.a,"aria-label":"Estilos de tipograf\xeda",variant:"ghost",color:"#616161",size:"sm",children:Object(W.jsx)(S.b,{as:F.k})})}),Object(W.jsxs)(U.f,{children:[Object(W.jsx)(Ft,{variant:"menuListItem",type:"block",format:"heading 4xl",label:Object(W.jsx)(v.a,{fontSize:"3xl",children:"T\xedtulo 1"})}),Object(W.jsx)(Ft,{variant:"menuListItem",type:"block",format:"heading 3xl",label:Object(W.jsx)(v.a,{fontSize:"2xl",children:"T\xedtulo 2"})}),Object(W.jsx)(Ft,{variant:"menuListItem",type:"block",format:"heading 2xl",label:Object(W.jsx)(v.a,{fontSize:"xl",children:"Subt\xedtulo 1"})}),Object(W.jsx)(Ft,{variant:"menuListItem",type:"block",format:"heading xl",label:Object(W.jsx)(v.a,{fontSize:"lg",children:"Subt\xedtulo 2"})}),Object(W.jsx)(Ft,{variant:"menuListItem",type:"block",format:"",label:Object(W.jsx)(v.a,{fontSize:"md",children:"Texto normal"})})]})]}),Object(W.jsx)(Ft,{type:"mark",format:"bold",label:"Negrita",icon:Object(W.jsx)(S.b,{as:F.f})}),Object(W.jsx)(Ft,{type:"mark",format:"italic",label:"Cursiva",icon:Object(W.jsx)(S.b,{as:F.m})}),Object(W.jsx)(Ft,{type:"mark",format:"underline",label:"Subrayado",icon:Object(W.jsx)(S.b,{as:F.q})}),Object(W.jsx)(Ft,{type:"mark",format:"strike",label:"Tachado",icon:Object(W.jsx)(S.b,{as:F.o})}),Object(W.jsx)(Ft,{type:"block",formatKey:"textAlign",format:"left",label:"Alinear a la izquierda",icon:Object(W.jsx)(S.b,{as:F.c})}),Object(W.jsx)(Ft,{type:"block",formatKey:"textAlign",format:"center",label:"Alinear al centro",icon:Object(W.jsx)(S.b,{as:F.a})}),Object(W.jsx)(Ft,{type:"block",formatKey:"textAlign",format:"right",label:"Alinear a la derecha",icon:Object(W.jsx)(S.b,{as:F.d})}),Object(W.jsx)(Ft,{type:"block",formatKey:"textAlign",format:"justify",label:"Justificar",icon:Object(W.jsx)(S.b,{as:F.b})})]})},Xt="saving-worksheet",Qt="toggle-writting-mode",Yt="change-worksheet-prop",$t="set-worksheet",er="error";function tr(e,t){switch(t.type){case Qt:return Object(p.a)(Object(p.a)({},e),{},{isWritingMode:!e.isWritingMode});case Yt:if(!t.payload.property)throw new Error("'property' is required but got undefined");if("content"===t.payload.property&&!e.isWritingMode)return console.log("Cannot update activity state in preview mode"),e;var r=Object(p.a)({},e.worksheet);return r[t.payload.property]=t.payload.value,Object(p.a)(Object(p.a)({},e),{},{worksheet:r});case Xt:return Object(p.a)(Object(p.a)({},e),{},{savingWorksheet:!0});case $t:return Object(p.a)(Object(p.a)({},e),{},{savingWorksheet:!1,loading:!1,worksheet:t.payload.worksheet,error:void 0});case er:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:t.payload.error});default:return console.warn("Action provided did not matched",t),e}}var rr={isWritingMode:!0,loading:!0,error:"",worksheet:void 0,savingWorksheet:!1};function ar(){if(!we()){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}function nr(){we()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}var cr=function(){var e,t,r=Object(x.f)(),n=Object(O.a)(),c=Object(x.g)().id,i=Ye(),s=Zt(),o=Object(h.a)(s,2),l=o[0],d=o[1],j=function(e){return Object(a.useCallback)((function(t){var r=Object(h.a)(t,2),a=r[0],n=r[1],c=[];if(_e.g.isText(a)){var i=_e.c.parent(e,n);if(console.log(i),"word-order-exercise-paragraph"===i.type){var s=a.text.split("/"),o=0;s.forEach((function(e,t){0!==t&&c.push({anchor:{path:n,offset:o-1},focus:{path:n,offset:o},division:!0}),o=o+e.length+1}))}}return c}),[e])}(i),p=Object(a.useReducer)(tr,rr),m=Object(h.a)(p,2),g=m[0],E=m[1],z=g.worksheet,P=g.loading,L=g.error,q=g.isWritingMode,M=g.savingWorksheet,T=Ht();function D(){return Z.apply(this,arguments)}function Z(){return(Z=Object(u.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.loading){e.next=2;break}return e.abrupt("return",console.log("Cannot save changes when page is loading"));case 2:return E({type:Xt}),e.next=5,fetch("/api/activities/".concat(c),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce(z))});case 5:return t=e.sent,e.next=8,t.json();case 8:if(r=e.sent,!t.ok){e.next=13;break}return E({type:$t,payload:{worksheet:Se(r)}}),n({position:G?"top-right":"bottom",title:"Actividad Guardada",description:"La actividad fue guardada exit\xf3samente",status:"success",duration:5e3,isClosable:!0}),e.abrupt("return");case 13:E({type:er,payload:{error:r}});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){document.body.style.zoom="100%",e.target.blur(),setTimeout((function(){window.print()}),500)}Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/activities/".concat(c));case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,404!==t.status){e.next=9;break}return r.push("/worksheets/404"),e.abrupt("return");case 9:if(!t.ok){e.next=12;break}return E({type:$t,payload:{worksheet:Se(a)}}),e.abrupt("return");case 12:n({description:a.message,status:"error",isClosable:!0});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c,n,r]);var B=(null===g||void 0===g||null===(e=g.worksheet)||void 0===e?void 0:e.title)?"LangSheets | ".concat(null===g||void 0===g||null===(t=g.worksheet)||void 0===t?void 0:t.title):"LangSheets";ye(B);var _=window.location.host,J=Object(K.a)("(min-width: 1024px)"),G=Object(h.a)(J,1)[0];return Object(W.jsxs)(Ie.c,{editor:i,value:P?[{children:[{text:"Cargando..."}]}]:L?[{children:[{text:""}]}]:z.content,onChange:function(e){return E({type:Yt,payload:{property:"content",value:e}})},children:[G?Object(W.jsxs)(y.a,{h:"100vh",templateColumns:"repeat(12, 1fr)",templateRows:"auto 1fr",children:[Object(W.jsx)(y.b,{rowSpan:2,colSpan:1,bg:"#05043E",py:"10",position:"sticky",top:"0",zIndex:"docked",sx:{"@media print":{display:"none"}},children:Object(W.jsx)(Le,{handlePrint:H,id:c})}),Object(W.jsxs)(y.b,{rowSpan:1,colSpan:11,sx:{"@media print":{display:"none"}},children:[P&&Object(W.jsx)(f.a,{size:"sm",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),Object(W.jsxs)(y.a,{gridTemplateRows:"auto auto auto",gridTemplateColumns:"50px 1fr auto",h:"full",bg:"white",children:[Object(W.jsx)(y.b,{rowSpan:"1",colSpan:"1",display:"grid",placeItems:"center",children:Object(W.jsx)(Pe.a,{as:"a",href:"/",mx:"4",children:Object(W.jsx)(S.a,{as:F.e})})}),Object(W.jsx)(y.b,{rowSpan:"1",display:"flex",flexDirection:"row",alignItems:"center",pt:"2",children:Object(W.jsx)(w.a,{isLoaded:!P,children:Object(W.jsx)(Re,{dispatch:E,title:z?z.title:""})})}),Object(W.jsx)(y.b,{display:"flex",alignItems:"center",px:"4",colStart:3,rowSpan:2,children:Object(W.jsxs)(A.a,{children:[Object(W.jsxs)(C.a,{isLoading:M,onClick:D,colorScheme:"brand",variant:"ghost",children:[Object(W.jsx)(S.a,{as:N.a,mr:"2"}),"Guardar Cambios"]}),Object(W.jsxs)(C.a,{colorScheme:"brand",children:[Object(W.jsx)(S.a,{as:F.j,mr:"2"}),"Publicar"]})]})}),Object(W.jsx)(y.b,{py:"2",colStart:2,rowSpan:"1",display:"inline-flex",alignItems:"center",children:Object(W.jsx)(Kt,{saveWorksheet:D})}),Object(W.jsx)(y.b,{py:"2",px:"5",colSpan:3,width:"full",borderTop:"2px solid var(--chakra-colors-gray-100)",children:Object(W.jsx)(A.a,{as:k.a,alignItems:"center",children:Object(W.jsx)(Ut,{})})})]})]}),Object(W.jsx)(y.b,{rowSpan:1,colSpan:8,p:"12",bg:"gray.100",sx:{"@media print":{gridColumn:"span 12/span 12",gridRow:"span 2/span 2"}},children:Object(W.jsx)(w.a,{isLoaded:!P,children:Object(W.jsx)(Me,{decorate:j,renderElement:d,renderLeaf:l,readOnly:!q,placeholder:"Escribe aqu\xed..."})})}),Object(W.jsxs)(y.b,{rowSpan:1,colSpan:3,sx:{"@media print":{display:"none"}},children:[Object(W.jsx)(Ne.a,{}),Object(W.jsxs)(Pe.a,{p:"4",children:[Object(W.jsx)(v.a,{fontWeight:"semibold",fontSize:"lg",children:"Detalles de la actividad"}),!P&&!L&&Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(Ve,{dispatch:E,lang:z.lang}),Object(W.jsx)(He,{dispatch:E,isPublic:z.isPublic})]})]}),Object(W.jsx)(Ne.a,{}),Object(W.jsxs)(Pe.a,{p:"4",children:[Object(W.jsx)(v.a,{fontWeight:"semibold",fontSize:"lg",children:"Ajustes"}),Object(W.jsxs)(v.a,{my:"2",children:["Modo de edici\xf3n: ",Object(W.jsx)(qe.a,{colorScheme:"brand",ml:"4",isChecked:q,onChange:function(){return E({type:"toggle-writting-mode"})}})]})]})]})]}):Object(W.jsxs)(k.a,{flexDir:"column",minH:"100vh",children:[P&&Object(W.jsx)(f.a,{size:"sm",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),Object(W.jsxs)(k.a,{py:"2",px:"4",alignItems:"center",children:[Object(W.jsx)(Pe.a,{flexGrow:"1",children:Object(W.jsx)(w.a,{isLoaded:!P,children:Object(W.jsx)(Re,{dispatch:E,title:z?z.title:""})})}),Object(W.jsxs)(U.a,{children:[Object(W.jsx)(U.b,{variant:"ghost",colorScheme:"brand",icon:Object(W.jsx)(S.a,{as:V.b}),as:I.a}),Object(W.jsxs)(U.f,{children:[Object(W.jsxs)(U.d,{title:"Actividad",children:[Object(W.jsx)(U.e,{onClick:D,icon:Object(W.jsx)(S.a,{color:"brand.500",as:N.a}),children:"Guardar Cambios"}),Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.a,{color:"brand.500",as:F.j}),children:"Publicar Actividad"})]}),Object(W.jsx)(U.c,{}),Object(W.jsx)(U.d,{title:"Ver",children:T?Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.a,{as:Be.b}),onClick:nr,children:"Vista normal"}):Object(W.jsx)(U.e,{icon:Object(W.jsx)(S.a,{as:Be.a}),onClick:ar,children:"Pantalla completa"})})]})]})]}),Object(W.jsx)(Ne.a,{}),Object(W.jsx)(Pe.a,{flexGrow:"1",bg:"gray.100",p:"4",boxShadow:"base",children:Object(W.jsx)(w.a,{height:"full",isLoaded:!P,children:Object(W.jsx)(Me,{decorate:j,renderElement:d,renderLeaf:l,readOnly:!q,placeholder:"Escribe aqu\xed..."})})}),i.selection&&Object(W.jsx)(We.a,{direction:"bottom",in:i.selection,style:{zIndex:50,boxShadow:"var(--chakra-shadows-dark-lg)"},children:Object(W.jsxs)(k.a,{pr:"30vw",w:"100vw",color:"#616161",bg:"white",alignItems:"center",height:"50px",children:[Object(W.jsx)(k.a,{width:"full",height:"full",overflowX:"auto",alignItems:"center",children:Object(W.jsx)(Ut,{})}),Object(W.jsxs)(k.a,{height:"full",position:"fixed",bottom:"0",right:"0",alignItems:"center",children:[Object(W.jsx)(Ne.a,{orientation:"vertical"}),Object(W.jsx)(I.a,{bg:"white",borderRadius:"none",height:"full",onClick:function(){_e.h.deselect(i)},variant:"ghost",colorScheme:"brand",icon:Object(W.jsx)(S.a,{as:R.b})}),Object(W.jsx)(Ne.a,{orientation:"vertical"}),Object(W.jsx)(I.a,{variant:"ghost",borderRadius:"none",height:"full",colorScheme:"brand",icon:Object(W.jsx)(S.a,{as:F.i})})]})]})}),!i.selection&&Object(W.jsx)(We.a,{direction:"bottom",in:!i.selection,style:{zIndex:150},children:Object(W.jsxs)(Pe.a,{color:"white",display:"flex",bg:"#05043E",alignItems:"center",width:"100%",justifyContent:"space-around",children:[Object(W.jsxs)(k.a,{onClick:H,flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(W.jsx)(S.a,{w:6,h:6,as:F.n}),Object(W.jsx)(v.a,{fontSize:"x-small",children:"Imprimir"})]}),Object(W.jsxs)(k.a,{flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(W.jsx)(S.a,{w:6,h:6,as:F.l}),Object(W.jsx)(v.a,{fontSize:"x-small",children:"Inicio"})]}),Object(W.jsxs)(k.a,{flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(W.jsx)(S.a,{w:6,h:6,as:F.g}),Object(W.jsx)(v.a,{fontSize:"x-small",children:"Previsualizar"})]})]})})]}),Object(W.jsxs)(Pe.a,{display:"none",flexDirection:"column",alignItems:"flex-start",position:"fixed",zIndex:"banner",bottom:"0.5",width:"full",sx:{"@media print":{display:"flex"}},children:[Object(W.jsx)(S.a,{as:fe}),Object(W.jsxs)(v.a,{fontSize:"smaller",children:[" ",_,"/worksheets/",c,"/practice "]})]})]})},ir=r(430),sr=r(232),or={users:[],username:void 0,worksheet:{title:"",content:[{type:"paragraph",children:[{text:""}]}]}};function lr(e,t){switch(console.log("> Practice reducer: ".concat(t.type)),t.type){case"set-username":return Object(p.a)(Object(p.a)({},e),{},{username:t.payload.username});case"set-worksheet":return Object(p.a)(Object(p.a)({},e),{},{worksheet:t.payload.worksheet});case"set-worksheet-content":return Object(p.a)(Object(p.a)({},e),{},{worksheet:Object(p.a)(Object(p.a)({},e.worksheet),{},{content:t.payload.content})});case"add-user":return Object(p.a)(Object(p.a)({},e),{},{users:[].concat(Object(d.a)(e.users),[t.payload.user])});case"set-users":return Object(p.a)(Object(p.a)({},e),{},{users:t.payload.users});default:return console.warn("Action provided did not matched",t),e}}var dr=function(e){var t=e.users;return Object(W.jsx)(ir.a,{size:"sm",max:3,children:t.map((function(e){var t=e.username,r=e.userID;return Object(W.jsx)(sr.a,{bg:"brand.500",color:"white",name:t,src:Object(W.jsx)(F.r,{}),title:t},r)}))})},jr=function(e){var t=e.dispatch,r=Object(O.a)(),n=Object(a.useRef)();function c(){var e=n.current.value;""===e.trim()?r({description:"Debes elegir un nombre v\xe1lido",status:"warning",duration:8e3,position:"top-right",isClosable:!0}):t({type:"set-username",payload:{username:e}})}return Object(W.jsx)(k.a,{bg:"gray.100",h:"100vh",alignItems:"center",justifyContent:"center",children:Object(W.jsxs)(k.a,{flexDir:"column",bg:"white",px:"10",py:"5",boxShadow:"base",borderRadius:"base",alignItems:"center",justifyContent:"center",children:[Object(W.jsx)(v.a,{fontSize:"x-large",my:"4",children:"Ingresa tu nombre"}),Object(W.jsx)(tt.a,{onSubmit:c,size:"lg",ref:n,variant:"filled",my:"4",placeholder:"Escribe un nombre"}),Object(W.jsx)(C.a,{variant:"solid",colorScheme:"brand",my:"4",onClick:c,children:"Aceptar"})]})})},br=function(){var e=Object(x.g)().id,t=Ye(),r=Zt(),n=Object(h.a)(r,2),c=n[0],i=n[1],s=Object(a.useReducer)(lr,or),o=Object(h.a)(s,2),l=o[0],d=o[1],j=l.username,f=l.users,m=l.worksheet,y=Object(O.a)();return Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(b.a.mark((function t(){var r,a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/activities/".concat(e));case 2:return r=t.sent,t.next=5,r.json();case 5:a=t.sent,r.ok&&(n=Se(a),d({type:"set-worksheet",payload:{worksheet:n}}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(a.useEffect)((function(){j&&(st.auth={username:j},st.connect(),st.emit("join-room",e))}),[e,j]),Object(a.useEffect)((function(){return st.on("users",(function(e){d({type:"set-users",payload:{users:e}})})),st.on("user-connected",(function(e){y({description:"".concat(e.username," ha ingresado a la actividad."),status:"info",duration:3e3,position:"top-right",isClosable:!0}),d({type:"add-user",payload:{user:e}})})),st.on("send-updated-content",(function(e){st.emit("send-updated-content",e,m.content)})),st.on("user-disconnected",(function(e){var t=e.username,r=e.users;y({description:"".concat(t," se ha salido de la actividad."),status:"info",duration:3e3,position:"top-right",isClosable:!0}),d({type:"set-users",payload:{users:r}})})),st.on("action",(function(e){if(0!==t.children.length){var r=e.path,a=Object(Et.a)(e,["path"]);switch(a.type){case"update-content":console.log(a.content),d({type:"set-worksheet-content",payload:{content:a.content}});break;case"set-leaf-props":_e.h.setNodes(t,Object(p.a)({},a.props),{at:r});break;case"input-focused":_e.h.setNodes(t,{focused:!0,user:a.user},{at:r});break;case"input-blured":_e.h.setNodes(t,{focused:!1},{at:r})}}})),st.on("connection_error",(function(t){switch(t.message){case"invalid username":y({description:"Debes elegir un nombre v\xe1lido",status:"warning",duration:8e3,position:"top-right",isClosable:!0});break;case"invalid room":st.emit("join-room",e)}})),function(){st.offAny(),st.off("send-updated-content"),st.off("users"),st.off("user-connected"),st.off("user-disconnected"),st.off("action"),st.off("connection_error")}}),[e,m,t,y]),G("var(--chakra-colors-gray-100)"),ye("LangSheets | ".concat(m.title)),j?Object(W.jsxs)(a.Fragment,{children:[Object(W.jsxs)(k.a,{py:"2",children:[Object(W.jsx)(v.a,{flexGrow:"1",color:"brand.600",px:"4",fontSize:"x-large",fontWeight:"bold",children:m.title}),Object(W.jsx)(k.a,{justifyContent:"flex-end",alignItems:"center",px:"4",children:Object(W.jsx)(dr,{users:f})})]}),Object(W.jsx)(Pe.a,{children:Object(W.jsx)(g.a,{maxWidth:"container.lg",my:"4",children:Object(W.jsx)(ot.Provider,{value:st,children:Object(W.jsx)(Ie.c,{editor:t,value:m.content,onChange:function(e){return d({type:"set-worksheet-content",payload:{content:e}})},children:Object(W.jsx)(Pe.a,{background:"white",px:["8","16"],py:"16",as:Ie.a,shadow:"sm",renderElement:i,renderLeaf:c,readOnly:!0})})})})})]}):Object(W.jsx)(jr,{dispatch:d})},ur=function(){return ye("P\xe1gina no encontrada"),Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(ge,{}),Object(W.jsxs)(k.a,{alignItems:"center",flexDirection:"column",justifyContent:"center",textAlign:"center",height:"100vh",children:[Object(W.jsx)(v.a,{fontSize:"6xl",children:"404"}),Object(W.jsx)(v.a,{fontSize:"4xl",children:"Page not founded"})]})]})},hr=r(96);var pr=function(){return Object(W.jsx)(s.a,{theme:l,children:Object(W.jsx)("div",{className:"App",children:Object(W.jsx)(hr.a,{children:Object(W.jsxs)(x.c,{children:[Object(W.jsx)(x.a,{path:"/",exact:!0,component:ze}),Object(W.jsx)(x.a,{path:"/worksheets/:id/edit",component:cr}),Object(W.jsx)(x.a,{path:"/worksheets/:id/practice",component:br}),Object(W.jsx)(x.a,{path:"*",component:ur})]})})})})},xr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,444)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),c(e),i(e)}))};i.a.render(Object(W.jsx)(n.a.StrictMode,{children:Object(W.jsx)(pr,{})}),document.getElementById("root")),xr()}},[[387,1,2]]]);
//# sourceMappingURL=main.c5aea17e.chunk.js.map