(this.webpackJsonplangsheets=this.webpackJsonplangsheets||[]).push([[0],{326:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(35),i=r.n(c),s=r(372),o=r(343),l=Object(o.a)({colors:{brand:{50:"#eaeaff",100:"#c2c2f3",200:"#9b9ae6",300:"#7371da",400:"#4c48cf",500:"#332fb6",600:"#27258e",700:"#1b1a66",800:"#0f1040",900:"#06041a"}}}),d=r(16),j=r(14),b=r.n(j),u=r(63),h=r(3),x=r(7),p=r(25),O=r(370),f=r(377),m=r(379),g=r(358),v=r(346),y=r(359),w=r(373),k=r(344),C=r(200),S=r(328),E=r(347),A=r(188),z=r(376),I=r(351),L=r(352),P=r(57),F=r(20),R=r(92),q=r(59),W=r(187),N=r(2),M={es:"Espa\xf1ol",en:"Ingl\xe9s",fr:"Franc\xe9s",ru:"Ruso",de:"Alem\xe1n",ja:"Japon\xe9s",zh:"Chino"};function T(e){var t=e.lang,r=e.title,n=e._id,c=(e.createdAt,e.deleteSheet),i=e.isPublic,s=Object(a.useState)(!1),o=Object(h.a)(s,2),l=o[0],d=o[1],j=function(){return d(!1)},b=Object(a.useRef)();return Object(N.jsxs)(a.Fragment,{children:[Object(N.jsxs)(k.a,{boxShadow:"base",background:"white",height:"40",borderRadius:"xl",width:"full",children:[Object(N.jsxs)(k.a,{padding:"5",flexDirection:"column",children:[Object(N.jsx)(v.a,{title:""===r?"Sin t\xedtulo":r,noOfLines:2,fontFamily:"sans-serif",fontSize:"large",fontWeight:"semibold",children:""===r?"Sin t\xedtulo":r}),Object(N.jsx)(E.a,{}),M[t]&&Object(N.jsxs)(v.a,{children:[Object(N.jsx)(S.a,{mr:"2",as:W.a}),M[t]]}),Object(N.jsxs)(v.a,{noOfLines:1,title:"Actividad ".concat(i?"P\xfablica":"Privada"),children:[Object(N.jsx)(S.a,{mr:"2",as:i?R.c:q.c}),"Actividad ",i?"P\xfablica":"Privada"]})]}),Object(N.jsx)(E.a,{}),Object(N.jsx)(k.a,{pr:"5",py:"5",children:Object(N.jsxs)(A.a,{as:k.a,flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",spacing:"0",size:"lg",colorScheme:"brand",variant:"ghost",children:[Object(N.jsx)(z.a,{hasArrow:!0,label:"Comenzar Actividad",children:Object(N.jsx)(I.a,{as:"a",href:"/worksheets/".concat(n,"/practice"),icon:Object(N.jsx)(S.a,{as:F.g})})}),Object(N.jsx)(z.a,{hasArrow:!0,label:"Editar Actividad",children:Object(N.jsx)(I.a,{as:"a",href:"/worksheets/".concat(n,"/edit"),icon:Object(N.jsx)(S.a,{as:q.b})})}),Object(N.jsx)(z.a,{hasArrow:!0,label:"Eliminar Actividad",children:Object(N.jsx)(I.a,{onClick:function(e){return d(!0)},icon:Object(N.jsx)(S.a,{as:R.a})})})]})})]}),Object(N.jsx)(L.a,{isOpen:l,leastDestructiveRef:b,onClose:j,children:Object(N.jsx)(P.f,{children:Object(N.jsxs)(L.b,{children:[Object(N.jsx)(P.e,{fontSize:"lg",fontWeight:"bold",children:"Eliminar Actividad"}),Object(N.jsx)(P.b,{children:"\xbfEst\xe1s seguro de querer borrar esta actividad? Esta acci\xf3n es irreversible."}),Object(N.jsxs)(P.d,{children:[Object(N.jsx)(C.a,{ref:b,onClick:j,children:"Cancelar"}),Object(N.jsx)(C.a,{colorScheme:"red",onClick:function(e){return c(n)},ml:3,children:"Eliminar"})]})]})})})]})}T.defaultProps={lang:"",isPublic:!0};var D=T,V=r(72),Z=r(34),H=r.n(Z),B=function(e){Object(a.useEffect)((function(){document.body.style.background=e}),[e])};B.propTypes={backgroundColor:H.a.string.isRequired};var J,_,G=B,K=r(355),U=r(371);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Y(e,t){var r=e.title,n=e.titleId,c=Q(e,["title","titleId"]);return a.createElement("svg",X({width:70,height:78,viewBox:"0 0 70 78",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,J||(J=a.createElement("g",{clipPath:"url(#clip0)"},a.createElement("path",{d:"M69.7126 21.9061L55.7683 3.7113L29.024 0.0596367C25.5601 -0.413512 22.3645 1.97751 21.8856 5.39973L14.2604 59.911C13.7815 63.3332 16.2016 66.4903 19.6655 66.9635L56.4828 71.9905C59.9467 72.4636 63.1423 70.0726 63.6212 66.6504L69.8733 21.9541L69.7126 21.9061Z",fill:"#605EC5"}),a.createElement("path",{d:"M69.8201 21.991L53.7102 19.7918L55.9559 3.73657L69.8201 21.991Z",fill:"#8987DE"}),a.createElement("path",{d:"M57.2476 29.9889L30.5532 26.3441L30.0225 30.138L56.7169 33.7828L57.2476 29.9889Z",fill:"white"}),a.createElement("path",{d:"M55.9146 39.52L29.2202 35.8752L28.6895 39.6692L55.3839 43.3139L55.9146 39.52Z",fill:"white"}),a.createElement("path",{d:"M27.8744 45.4979L27.4214 48.7365L50.65 51.908L51.103 48.6695L27.8744 45.4979Z",fill:"white"}),a.createElement("path",{d:"M49.6339 26.3764L33.2997 10.2388H6.3008C2.80408 10.2388 -0.0300293 13.0394 -0.0300293 16.4934V71.5224C-0.0300293 74.9771 2.80474 77.777 6.3008 77.777H43.4684C46.9651 77.777 49.7992 74.9764 49.7992 71.5224V26.4016L49.6339 26.3764Z",fill:"#252388"}),a.createElement("path",{d:"M49.752 26.4463H33.4893V10.2388L49.752 26.4463Z",fill:"#4846AE"}),a.createElement("path",{d:"M38.4054 36.0681H11.4578V39.8981H38.4054V36.0681Z",fill:"white"}),a.createElement("path",{d:"M38.4054 45.6899H11.4578V49.5198H38.4054V45.6899Z",fill:"white"}),a.createElement("path",{d:"M34.9068 55.4049H11.4578V58.6742H34.9068V55.4049Z",fill:"white"}))),_||(_=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0"},a.createElement("rect",{width:70,height:77.7778,fill:"white"})))))}var $,ee,te,re,ae=a.forwardRef(Y);r.p;function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ie(e,t){var r=e.title,n=e.titleId,c=ce(e,["title","titleId"]);return a.createElement("svg",ne({id:"Capa_2","data-name":"Capa 2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 16",stroke:"currentColor",fill:"currentColor",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,$||($=a.createElement("path",{d:"M16.14,13.06c-.39,0-.74-.5-1-1.51a19.28,19.28,0,0,1-.42-2c-.43.06-1,.17-1.71.32l-1.69.35c-.22.56-.58,1.38-1.1,2.45a.61.61,0,0,1-.55.36.7.7,0,0,1-.46-.19.61.61,0,0,1-.2-.46A11.73,11.73,0,0,1,10,10a.7.7,0,0,1-.1-.38c0-.35.2-.57.62-.67.49-.91,1.1-2,1.84-3.14,1-1.61,1.64-2.42,1.89-2.42s.56.23.69.7l.4,2.15.95,4.44.36,1a2.39,2.39,0,0,1,.19.69.63.63,0,0,1-.2.46A.64.64,0,0,1,16.14,13.06Zm-2.26-7.3-1.82,3q.76-.21,2.34-.48Z"})),ee||(ee=a.createElement("path",{className:"cls-1",d:"M23.38,12.61a10.06,10.06,0,0,1-3.67.57.71.71,0,0,1-.52-.26.77.77,0,0,1-.25-.54V10.53q0-.91.12-2.61c.08-1.22.13-2.1.14-2.64s0-1,.07-1.75a.57.57,0,0,1,.21-.43,7,7,0,0,1,2-.26,3.58,3.58,0,0,1,2.16.76A2.65,2.65,0,0,1,24.8,5.78a3.05,3.05,0,0,1-1.27,2.59,4.4,4.4,0,0,1,1.43.9,1.57,1.57,0,0,1,.48,1.09,2,2,0,0,1-.84,1.49A4.11,4.11,0,0,1,23.38,12.61ZM22.17,9.25l-.68-.1H21a4.84,4.84,0,0,1-.74-.05c0,.53,0,1,0,1.43v1.33a8.26,8.26,0,0,0,2.73-.48,2.71,2.71,0,0,0,.86-.53c.26-.22.39-.39.39-.5s-.28-.43-.82-.68A7.17,7.17,0,0,0,22.17,9.25Zm-.72-5.11a7.5,7.5,0,0,0-1,0V5.3l-.13,2.47c.61.05.93.08,1,.07a2.67,2.67,0,0,0,1.58-.6,1.83,1.83,0,0,0,.66-1.46,1.45,1.45,0,0,0-.67-1.12A2.27,2.27,0,0,0,21.45,4.14Z"})),te||(te=a.createElement("path",{className:"cls-1",d:"M33,5.7a.67.67,0,0,1-.62-.48,1.11,1.11,0,0,0-.33-.49,1.76,1.76,0,0,0-.66-.07c-.62,0-1.31.47-2.06,1.41a5.9,5.9,0,0,0-1.53,3.61,2,2,0,0,0,.53,1.42,1.68,1.68,0,0,0,1.31.61A2.85,2.85,0,0,0,31,11.37a8.66,8.66,0,0,0,1.14-.75,1.09,1.09,0,0,1,.54-.27.57.57,0,0,1,.46.21.65.65,0,0,1,.19.46.68.68,0,0,1-.24.51A5.19,5.19,0,0,1,29.66,13a2.92,2.92,0,0,1-2.24-1,3.37,3.37,0,0,1-.88-2.33,7.19,7.19,0,0,1,1.81-4.44,4.12,4.12,0,0,1,3.06-1.89,4.86,4.86,0,0,1,.56,0,1.9,1.9,0,0,1,.44.09A.67.67,0,0,1,33,3.14c.29,0,.48.2.56.58A7.52,7.52,0,0,1,33.65,5a.78.78,0,0,1-.14.46A.56.56,0,0,1,33,5.7Z"})),re||(re=a.createElement("path",{d:"M39.8,0H2.2a2,2,0,0,0-2,2V14a2,2,0,0,0,2,2H39.8a2,2,0,0,0,2-2V2A2,2,0,0,0,39.8,0Zm-.65,14.26H2.86A.91.91,0,0,1,2,13.35V2.7a1,1,0,0,1,1-1h36a1,1,0,0,1,1.13,1.07V3a.68.68,0,0,1,0,.12h0v10.2A.9.9,0,0,1,39.15,14.26Z"})))}var se,oe,le,de,je,be=a.forwardRef(ie);r.p;function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xe(e,t){var r=e.title,n=e.titleId,c=he(e,["title","titleId"]);return a.createElement("svg",ue({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,se||(se=a.createElement("rect",{x:12,y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),oe||(oe=a.createElement("rect",{x:6,y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),le||(le=a.createElement("rect",{y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),de||(de=a.createElement("path",{d:"M12.5218 11.5161C12.0215 12.0161 11.5219 12.5161 10.9268 12.8914C10.0216 13.5162 8 13.5 6.99997 13.5C5.98032 13.4885 4.99928 13.0089 3.99992 12.5",stroke:"#616161",strokeLinecap:"round",strokeLinejoin:"round"})),je||(je=a.createElement("path",{d:"M4.32786 13.9956C4.10086 13.6319 4.02894 13.2646 3.80915 12.8979C3.72803 12.7626 3.64479 12.6383 3.57362 12.5089C3.41056 12.2124 3.5 12 3.78875 12.0797C3.2496 12.0797 4.5 11.9506 5.07287 11.9506C5.44509 11.9511 6 11.9075 6.13559 11.9075",stroke:"#616161",strokeLinecap:"round",strokeLinejoin:"round"})))}var pe=a.forwardRef(xe),Oe=(r.p,function(e){var t=e.withIcon,r=function(e){switch(e){case"sm":return{w:"1em,",h:"1em"};case"lg":return{w:"3em",h:"3m"};default:return{w:"2.5em",h:"2.5em"}}}(e.size);return Object(N.jsxs)(C.a,{variant:"unstyled",display:"flex",as:"a",href:"/",children:[t&&Object(N.jsx)(S.a,Object(x.a)(Object(x.a)({mr:"2"},r),{},{as:ae,title:"LangSheets"})),Object(N.jsx)(v.a,{fontFamily:"cursive",fontSize:"large",fontWeight:"semibold",color:"brand.500",mr:"2",children:"LangSheets"})]})});Oe.defaultProps={withIcon:!0,size:"md"};var fe=Oe;function me(e){var t=e.leftActions,r=e.rightActions,n=e.withIcon,c=e.sm,i=Object(K.a)(["(max-width:900px)"]),s=Object(h.a)(i,1)[0];return Object(N.jsxs)(k.a,{px:"10",background:"white",py:"2",shadow:"sm",sx:{"@media print":{display:"none"}},children:[Object(N.jsx)(fe,Object(x.a)({},n)),s?c&&Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(E.a,{}),Object(N.jsxs)(U.a,{children:[Object(N.jsx)(U.b,{colorScheme:"purple",variant:"ghost",as:C.a,children:Object(N.jsx)(S.a,{as:V.c})}),Object(N.jsx)(U.f,{zIndex:"dropdown",children:c})]})]}):Object(N.jsxs)(a.Fragment,{children:[t,Object(N.jsx)(E.a,{}),r]})]})}me.defaultProps={withIcon:!0};var ge=me,ve=function(e){Object(a.useEffect)((function(){document.title=e}),[e])};ve.propTypes={title:H.a.string.isRequired};var ye=ve;function we(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement}function ke(e){return e.map(Se)}function Ce(e){var t=Object(x.a)({},e);return t.content=JSON.stringify(e.content),t}function Se(e){var t=Object(x.a)({},e);return t.content=JSON.parse(e.content),t}var Ee={error:void 0,loading:!0,worksheets:void 0};function Ae(e,t){switch(t.type){case"call-api":return Object(x.a)(Object(x.a)({},e),{},{loading:!0});case"api-call-ended":return Object(x.a)(Object(x.a)({},e),{},{loading:!1});case"update-worksheets":return Object(x.a)(Object(x.a)({},e),{},{loading:!1,worksheets:t.payload.worksheets});case"api-error":return Object(x.a)(Object(x.a)({},e),{},{loading:!1,error:t.payload.error});default:return console.warn("The action type given did not match any posible action",t),e}}var ze=function(){var e=Object(p.f)(),t=Object(O.a)(),r=Object(a.useReducer)(Ae,Ee),n=Object(h.a)(r,2),c=n[0],i=n[1],s=c.error,o=c.loading,l=c.worksheets;function j(){return(j=Object(u.a)(b.a.mark((function t(){var r,a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:"call-api"}),r={title:"Actividad sin t\xedtulo",lang:"es",published:!1,content:JSON.stringify([{type:"paragraph",children:[{text:""}]}]),createdAt:new Date},t.next=4,fetch("/api/activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:return a=t.sent,t.next=7,a.json();case 7:if(n=t.sent,i({type:"api-call-ended"}),!a.ok){t.next=12;break}return e.push("/worksheets/".concat(n._id,"/edit")),t.abrupt("return");case 12:i({type:"api-error",payload:{error:n}});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=Object(u.a)(b.a.mark((function e(r){var a,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"call-api"}),e.next=3,fetch("/api/activities/".concat(r),{method:"DELETE"});case 3:if(a=e.sent,n=a.json(),!a.ok){e.next=10;break}return c=Object(d.a)(l).filter((function(e){return e._id!==r})),i({type:"update-worksheets",payload:{worksheets:c}}),t({title:"Actividad Eliminada",description:"La actividad fue eliminada exit\xf3samente",status:"info",durarion:5e3,isClosable:!0}),e.abrupt("return");case 10:i({type:"api-error",payload:{error:n}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"call-api"}),e.next=3,fetch("/api/activities");case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,!t.ok){e.next=10;break}return i({type:"update-worksheets",payload:{worksheets:ke(r)}}),e.abrupt("return");case 10:i({type:"api-error",payload:{error:r}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var A={createSheet:function(){return j.apply(this,arguments)},deleteSheet:function(e){return E.apply(this,arguments)}};return G("var(--chakra-colors-gray-100)"),ye("LangSheets | Mis actividades"),Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(ge,{}),o&&Object(N.jsx)(f.a,{size:"xs",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),s&&Object(N.jsxs)(m.a,{status:"error",children:[Object(N.jsx)(m.c,{}),Object(N.jsx)(m.b,{children:s.message})]}),Object(N.jsxs)(g.a,{maxW:"container.lg",children:[Object(N.jsx)(v.a,{fontSize:"xx-large",fontWeight:"semibold",my:"5",textAlign:["center","left"],children:" Mis Worksheets "}),Object(N.jsxs)(y.a,{mx:{md:"7",lg:"0"},gap:"5",justifyContent:"center",placeItems:"center",templateColumns:{base:"",md:"repeat(2, var(--chakra-sizes-72))",lg:"repeat(3, minmax(var(--chakra-sizes-72),var(--chakra-sizes-80)))"},children:[!!l&&l.map((function(e){return Object(N.jsx)(w.a,{isLoaded:!o,children:Object(N.jsx)(D,Object(x.a)({},Object(x.a)(Object(x.a)({},e),A)))},e._id)})),Object(N.jsx)(k.a,{width:"full",as:C.a,colorScheme:"brand",variant:"ghost",background:"white",onClick:A.createSheet,leftIcon:Object(N.jsx)(S.a,{as:V.a}),size:"lg",boxShadow:"base",height:"40",borderRadius:"xl",children:"Crear Nueva actividad"})]})]})]})},Ie=r(15),Le=r(360),Pe=function(e){return Object(N.jsx)(a.Fragment,{children:Object(N.jsxs)(k.a,{flexDirection:"column",alignItems:"center",children:[Object(N.jsx)(Le.a,{px:"4",variant:"unstyled",_focus:{outline:"none"},as:"a",href:"/",children:Object(N.jsx)(ae,{width:"70px"})}),Object(N.jsxs)(k.a,{mt:"40",flexDirection:"column",flexGrow:"1",width:"full",children:[Object(N.jsx)(z.a,{hasArrow:!0,arrowSize:"5",placement:"auto-start",label:"Previsualizar actividad",children:Object(N.jsx)(Le.a,{as:"a",target:"_blank",referrerPolicy:"no-referrer",href:"/worksheets/".concat(e.id,"/practice"),sx:{"&":{transition:"all ease 300ms",color:"white",cursor:"pointer",textAlign:"center",borderRadius:"none"},"&:hover, &:active":{background:"#252388"}},children:Object(N.jsx)(S.b,{m:"4",w:8,h:8,as:F.g})})}),Object(N.jsx)(z.a,{hasArrow:!0,arrowSize:"5",placement:"auto-start",label:"Imprimir actividad",children:Object(N.jsx)(Le.a,{onClick:e.handlePrint,sx:{"&":{transition:"all ease 300ms",color:"white",cursor:"pointer",textAlign:"center",borderRadius:"none"},"&:hover, &:active":{background:"#252388"}},children:Object(N.jsx)(S.b,{m:"4",w:8,h:8,as:F.n})})})]})]})})},Fe=r(380);var Re=function(e){var t=e.title,r=e.dispatch,n=Object(a.useRef)();return Object(N.jsx)(Le.a,{onClick:function(){return n.current.focus()},sx:{"@media print":{textAlign:"center"}},children:Object(N.jsxs)(Fe.a,{fontSize:"x-large",required:!0,id:"title",value:t,onChange:function(e){return r({type:"change-worksheet-prop",payload:{property:"title",value:e}})},type:"text",placeholder:"Escribe un t\xedlulo aqu\xed...",children:[Object(N.jsx)(Fe.c,{ref:n}),Object(N.jsx)(Fe.b,{})]})})},qe=r(366),We=r(381),Ne=r(368),Me=function(e){var t=e.decorate,r=e.renderElement,a=e.renderLeaf,n=e.readOnly,c=e.placeholder;return Object(N.jsx)(Le.a,{background:"white",p:"5",as:Ie.a,decorate:t,renderElement:r,renderLeaf:a,readOnly:n,placeholder:c})},Te=r(361),De=function(e){var t=e.dispatch,r=e.lang;return Object(N.jsxs)(Le.a,{my:"4",children:[Object(N.jsx)(v.a,{my:"2",children:"Idioma"}),Object(N.jsxs)(Te.a,{background:"white",required:!0,value:r,onChange:function(e){return t({type:"change-worksheet-prop",payload:{property:"lang",value:e.target.value}})},children:[Object(N.jsx)("option",{value:""}),Object(N.jsx)("option",{value:"de",children:"Alem\xe1n"}),Object(N.jsx)("option",{value:"es",children:"Espa\xf1ol"}),Object(N.jsx)("option",{value:"fr",children:"Franc\xe9s"}),Object(N.jsx)("option",{value:"en",children:"Ingl\xe9s"}),Object(N.jsx)("option",{value:"ru",children:"Ruso"}),Object(N.jsx)("option",{value:"zh",children:"Chino"}),Object(N.jsx)("option",{value:"ja",children:"Japon\xe9s"})]})]})};De.defaultProps={lang:""};var Ve=De,Ze=function(e){var t=e.dispatch,r=e.isPublic;return Object(N.jsx)(Le.a,{my:"4",children:Object(N.jsx)(z.a,{label:"Si la actividad es p\xfablica, ser\xe1 listada en la p\xe1gina global de actividades",children:Object(N.jsxs)(v.a,{my:"2",children:["Actividad P\xfablica ",Object(N.jsx)(We.a,{colorScheme:"brand",ml:"4",onChange:function(e){return t({type:"change-worksheet-prop",payload:{property:"isPublic",value:!r}})},isChecked:r})," "]})})})};Ze.defaultProps={isPublic:!0};var He=Ze,Be=r(83),Je=r(4),_e=r(201),Ge=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(h.a)(r,2),n=a[0],c=a[1];!Je.a.isBlock(n)||n.alignment?t(r):Je.h.setNodes(e,{textAlign:"left"},{at:c})},e},Ke=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(h.a)(r,2),n=a[0],c=a[1];if("exercise-block"===n.type&&!Je.c.has(e,Je.e.next(c)))return Je.h.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:Je.e.next(c)});t(r)},e},Ue=r(12),Xe=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(h.a)(r,2),n=a[0],c=a[1];if(Je.a.isBlock(e,n)&&["paragraph","paragraph-with-missing-word"].includes(n.type)){var i,s=!1,o=Object(Ue.a)(Je.c.descendants(n));try{for(o.s();!(i=o.n()).done;){Object(h.a)(i.value,1)[0].missingWord&&(s=!0)}}catch(O){o.e(O)}finally{o.f()}if(s){if("paragraph-with-missing-word"!==n.type)return Je.h.setNodes(e,{type:"paragraph-with-missing-word"},{at:c})}else if("paragraph-with-missing-word"===n.type)return Je.h.setNodes(e,{type:"paragraph"},{at:c})}if(Je.c.isNode(n)&&Je.b.isElement(n)){var l,d=Je.c.first(e,c)[1],j=Je.c.last(e,c)[1],b=Object(Ue.a)(Je.c.children(e,c));try{for(b.s();!(l=b.n()).done;){var u=Object(h.a)(l.value,2),x=u[0],p=u[1];if(!0===x.missingWord){if(Je.e.equals(p,j))return Je.h.insertNodes(e,{text:" "},{at:Je.e.next(p),select:!0,hanging:!0});if(Je.e.equals(p,d))return Je.h.insertNodes(e,{text:" "},{at:p,select:!0,hanging:!0});if(Je.c.has(e,Je.e.next(p)))if(" "!==Je.c.get(e,Je.e.next(p)).text[0])return Je.h.insertText(e," ",{at:{path:Je.e.next(p),offset:0}})}}}catch(O){b.e(O)}finally{b.f()}}t(r)},e},Qe=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(h.a)(r,2),n=a[0],c=a[1];if(Je.a.isBlock(e,n)&&["paragraph","word-order-exercise-paragraph"].includes(n.type)){var i=!1;if(Je.c.string(n).split("/").length>1&&(i=!0),i){if("word-order-exercise-paragraph"!==n.type)return Je.h.setNodes(e,{type:"word-order-exercise-paragraph"},{at:c})}else if("word-order-exercise-paragraph"===n.type)return Je.h.setNodes(e,{type:"paragraph"},{at:c})}t(r)},e};var Ye=function(){return Object(a.useMemo)((function(){return Ge(Qe(Ke(Xe(Object(_e.a)(Object(Ie.h)(Object(Je.i)()))))))}),[])},$e=r(363),et=r(364),tt=r(365),rt=r(203);function at(e){if(!e.length||!e)throw new Error("Expected an array wit items and got",JSON.stringify(e));for(var t,r,a=Object(d.a)(e),n=a.length;0!==n;)r=Math.floor(Math.random()*n),t=a[n-=1],a[n]=a[r],a[r]=t;return e[0]===a[0]?at(a):a}function nt(e,t){if(!e||!t)throw new Error("Slate editor and path are required");var r,a,n,c=Object(Ue.a)(Je.c.ancestors(e,t));try{for(c.s();!(n=c.n()).done;){var i=Object(h.a)(n.value,1)[0];"exercise-block"===i.type&&(r=i.showAnswers,a=i.checkExercise)}}catch(s){c.e(s)}finally{c.f()}return{showAnswers:r,checkExercise:a}}function ct(e,t){var r=e.split("/").map((function(e){return{word:e,id:Object(rt.a)(),isCorrect:!1}}));return t.shuffle?at(r):r}var it=function(e){var t=e.isCorrect,r=e.checkExercise,a=e.showAnswers;return!r||a?null:t?Object(N.jsx)($e.a,{as:"span",children:Object(N.jsx)(S.b,{as:F.h,color:"green.400"})}):Object(N.jsx)($e.a,{as:"span",children:Object(N.jsx)(S.b,{as:F.p,color:"red.400"})})},st=function(e){var t=e.leaf,r=t.text,a=t.userAnswer,n=void 0===a?"":a,c=t.isCorrect,i=void 0!==c&&c,s=Object(Ie.g)(),o=Ie.b.findPath(s,e.text),l=nt(s,o),d=l.showAnswers,j=l.checkExercise;function b(e){return e.toLowerCase().trim()===r.toLowerCase().trim()}var u=d?r:n;return Object(N.jsxs)(et.a,{w:"32",as:"span",display:"inline-block",children:[Object(N.jsx)(tt.a,{variant:"filled",readOnly:j,value:u,onChange:function(e){var t,r=e.target.value;t={isAnswered:r.trim().length>0,isCorrect:b(r),userAnswer:r},Je.h.setNodes(s,t,{at:o})}}),Object(N.jsx)(it,{isCorrect:i,checkExercise:j,showAnswers:d})]})},ot=function(e){var t=Object(K.a)(["print"]),r=Object(h.a)(t,1)[0],a=r?e.leaf.text+e.leaf.text:e.children;return Object(N.jsx)(Le.a,Object(x.a)(Object(x.a)({as:"span",color:r?"transparent":"",borderRadius:"sm",px:"1",background:"brand.200"},e.attributes),{},{sx:{"@media print":{background:"none",borderBottom:"solid black 1px",color:"transparent"}},children:a}))},lt=function(e){var t=e.leaf,r=e.children,a=e.attributes,n=Object(Ie.e)();return!0===t.missingWord?n?Object(N.jsx)(st,Object(x.a)({},e)):Object(N.jsx)(ot,Object(x.a)({},e)):(t.division&&(r=Object(N.jsx)(v.a,{as:"span",fontWeight:"black",color:"brand.500",children:r})),t.bold&&(r=Object(N.jsx)("strong",{children:r})),t.italic&&(r=Object(N.jsx)("em",{children:r})),t.underline&&(r=Object(N.jsx)("u",{children:r})),t.strike&&(r=Object(N.jsx)("s",{children:r})),Object(N.jsx)("span",Object(x.a)(Object(x.a)({},a),{},{children:r})))},dt=function(e){var t=e.children,r=e.element,a=e.attributes,n=r.textAlign;return Object(N.jsx)(v.a,Object(x.a)(Object(x.a)({textAlign:n},a),{},{children:t}))},jt=function(e){var t=e.attributes,r=e.children;return Object(N.jsx)("div",Object(x.a)(Object(x.a)({},t),{},{children:r}))},bt=r(121),ut=function(e){var t=Object(Ie.g)(),r=e.element,n=Ie.b.findPath(t,r),c=nt(t,n),i=c.showAnswers,s=c.checkExercise,o=Je.c.string(r),l=Object(a.useRef)(ct(o,{shuffle:!0})),d=r.userAnswers,j=void 0===d?l.current:d,b=ct(o,{shuffle:!1});return i?Object(N.jsx)(k.a,{flexWrap:"wrap",alignItems:"center",my:"4",p:"4",borderRadius:"base",border:"2px var(--chakra-colors-purple-600) solid",children:b.map((function(e){return Object(N.jsx)(ht,Object(x.a)({},Object(x.a)(Object(x.a)({},e),{},{isCorrect:!0})),e.id)}))}):Object(N.jsx)(bt.a,{onDragEnd:function(e){if(e.destination){var a=function(e,t,r){var a=Array.from(e),n=a.splice(t,1),c=Object(h.a)(n,1)[0];return a.splice(r,0,c),a}(j,e.source.index,e.destination.index),n=Ie.b.findPath(t,r);Je.h.setNodes(t,{userAnswers:Ot(a,b)},{at:n})}},children:Object(N.jsx)(bt.c,{droppableId:"droppable",direction:"horizontal",children:function(e,t){return Object(N.jsxs)(k.a,Object(x.a)(Object(x.a)({flexWrap:"wrap",alignItems:"center",my:"4",p:"4",borderRadius:"base",border:"2px var(--chakra-colors-purple-600) solid",ref:e.innerRef},e.droppableProps),{},{className:"".concat(t.isDraggingOver&&"draggingOver"),children:[j.map((function(e,t){return Object(N.jsx)(xt,Object(x.a)({},Object(x.a)(Object(x.a)({},e),{},{index:t,checkExercise:s})),e.id)})),e.placeholder]}))}})})},ht=function(e){return Object(N.jsx)(v.a,{m:"1",px:"2",py:"1",bg:e.isCorrect?"green.500":"yellow.300",color:e.isCorrect?"white":"black",borderRadius:"base",as:"span",fontWeight:"medium",transition:"all ease 300",cursor:"default",children:e.word})},xt=function(e){var t=e.id,r=e.word,a=e.index,n=e.checkExercise,c=e.isCorrect;function i(e){return e.isDragging?"purple.600":n?c?"green.300":"yellow.300":"purple.500"}return Object(N.jsx)(bt.b,{draggableId:t,index:a,children:function(e,t){return Object(N.jsx)(v.a,Object(x.a)(Object(x.a)(Object(x.a)({userSelect:"none",m:"1",px:"2",py:"1",borderRadius:"base",as:"span",cursor:"move",fontWeight:"medium",color:n&&!c?"black":"white",transition:"all ease 300",bg:i(t),style:e.draggableProps.style,ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:r}))}},t)},pt=function(e){var t=e.attributes,r=e.children;return Object(N.jsx)("div",Object(x.a)(Object(x.a)({},t),{},{children:r}))};function Ot(e,t){return e.map((function(e,r){return Object(x.a)(Object(x.a)({},e),{},{isCorrect:e.word===t[r].word})}))}var ft=function(e){return Object(Ie.e)()?Object(N.jsx)(ut,Object(x.a)({},e)):Object(N.jsx)(pt,Object(x.a)({},e))};var mt=function(e){var t=e.element,r=e.children,a=e.attributes,n=t.textAlign,c=t.type.split(" ")[1];return Object(N.jsx)(v.a,Object(x.a)(Object(x.a)({textAlign:n,fontSize:c},a),{},{children:r}))},gt=r(367),vt=r(374),yt=r(202),wt=r(10);function kt(e,t,r){if(!r)return!1;var a=Je.a.nodes(r,{match:function(r){return r[e]===t}});return!!Object(h.a)(a,1)[0]}function Ct(e,t){if(!t)return!1;var r=Je.a.marks(t);return!!r&&!0===r[e]}function St(e,t){if(t)return Ct(e,t)?Je.a.removeMark(t,e):Je.a.addMark(t,e,!0)}var Et=function(e){var t=e.format,r=e.label,a=e.type,n=e.customOnClick,c=e.variant,i=e.icon,s=e.formatKey,o=Object(yt.a)(e,["format","label","type","customOnClick","variant","icon","formatKey"]),l=Object(Ie.g)();function d(){return"function"===typeof n?n.call():"mark"===a?St(t,l):function(e,t,r){var a=kt(e,t,r);Je.h.setNodes(r,Object(wt.a)({},e,a?null:t),{match:function(e){return Je.a.isBlock(r,e)}})}(s,t,l)}function j(){return"mark"===a?Ct(t,l):kt(s,t,l)}return"button"===c?Object(N.jsx)(z.a,{hasArrow:!0,label:r,fontSize:"md",children:Object(N.jsx)(C.a,Object(x.a)(Object(x.a)({size:"sm"},o),{},{color:j()?"brand.500":"#616161",background:j()?"brand.100":"",variant:"ghost",onClick:d,children:i}))}):Object(N.jsx)(U.e,{color:j()?"brand.500":"",background:j()?"brand.100":"",onClick:d,icon:i,children:r})};Et.defaultProps={customOnClick:void 0,variant:"button",formatKey:"type"};var At=Et,zt=function(e){var t=Object(Ie.g)(),r=Ie.b.findPath(t,e.element);return Object(N.jsxs)(A.a,{display:"flex",flexWrap:"wrap",spacing:["0","4"],justifyContent:"center",colorScheme:"purple",size:"sm",children:[Object(N.jsx)(C.a,{my:"2",variant:"solid",onClick:function(){Je.h.setNodes(t,{checkExercise:!0},{at:r})},children:"Calificar respuestas"}),Object(N.jsx)(C.a,{my:"2",variant:"outline",onClick:function(){Je.h.setNodes(t,{showAnswers:!0},{at:r})},children:"Ver respuestas"})]})},It=function(e){return Object(N.jsx)(a.Fragment,{children:Object(N.jsx)(zt,Object(x.a)({},e))})},Lt=r(197),Pt={"missing-word":"Palabras faltantes","word-order":"Ordenar oraciones"},Ft={"missing-word":Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(v.a,{my:"2",children:"Cada oraci\xf3n puede contener una o m\xfaltiple palabras faltantes."}),Object(N.jsxs)(v.a,{my:"2",children:["Para a\xf1adir una palabra faltante seleccione la palabra(s) y presione el boton de a\xf1adir palabra faltante. ",Object(N.jsx)(S.a,{color:"brand.500",w:"2.5em",as:be})]}),Object(N.jsx)(v.a,{my:"2",children:"Cada palabra faltante lucir\xe1 con un fondo de color p\xfarpura."}),Object(N.jsx)(v.a,{my:"2",color:"brand.500",fontWeight:"semibold",children:"Ejemplo:"}),Object(N.jsx)(v.a,{my:"2",children:Object(N.jsx)("em",{children:"Escribiendo la siguiente oraci\xf3n"})}),Object(N.jsxs)(v.a,{my:"2",as:"samp",children:["Si quieres cambiar el ",Object(N.jsx)(v.a,{px:"2",as:"span",bg:"brand.200",borderRadius:"base",children:"mundo"}),", c\xe1mbiate a ti mismo."]}),Object(N.jsx)(v.a,{my:"2",children:Object(N.jsx)("em",{children:"Se creara el siguiente ejercicio :"})}),Object(N.jsxs)(k.a,{alignItems:"center",flexWrap:"wrap",children:["Si quieres cambiar el ",Object(N.jsx)(tt.a,{w:"24",bg:"gray.100"}),", c\xe1mbiate a ti mismo."]})]}),"word-order":Object(N.jsxs)(a.Fragment,{children:[Object(N.jsxs)(v.a,{my:"2",children:["Cada oraci\xf3n tiene que ser dividida usando diagonales ",Object(N.jsx)(v.a,{as:"kbd",bg:"brand.100",children:"/"})]}),Object(N.jsx)(v.a,{my:"2",color:"brand.500",fontWeight:"semibold",children:"Ejemplo:"}),Object(N.jsx)(v.a,{my:"2",children:Object(N.jsx)("em",{children:"Escribiendo la siguiente oraci\xf3n"})}),Object(N.jsxs)(v.a,{my:"2",as:"samp",children:["Si quieres ",Object(N.jsx)(v.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"})," cambiar ",Object(N.jsx)(v.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"}),"el mundo, c\xe1mbiate",Object(N.jsx)(v.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"})," a ti mismo."]}),Object(N.jsx)(v.a,{my:"2",children:Object(N.jsx)("em",{children:"Se creara el siguiente ejercicio :"})}),Object(N.jsx)(k.a,{flexWrap:"wrap",children:at(["Si quieres","cambiar","el mundo, c\xe1mbiate","a ti mismo."]).map((function(e,t){return Object(N.jsx)(v.a,{as:"span",borderRadius:"base",m:"1",px:"1",py:"2",color:"white",bg:"brand.500",children:e},"".concat(e,"-").concat(t))}))})]})};var Rt=function(e){var t=Object(Ie.g)();switch(e.exerciseType){case"missing-word":return Object(N.jsxs)(Le.a,{w:"full",children:[Object(N.jsx)(At,{m:"2",colorScheme:"brand",type:"mark",customOnClick:function(){return function(e,t){Je.f.isCollapsed(e.selection)?alert("Para crear una palabra faltante , seleciona primero la palabra"):St("missingWord",e)}(t)},format:"missingWord",label:"A\xf1adir Palabra faltante",icon:Object(N.jsx)(S.a,{width:"2.5em",as:be})}),Object(N.jsx)(qe.a,{borderBottomWidth:"2px",opacity:"1"})]});case"word-order":default:return null}},qt=function(e){var t=Object(Ie.g)(),r=Object(Ie.e)(),n=Object(Ie.d)(),c=Object(Ie.f)();function i(){if(n&&c){if(t.selection){if(Je.f.isExpanded(t.selection)){var e=Je.a.fragment(t,t.selection);return"missing-word"===Object(h.a)(e,1)[0].exerciseType}return!0}return!0}return!1}return r?Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(Le.a,Object(x.a)(Object(x.a)({},e.attributes),{},{borderBottomRadius:"base",py:"4",children:e.children})),Object(N.jsx)(It,Object(x.a)({},e))]}):Object(N.jsxs)(Le.a,Object(x.a)(Object(x.a)({borderRadius:"5px",border:"".concat(i()?"var(--chakra-colors-brand-100)":"transparent"," 1px solid")},e.attributes),{},{transition:"all ease 300ms",position:"relative",children:[Object(N.jsxs)(gt.a,{in:i(),animateOpacity:!0,contentEditable:!1,children:[!r&&Object(N.jsxs)(Le.a,{borderTopRadius:"base",w:["full","full","auto"],bg:"brand.400",px:"4",py:"2",color:"white",children:["Actividad: ",Object(N.jsxs)("b",{children:[" ",Pt[e.element.exerciseType]," "]}),!!Ft[e.element.exerciseType]&&Object(N.jsxs)(vt.a,{children:[Object(N.jsx)(vt.f,{children:Object(N.jsx)(I.a,{variant:"ghost",colorScheme:"white",icon:Object(N.jsx)(S.a,{as:Lt.a})})}),Object(N.jsxs)(vt.d,{children:[Object(N.jsx)(vt.c,{}),Object(N.jsx)(vt.e,{color:"black",children:"Ayuda"}),Object(N.jsx)(vt.b,{color:"black",children:Ft[e.element.exerciseType]})]})]})]}),Object(N.jsx)(Rt,{isActive:i(),exerciseType:e.element.exerciseType})]}),Object(N.jsx)(Le.a,{borderBottomRadius:"base",py:"4",px:i()&&"2",children:e.children})]}))},Wt=function(e){return Object(N.jsx)(Le.a,Object(x.a)(Object(x.a)({},e.attributes),{},{children:e.children}))},Nt=function(){return[Object(a.useCallback)((function(e){return Object(N.jsx)(lt,Object(x.a)({},e))}),[]),Object(a.useCallback)((function(e){var t=e.element.type;if("heading"===(null===t||void 0===t?void 0:t.split(" ")[0]))return Object(N.jsx)(mt,Object(x.a)({},e));switch(t){case"exercise-block":return Object(N.jsx)(qt,Object(x.a)({},e));case"exercise-list-items":return Object(N.jsx)(Wt,Object(x.a)({},e));case"missing-word-exercise-paragraph":return Object(N.jsx)(jt,Object(x.a)({},e));case"word-order-exercise-paragraph":return Object(N.jsx)(ft,Object(x.a)({},e));default:return Object(N.jsx)(dt,Object(x.a)({},e))}}),[])]};function Mt(){var e=we(),t=Object(a.useState)(e),r=Object(h.a)(t,2),n=r[0],c=r[1];function i(){c(we())}return Object(a.useEffect)((function(){return document.addEventListener("fullscreenchange",i),function(){document.removeEventListener("fullscreenchange",i)}}),[]),n}function Tt(e,t){var r={type:"exercise-block",exerciseType:t.type,children:[{type:"exercise-list-items",children:[{type:"paragraph",children:[{text:""}]}]}]};if(e.selection){var a=Je.c.fragment(e,e.selection);if("exercise-block"===Object(h.a)(a,1)[0].type)return void alert("No es posible crear un ejercicio dentro de otro ejercicio, selecciona una linea de texto vac\xeda fuera del cuadro de ejercicio")}Je.h.insertNodes(e,r,{select:!0}),Ie.b.focus(e)}function Dt(e){document.body.style.zoom="100%",e.target.blur(),setTimeout((function(){window.print()}),500)}function Vt(){if(!we()){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}function Zt(){we()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}var Ht=function(e){var t=e.saveWorksheet,r=Object(Ie.g)(),n=Mt();return Object(N.jsxs)(a.Fragment,{children:[Object(N.jsxs)(U.a,{children:[Object(N.jsx)(U.b,{children:"Actividad"}),Object(N.jsxs)(U.f,{children:[Object(N.jsx)(U.e,{onClick:t,icon:Object(N.jsx)(S.b,{as:q.a}),children:"Guardar Cambios"}),Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.b,{as:F.j}),children:"Publicar Actividad"}),Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.b,{as:F.n}),onClick:Dt,children:"Imprimir Actividad"})]})]}),Object(N.jsxs)(U.a,{children:[Object(N.jsx)(U.b,{mx:"4",children:"Insertar"}),Object(N.jsx)(U.f,{children:Object(N.jsxs)(U.d,{title:"Ejercicios",children:[Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.b,{w:8,h:8,as:be}),onClick:function(e){return Tt(r,{type:"missing-word"})},children:"Palabras Faltantes"}),Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.b,{w:8,h:8,as:pe}),onClick:function(e){return Tt(r,{type:"word-order"})},children:"Ordenar Oraciones"})]})})]}),Object(N.jsxs)(U.a,{children:[Object(N.jsx)(U.b,{mx:"4",children:"Ver"}),Object(N.jsx)(U.f,{children:n?Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.b,{as:Be.b}),onClick:Zt,children:"Vista normal"}):Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.b,{as:Be.a}),onClick:Vt,children:"Pantalla completa"})})]})]})},Bt=function(){var e=Object(Ie.g)(),t=Object(K.a)("(min-width: 1024px)"),r=Object(h.a)(t,1)[0];return Object(N.jsxs)(a.Fragment,{children:[Object(N.jsxs)(U.a,{children:[Object(N.jsxs)(U.b,Object(x.a)(Object(x.a)({},r?"":Object(x.a)({},{borderRadius:"none",height:"full"})),{},{flex:"0 0 auto",display:"flex",as:C.a,size:"sm",colorScheme:"brand",variant:"solid",children:[Object(N.jsx)(S.b,{w:5,h:5,mr:"2",as:V.d})," Insertar Ejercicio"]})),Object(N.jsxs)(U.f,{children:[Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.b,{w:5,h:5,as:be}),onClick:function(t){return Tt(e,{type:"missing-word"})},children:"Palabras faltantes"}),Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.b,{w:5,h:5,as:pe}),onClick:function(t){return Tt(e,{type:"word-order"})},children:"Ordernar oraciones"})]})]}),Object(N.jsxs)(U.a,{children:[Object(N.jsx)(z.a,{hasArrow:!0,label:"Estilos de tipograf\xeda",fontSize:"md",children:Object(N.jsx)(U.b,{as:C.a,"aria-label":"Estilos de tipograf\xeda",variant:"ghost",color:"#616161",size:"sm",children:Object(N.jsx)(S.b,{as:F.k})})}),Object(N.jsxs)(U.f,{children:[Object(N.jsx)(At,{variant:"menuListItem",type:"block",format:"heading 4xl",label:Object(N.jsx)(v.a,{fontSize:"3xl",children:"T\xedtulo 1"})}),Object(N.jsx)(At,{variant:"menuListItem",type:"block",format:"heading 3xl",label:Object(N.jsx)(v.a,{fontSize:"2xl",children:"T\xedtulo 2"})}),Object(N.jsx)(At,{variant:"menuListItem",type:"block",format:"heading 2xl",label:Object(N.jsx)(v.a,{fontSize:"xl",children:"Subt\xedtulo 1"})}),Object(N.jsx)(At,{variant:"menuListItem",type:"block",format:"heading xl",label:Object(N.jsx)(v.a,{fontSize:"lg",children:"Subt\xedtulo 2"})}),Object(N.jsx)(At,{variant:"menuListItem",type:"block",format:"",label:Object(N.jsx)(v.a,{fontSize:"md",children:"Texto normal"})})]})]}),Object(N.jsx)(At,{type:"mark",format:"bold",label:"Negrita",icon:Object(N.jsx)(S.b,{as:F.f})}),Object(N.jsx)(At,{type:"mark",format:"italic",label:"Cursiva",icon:Object(N.jsx)(S.b,{as:F.m})}),Object(N.jsx)(At,{type:"mark",format:"underline",label:"Subrayado",icon:Object(N.jsx)(S.b,{as:F.q})}),Object(N.jsx)(At,{type:"mark",format:"strike",label:"Tachado",icon:Object(N.jsx)(S.b,{as:F.o})}),Object(N.jsx)(At,{type:"block",formatKey:"textAlign",format:"left",label:"Alinear a la izquierda",icon:Object(N.jsx)(S.b,{as:F.c})}),Object(N.jsx)(At,{type:"block",formatKey:"textAlign",format:"center",label:"Alinear al centro",icon:Object(N.jsx)(S.b,{as:F.a})}),Object(N.jsx)(At,{type:"block",formatKey:"textAlign",format:"right",label:"Alinear a la derecha",icon:Object(N.jsx)(S.b,{as:F.d})}),Object(N.jsx)(At,{type:"block",formatKey:"textAlign",format:"justify",label:"Justificar",icon:Object(N.jsx)(S.b,{as:F.b})})]})},Jt="saving-worksheet",_t="toggle-writting-mode",Gt="change-worksheet-prop",Kt="set-worksheet",Ut="error";function Xt(e,t){switch(t.type){case _t:return Object(x.a)(Object(x.a)({},e),{},{isWritingMode:!e.isWritingMode});case Gt:if(!t.payload.property)throw new Error("'property' is required but got undefined");if("content"===t.payload.property&&!e.isWritingMode)return console.log("Cannot update activity state in preview mode"),e;var r=Object(x.a)({},e.worksheet);return r[t.payload.property]=t.payload.value,Object(x.a)(Object(x.a)({},e),{},{worksheet:r});case Jt:return Object(x.a)(Object(x.a)({},e),{},{savingWorksheet:!0});case Kt:return Object(x.a)(Object(x.a)({},e),{},{savingWorksheet:!1,loading:!1,worksheet:t.payload.worksheet,error:void 0});case Ut:return Object(x.a)(Object(x.a)({},e),{},{loading:!1,error:t.payload.error});default:return console.warn("Action provided did not matched",t),e}}var Qt={isWritingMode:!0,loading:!0,error:"",worksheet:void 0,savingWorksheet:!1};function Yt(){if(!we()){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}function $t(){we()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}var er=function(){var e,t,r=Object(p.f)(),n=Object(O.a)(),c=Object(p.g)().id,i=Ye(),s=Nt(),o=Object(h.a)(s,2),l=o[0],d=o[1],j=function(e){return Object(a.useCallback)((function(t){var r=Object(h.a)(t,2),a=r[0],n=r[1],c=[];if(Je.g.isText(a)&&"word-order-exercise-paragraph"===Je.c.parent(e,n).type){var i=a.text.split("/"),s=0;i.forEach((function(e,t){0!==t&&c.push({anchor:{path:n,offset:s-1},focus:{path:n,offset:s},division:!0}),s=s+e.length+1}))}return c}),[e])}(i),x=Object(a.useReducer)(Xt,Qt),m=Object(h.a)(x,2),g=m[0],E=m[1],z=g.worksheet,L=g.loading,P=g.error,W=g.isWritingMode,M=g.savingWorksheet,T=Mt();function D(){return Z.apply(this,arguments)}function Z(){return(Z=Object(u.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.loading){e.next=2;break}return e.abrupt("return",console.log("Cannot save changes when page is loading"));case 2:return E({type:Jt}),e.next=5,fetch("/api/activities/".concat(c),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce(z))});case 5:return t=e.sent,e.next=8,t.json();case 8:if(r=e.sent,!t.ok){e.next=13;break}return E({type:Kt,payload:{worksheet:Se(r)}}),n({position:G?"top-right":"bottom",title:"Actividad Guardada",description:"La actividad fue guardada exit\xf3samente",status:"success",duration:5e3,isClosable:!0}),e.abrupt("return");case 13:E({type:Ut,payload:{error:r}});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){document.body.style.zoom="100%",e.target.blur(),setTimeout((function(){window.print()}),500)}Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/activities/".concat(c));case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,404!==t.status){e.next=9;break}return r.push("/worksheets/404"),e.abrupt("return");case 9:if(!t.ok){e.next=12;break}return E({type:Kt,payload:{worksheet:Se(a)}}),e.abrupt("return");case 12:n({description:a.message,status:"error",isClosable:!0});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c,n,r]);var B=(null===g||void 0===g||null===(e=g.worksheet)||void 0===e?void 0:e.title)?"LangSheets | ".concat(null===g||void 0===g||null===(t=g.worksheet)||void 0===t?void 0:t.title):"LangSheets";ye(B);var J=window.location.host,_=Object(K.a)("(min-width: 1024px)"),G=Object(h.a)(_,1)[0];return Object(N.jsxs)(Ie.c,{editor:i,value:L?[{children:[{text:"Cargando..."}]}]:P?[{children:[{text:""}]}]:z.content,onChange:function(e){return E({type:Gt,payload:{property:"content",value:e}})},children:[G?Object(N.jsxs)(y.a,{h:"100vh",templateColumns:"repeat(12, 1fr)",templateRows:"auto 1fr",children:[Object(N.jsx)(y.b,{rowSpan:2,colSpan:1,bg:"#05043E",py:"10",position:"sticky",top:"0",zIndex:"docked",sx:{"@media print":{display:"none"}},children:Object(N.jsx)(Pe,{handlePrint:H,id:c})}),Object(N.jsxs)(y.b,{rowSpan:1,colSpan:11,sx:{"@media print":{display:"none"}},children:[L&&Object(N.jsx)(f.a,{size:"sm",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),Object(N.jsxs)(y.a,{gridTemplateRows:"auto auto auto",gridTemplateColumns:"50px 1fr auto",h:"full",bg:"white",children:[Object(N.jsx)(y.b,{rowSpan:"1",colSpan:"1",display:"grid",placeItems:"center",children:Object(N.jsx)(Le.a,{as:"a",href:"/",mx:"4",children:Object(N.jsx)(S.a,{as:F.e})})}),Object(N.jsx)(y.b,{rowSpan:"1",display:"flex",flexDirection:"row",alignItems:"center",pt:"2",children:Object(N.jsx)(w.a,{isLoaded:!L,children:Object(N.jsx)(Re,{dispatch:E,title:z?z.title:""})})}),Object(N.jsx)(y.b,{display:"flex",alignItems:"center",px:"4",colStart:3,rowSpan:2,children:Object(N.jsxs)(A.a,{children:[Object(N.jsxs)(C.a,{isLoading:M,onClick:D,colorScheme:"brand",variant:"ghost",children:[Object(N.jsx)(S.a,{as:q.a,mr:"2"}),"Guardar Cambios"]}),Object(N.jsxs)(C.a,{colorScheme:"brand",children:[Object(N.jsx)(S.a,{as:F.j,mr:"2"}),"Publicar"]})]})}),Object(N.jsx)(y.b,{py:"2",colStart:2,rowSpan:"1",display:"inline-flex",alignItems:"center",children:Object(N.jsx)(Ht,{saveWorksheet:D})}),Object(N.jsx)(y.b,{py:"2",px:"5",colSpan:3,width:"full",borderTop:"2px solid var(--chakra-colors-gray-100)",children:Object(N.jsx)(A.a,{as:k.a,alignItems:"center",children:Object(N.jsx)(Bt,{})})})]})]}),Object(N.jsx)(y.b,{rowSpan:1,colSpan:8,p:"12",bg:"gray.100",sx:{"@media print":{gridColumn:"span 12/span 12",gridRow:"span 2/span 2"}},children:Object(N.jsx)(w.a,{isLoaded:!L,children:Object(N.jsx)(Me,{decorate:j,renderElement:d,renderLeaf:l,readOnly:!W,placeholder:"Escribe aqu\xed..."})})}),Object(N.jsxs)(y.b,{rowSpan:1,colSpan:3,sx:{"@media print":{display:"none"}},children:[Object(N.jsx)(qe.a,{}),Object(N.jsxs)(Le.a,{p:"4",children:[Object(N.jsx)(v.a,{fontWeight:"semibold",fontSize:"lg",children:"Detalles de la actividad"}),!L&&!P&&Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(Ve,{dispatch:E,lang:z.lang}),Object(N.jsx)(He,{dispatch:E,isPublic:z.isPublic})]})]}),Object(N.jsx)(qe.a,{}),Object(N.jsxs)(Le.a,{p:"4",children:[Object(N.jsx)(v.a,{fontWeight:"semibold",fontSize:"lg",children:"Ajustes"}),Object(N.jsxs)(v.a,{my:"2",children:["Modo de edici\xf3n: ",Object(N.jsx)(We.a,{colorScheme:"brand",ml:"4",isChecked:W,onChange:function(){return E({type:"toggle-writting-mode"})}})]})]})]})]}):Object(N.jsxs)(k.a,{flexDir:"column",minH:"100vh",children:[L&&Object(N.jsx)(f.a,{size:"sm",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),Object(N.jsxs)(k.a,{py:"2",px:"4",alignItems:"center",children:[Object(N.jsx)(Le.a,{flexGrow:"1",children:Object(N.jsx)(w.a,{isLoaded:!L,children:Object(N.jsx)(Re,{dispatch:E,title:z?z.title:""})})}),Object(N.jsxs)(U.a,{children:[Object(N.jsx)(U.b,{variant:"ghost",colorScheme:"brand",icon:Object(N.jsx)(S.a,{as:V.b}),as:I.a}),Object(N.jsxs)(U.f,{children:[Object(N.jsxs)(U.d,{title:"Actividad",children:[Object(N.jsx)(U.e,{onClick:D,icon:Object(N.jsx)(S.a,{color:"brand.500",as:q.a}),children:"Guardar Cambios"}),Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.a,{color:"brand.500",as:F.j}),children:"Publicar Actividad"})]}),Object(N.jsx)(U.c,{}),Object(N.jsx)(U.d,{title:"Ver",children:T?Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.a,{as:Be.b}),onClick:$t,children:"Vista normal"}):Object(N.jsx)(U.e,{icon:Object(N.jsx)(S.a,{as:Be.a}),onClick:Yt,children:"Pantalla completa"})})]})]})]}),Object(N.jsx)(qe.a,{}),Object(N.jsx)(Le.a,{flexGrow:"1",bg:"gray.100",p:"4",boxShadow:"base",children:Object(N.jsx)(w.a,{height:"full",isLoaded:!L,children:Object(N.jsx)(Me,{decorate:j,renderElement:d,renderLeaf:l,readOnly:!W,placeholder:"Escribe aqu\xed..."})})}),i.selection&&Object(N.jsx)(Ne.a,{direction:"bottom",in:i.selection,style:{zIndex:50,boxShadow:"var(--chakra-shadows-dark-lg)"},children:Object(N.jsxs)(k.a,{pr:"30vw",w:"100vw",color:"#616161",bg:"white",alignItems:"center",height:"50px",children:[Object(N.jsx)(k.a,{width:"full",height:"full",overflowX:"auto",alignItems:"center",children:Object(N.jsx)(Bt,{})}),Object(N.jsxs)(k.a,{height:"full",position:"fixed",bottom:"0",right:"0",alignItems:"center",children:[Object(N.jsx)(qe.a,{orientation:"vertical"}),Object(N.jsx)(I.a,{bg:"white",borderRadius:"none",height:"full",onClick:function(){Je.h.deselect(i)},variant:"ghost",colorScheme:"brand",icon:Object(N.jsx)(S.a,{as:R.b})}),Object(N.jsx)(qe.a,{orientation:"vertical"}),Object(N.jsx)(I.a,{variant:"ghost",borderRadius:"none",height:"full",colorScheme:"brand",icon:Object(N.jsx)(S.a,{as:F.i})})]})]})}),!i.selection&&Object(N.jsx)(Ne.a,{direction:"bottom",in:!i.selection,style:{zIndex:150},children:Object(N.jsxs)(Le.a,{color:"white",display:"flex",bg:"#05043E",alignItems:"center",width:"100%",justifyContent:"space-around",children:[Object(N.jsxs)(k.a,{onClick:H,flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(N.jsx)(S.a,{w:6,h:6,as:F.n}),Object(N.jsx)(v.a,{fontSize:"x-small",children:"Imprimir"})]}),Object(N.jsxs)(k.a,{flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(N.jsx)(S.a,{w:6,h:6,as:F.l}),Object(N.jsx)(v.a,{fontSize:"x-small",children:"Inicio"})]}),Object(N.jsxs)(k.a,{flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(N.jsx)(S.a,{w:6,h:6,as:F.g}),Object(N.jsx)(v.a,{fontSize:"x-small",children:"Previsualizar"})]})]})})]}),Object(N.jsxs)(Le.a,{display:"none",flexDirection:"column",alignItems:"flex-start",position:"fixed",zIndex:"banner",bottom:"0.5",width:"full",sx:{"@media print":{display:"flex"}},children:[Object(N.jsx)(S.a,{as:fe}),Object(N.jsxs)(v.a,{fontSize:"smaller",children:[" ",J,"/worksheets/",c,"/practice "]})]})]})};var tr={title:"",content:[{type:"paragraph",children:[{text:""}]}]},rr=function(){var e=Object(p.g)().id,t=Ye(),r=Nt(),n=Object(h.a)(r,2),c=n[0],i=n[1],s=Object(a.useState)(tr),o=Object(h.a)(s,2),l=o[0],d=o[1];return Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(b.a.mark((function t(){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/activities/".concat(e));case 2:return r=t.sent,t.next=5,r.json();case 5:if(a=t.sent,!r.ok){t.next=9;break}return d(Se(a)),t.abrupt("return");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),G("var(--chakra-colors-gray-100)"),ye("LangSheets | ".concat(l.title)),Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(ge,{}),Object(N.jsxs)(Le.a,{children:[Object(N.jsx)(v.a,{background:"purple.400",textAlign:"center",color:"white",width:"full",mt:"4",px:"4",py:"6",fontSize:["4xl","4xl","5xl"],fontWeight:"bold",children:l.title}),Object(N.jsx)(g.a,{maxWidth:"container.lg",my:"4",children:Object(N.jsx)(Ie.c,{editor:t,value:l.content,onChange:function(e){return function(e){var t=e.propery,r=e.value;d((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(wt.a)({},t,r))}))}({propery:"content",value:e})},children:Object(N.jsx)(Le.a,{background:"white",px:["8","16"],py:"16",as:Ie.a,shadow:"sm",renderElement:i,renderLeaf:c,readOnly:!0})})})]})]})},ar=function(){return ye("P\xe1gina no encontrada"),Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(ge,{}),Object(N.jsxs)(k.a,{alignItems:"center",flexDirection:"column",justifyContent:"center",textAlign:"center",height:"100vh",children:[Object(N.jsx)(v.a,{fontSize:"6xl",children:"404"}),Object(N.jsx)(v.a,{fontSize:"4xl",children:"Page not founded"})]})]})},nr=r(87);var cr=function(){return Object(N.jsx)(s.a,{theme:l,children:Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(nr.a,{children:Object(N.jsxs)(p.c,{children:[Object(N.jsx)(p.a,{path:"/",exact:!0,component:ze}),Object(N.jsx)(p.a,{path:"/worksheets/:id/edit",component:er}),Object(N.jsx)(p.a,{path:"/worksheets/:id/practice",component:rr}),Object(N.jsx)(p.a,{path:"*",component:ar})]})})})})},ir=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,382)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),c(e),i(e)}))};i.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(cr,{})}),document.getElementById("root")),ir()}},[[326,1,2]]]);
//# sourceMappingURL=main.19beea28.chunk.js.map