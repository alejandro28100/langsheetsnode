(this.webpackJsonplangsheets=this.webpackJsonplangsheets||[]).push([[0],{392:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(37),i=r.n(c),s=r(409),o=Object(s.a)({colors:{brand:{50:"#eaeaff",100:"#c2c2f3",200:"#9b9ae6",300:"#7371da",400:"#4c48cf",500:"#332fb6",600:"#27258e",700:"#1b1a66",800:"#0f1040",900:"#06041a"}}}),l=r(439),d=r(7),j=r(90),b=r(25),u=r(13),h=r.n(u),p=r(33),x=r(3),O=r(162),f=r.n(O),m=r(2),g=Object(a.createContext)(),v={user:void 0,error:void 0,loading:!0};function y(e,t){switch(t.type){case"loading":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:void 0});case"success":var r=t.payload.user;return Object(d.a)(Object(d.a)({},e),{},{user:r,loading:!1});case"error":var a=t.payload.error;return Object(d.a)(Object(d.a)({},e),{},{user:void 0,loading:!1,error:a})}}var w=function(e){var t=e.children,r=Object(a.useReducer)(y,v),n=Object(x.a)(r,2),c=n[0],i=n[1];function s(){return(s=Object(p.a)(h.a.mark((function e(t,r){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"loading"}),e.next=3,fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=12;break}return f.a.set("token",n.token),delete n.token,i({type:"success",payload:{user:n}}),e.abrupt("return",[!0,n]);case 12:return i({type:"error",payload:{error:n}}),e.abrupt("return",[!1,void 0]);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(p.a)(h.a.mark((function e(t,r,a,n){var c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"loading"}),e.next=3,fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,lastName:r,email:a,password:n})});case 3:return c=e.sent,e.next=6,c.json();case 6:if(s=e.sent,!c.ok){e.next=10;break}return i({type:"success",payload:{user:{}}}),e.abrupt("return");case 10:i({type:"error",payload:{error:s}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i({type:"loading"}),f.a.get("token")){e.next=5;break}return i({type:"success",payload:{user:void 0}}),e.abrupt("return");case 5:return e.prev=5,e.next=8,fetch("/api/users/userInfo");case 8:return t=e.sent,e.next=11,t.json();case 11:r=e.sent,i({type:"success",payload:{user:r}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),i({type:"error",payload:{error:e.t0}});case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var l=Object(d.a)({login:function(e,t){return s.apply(this,arguments)},signUp:function(e,t,r,a){return o.apply(this,arguments)}},c);return Object(m.jsx)(g.Provider,{value:l,children:t})};function k(){return Object(a.useContext)(g)}var C=function(e){var t,r=e.component,a=e.redirectTo,n=e.type,c=Object(j.a)(e,["component","redirectTo","type"]),i=k().user;switch(n){case"user":t=!!i}return Object(m.jsx)(b.b,Object(d.a)(Object(d.a)({},c),{},{render:function(e){return t?Object(m.jsx)(r,Object(d.a)({},e)):Object(m.jsx)(b.a,{to:a})}}))},S=r(85),E=r(16),A=r(437),z=r(444),I=r(446),P=r(423),L=r(412),F=r(424),R=r(440),N=r(410),q=r(234),W=r(394),T=r(413),M=r(221),D=r(443),V=r(416),Z=r(417),H=r(66),B=r(20),_=r(102),J=r(68),G=r(220),K={es:"Espa\xf1ol",en:"Ingl\xe9s",fr:"Franc\xe9s",ru:"Ruso",de:"Alem\xe1n",ja:"Japon\xe9s",zh:"Chino"};function U(e){var t=e.lang,r=e.title,n=e._id,c=(e.createdAt,e.deleteSheet),i=e.isPublic,s=Object(a.useState)(!1),o=Object(x.a)(s,2),l=o[0],d=o[1],j=function(){return d(!1)},b=Object(a.useRef)();return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)(N.a,{boxShadow:"base",background:"white",height:"40",borderRadius:"xl",width:"full",children:[Object(m.jsxs)(N.a,{padding:"5",flexDirection:"column",children:[Object(m.jsx)(L.a,{title:""===r?"Sin t\xedtulo":r,noOfLines:2,fontFamily:"sans-serif",fontSize:"large",fontWeight:"semibold",children:""===r?"Sin t\xedtulo":r}),Object(m.jsx)(T.a,{}),K[t]&&Object(m.jsxs)(L.a,{children:[Object(m.jsx)(W.a,{mr:"2",as:G.a}),K[t]]}),Object(m.jsxs)(L.a,{noOfLines:1,title:"Actividad ".concat(i?"P\xfablica":"Privada"),children:[Object(m.jsx)(W.a,{mr:"2",as:i?_.c:J.c}),"Actividad ",i?"P\xfablica":"Privada"]})]}),Object(m.jsx)(T.a,{}),Object(m.jsx)(N.a,{pr:"5",py:"5",children:Object(m.jsxs)(M.a,{as:N.a,flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",spacing:"0",size:"lg",colorScheme:"brand",variant:"ghost",children:[Object(m.jsx)(D.a,{hasArrow:!0,label:"Comenzar Actividad",children:Object(m.jsx)(V.a,{as:"a",href:"/worksheets/".concat(n,"/practice"),icon:Object(m.jsx)(W.a,{as:B.g})})}),Object(m.jsx)(D.a,{hasArrow:!0,label:"Editar Actividad",children:Object(m.jsx)(V.a,{as:"a",href:"/worksheets/".concat(n,"/edit"),icon:Object(m.jsx)(W.a,{as:J.b})})}),Object(m.jsx)(D.a,{hasArrow:!0,label:"Eliminar Actividad",children:Object(m.jsx)(V.a,{onClick:function(e){return d(!0)},icon:Object(m.jsx)(W.a,{as:_.a})})})]})})]}),Object(m.jsx)(Z.a,{isOpen:l,leastDestructiveRef:b,onClose:j,children:Object(m.jsx)(H.f,{children:Object(m.jsxs)(Z.b,{children:[Object(m.jsx)(H.e,{fontSize:"lg",fontWeight:"bold",children:"Eliminar Actividad"}),Object(m.jsx)(H.b,{children:"\xbfEst\xe1s seguro de querer borrar esta actividad? Esta acci\xf3n es irreversible."}),Object(m.jsxs)(H.d,{children:[Object(m.jsx)(q.a,{ref:b,onClick:j,children:"Cancelar"}),Object(m.jsx)(q.a,{colorScheme:"red",onClick:function(e){return c(n)},ml:3,children:"Eliminar"})]})]})})})]})}U.defaultProps={lang:"",isPublic:!0};var X=U,Y=r(78),Q=r(36),$=r.n(Q),ee=function(e){Object(a.useEffect)((function(){document.body.style.background=e}),[e])};ee.propTypes={backgroundColor:$.a.string.isRequired};var te,re,ae=ee,ne=r(420),ce=r(438);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oe(e,t){var r=e.title,n=e.titleId,c=se(e,["title","titleId"]);return a.createElement("svg",ie({width:70,height:78,viewBox:"0 0 70 78",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,te||(te=a.createElement("g",{clipPath:"url(#clip0)"},a.createElement("path",{d:"M69.7126 21.9061L55.7683 3.7113L29.024 0.0596367C25.5601 -0.413512 22.3645 1.97751 21.8856 5.39973L14.2604 59.911C13.7815 63.3332 16.2016 66.4903 19.6655 66.9635L56.4828 71.9905C59.9467 72.4636 63.1423 70.0726 63.6212 66.6504L69.8733 21.9541L69.7126 21.9061Z",fill:"#605EC5"}),a.createElement("path",{d:"M69.8201 21.991L53.7102 19.7918L55.9559 3.73657L69.8201 21.991Z",fill:"#8987DE"}),a.createElement("path",{d:"M57.2476 29.9889L30.5532 26.3441L30.0225 30.138L56.7169 33.7828L57.2476 29.9889Z",fill:"white"}),a.createElement("path",{d:"M55.9146 39.52L29.2202 35.8752L28.6895 39.6692L55.3839 43.3139L55.9146 39.52Z",fill:"white"}),a.createElement("path",{d:"M27.8744 45.4979L27.4214 48.7365L50.65 51.908L51.103 48.6695L27.8744 45.4979Z",fill:"white"}),a.createElement("path",{d:"M49.6339 26.3764L33.2997 10.2388H6.3008C2.80408 10.2388 -0.0300293 13.0394 -0.0300293 16.4934V71.5224C-0.0300293 74.9771 2.80474 77.777 6.3008 77.777H43.4684C46.9651 77.777 49.7992 74.9764 49.7992 71.5224V26.4016L49.6339 26.3764Z",fill:"#252388"}),a.createElement("path",{d:"M49.752 26.4463H33.4893V10.2388L49.752 26.4463Z",fill:"#4846AE"}),a.createElement("path",{d:"M38.4054 36.0681H11.4578V39.8981H38.4054V36.0681Z",fill:"white"}),a.createElement("path",{d:"M38.4054 45.6899H11.4578V49.5198H38.4054V45.6899Z",fill:"white"}),a.createElement("path",{d:"M34.9068 55.4049H11.4578V58.6742H34.9068V55.4049Z",fill:"white"}))),re||(re=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0"},a.createElement("rect",{width:70,height:77.7778,fill:"white"})))))}var le,de,je,be,ue=a.forwardRef(oe);r.p;function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xe(e,t){var r=e.title,n=e.titleId,c=pe(e,["title","titleId"]);return a.createElement("svg",he({id:"Capa_2","data-name":"Capa 2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 16",stroke:"currentColor",fill:"currentColor",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,le||(le=a.createElement("path",{d:"M16.14,13.06c-.39,0-.74-.5-1-1.51a19.28,19.28,0,0,1-.42-2c-.43.06-1,.17-1.71.32l-1.69.35c-.22.56-.58,1.38-1.1,2.45a.61.61,0,0,1-.55.36.7.7,0,0,1-.46-.19.61.61,0,0,1-.2-.46A11.73,11.73,0,0,1,10,10a.7.7,0,0,1-.1-.38c0-.35.2-.57.62-.67.49-.91,1.1-2,1.84-3.14,1-1.61,1.64-2.42,1.89-2.42s.56.23.69.7l.4,2.15.95,4.44.36,1a2.39,2.39,0,0,1,.19.69.63.63,0,0,1-.2.46A.64.64,0,0,1,16.14,13.06Zm-2.26-7.3-1.82,3q.76-.21,2.34-.48Z"})),de||(de=a.createElement("path",{className:"cls-1",d:"M23.38,12.61a10.06,10.06,0,0,1-3.67.57.71.71,0,0,1-.52-.26.77.77,0,0,1-.25-.54V10.53q0-.91.12-2.61c.08-1.22.13-2.1.14-2.64s0-1,.07-1.75a.57.57,0,0,1,.21-.43,7,7,0,0,1,2-.26,3.58,3.58,0,0,1,2.16.76A2.65,2.65,0,0,1,24.8,5.78a3.05,3.05,0,0,1-1.27,2.59,4.4,4.4,0,0,1,1.43.9,1.57,1.57,0,0,1,.48,1.09,2,2,0,0,1-.84,1.49A4.11,4.11,0,0,1,23.38,12.61ZM22.17,9.25l-.68-.1H21a4.84,4.84,0,0,1-.74-.05c0,.53,0,1,0,1.43v1.33a8.26,8.26,0,0,0,2.73-.48,2.71,2.71,0,0,0,.86-.53c.26-.22.39-.39.39-.5s-.28-.43-.82-.68A7.17,7.17,0,0,0,22.17,9.25Zm-.72-5.11a7.5,7.5,0,0,0-1,0V5.3l-.13,2.47c.61.05.93.08,1,.07a2.67,2.67,0,0,0,1.58-.6,1.83,1.83,0,0,0,.66-1.46,1.45,1.45,0,0,0-.67-1.12A2.27,2.27,0,0,0,21.45,4.14Z"})),je||(je=a.createElement("path",{className:"cls-1",d:"M33,5.7a.67.67,0,0,1-.62-.48,1.11,1.11,0,0,0-.33-.49,1.76,1.76,0,0,0-.66-.07c-.62,0-1.31.47-2.06,1.41a5.9,5.9,0,0,0-1.53,3.61,2,2,0,0,0,.53,1.42,1.68,1.68,0,0,0,1.31.61A2.85,2.85,0,0,0,31,11.37a8.66,8.66,0,0,0,1.14-.75,1.09,1.09,0,0,1,.54-.27.57.57,0,0,1,.46.21.65.65,0,0,1,.19.46.68.68,0,0,1-.24.51A5.19,5.19,0,0,1,29.66,13a2.92,2.92,0,0,1-2.24-1,3.37,3.37,0,0,1-.88-2.33,7.19,7.19,0,0,1,1.81-4.44,4.12,4.12,0,0,1,3.06-1.89,4.86,4.86,0,0,1,.56,0,1.9,1.9,0,0,1,.44.09A.67.67,0,0,1,33,3.14c.29,0,.48.2.56.58A7.52,7.52,0,0,1,33.65,5a.78.78,0,0,1-.14.46A.56.56,0,0,1,33,5.7Z"})),be||(be=a.createElement("path",{d:"M39.8,0H2.2a2,2,0,0,0-2,2V14a2,2,0,0,0,2,2H39.8a2,2,0,0,0,2-2V2A2,2,0,0,0,39.8,0Zm-.65,14.26H2.86A.91.91,0,0,1,2,13.35V2.7a1,1,0,0,1,1-1h36a1,1,0,0,1,1.13,1.07V3a.68.68,0,0,1,0,.12h0v10.2A.9.9,0,0,1,39.15,14.26Z"})))}var Oe,fe,me,ge,ve,ye=a.forwardRef(xe);r.p;function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ke(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ce(e,t){var r=e.title,n=e.titleId,c=ke(e,["title","titleId"]);return a.createElement("svg",we({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,Oe||(Oe=a.createElement("rect",{x:12,y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),fe||(fe=a.createElement("rect",{x:6,y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),me||(me=a.createElement("rect",{y:6,width:4,height:4,rx:.5,fill:"#4846AE"})),ge||(ge=a.createElement("path",{d:"M12.5218 11.5161C12.0215 12.0161 11.5219 12.5161 10.9268 12.8914C10.0216 13.5162 8 13.5 6.99997 13.5C5.98032 13.4885 4.99928 13.0089 3.99992 12.5",stroke:"#616161",strokeLinecap:"round",strokeLinejoin:"round"})),ve||(ve=a.createElement("path",{d:"M4.32786 13.9956C4.10086 13.6319 4.02894 13.2646 3.80915 12.8979C3.72803 12.7626 3.64479 12.6383 3.57362 12.5089C3.41056 12.2124 3.5 12 3.78875 12.0797C3.2496 12.0797 4.5 11.9506 5.07287 11.9506C5.44509 11.9511 6 11.9075 6.13559 11.9075",stroke:"#616161",strokeLinecap:"round",strokeLinejoin:"round"})))}var Se=a.forwardRef(Ce),Ee=(r.p,function(){return Object(m.jsxs)(N.a,{as:"a",href:"/",alignItems:"center",children:[Object(m.jsx)(W.a,{w:10,h:10,as:ue}),Object(m.jsx)(L.a,{fontSize:"x-large",fontWeight:"bold",color:"brand.500",children:"Langsheets"})]})});function Ae(e){var t=e.leftActions,r=e.rightActions,n=e.withIcon,c=e.sm,i=Object(ne.a)(["(max-width:900px)"]),s=Object(x.a)(i,1)[0];return Object(m.jsxs)(N.a,{px:"10",background:"white",py:"2",shadow:"sm",sx:{"@media print":{display:"none"}},children:[Object(m.jsx)(Ee,Object(d.a)({},n)),s?c&&Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(T.a,{}),Object(m.jsxs)(ce.a,{children:[Object(m.jsx)(ce.b,{colorScheme:"purple",variant:"ghost",as:q.a,children:Object(m.jsx)(W.a,{as:Y.c})}),Object(m.jsx)(ce.f,{zIndex:"dropdown",children:c})]})]}):Object(m.jsxs)(a.Fragment,{children:[t,Object(m.jsx)(T.a,{}),r]})]})}Ae.defaultProps={withIcon:!0};var ze=Ae,Ie=function(e){Object(a.useEffect)((function(){document.title=e}),[e])};Ie.propTypes={title:$.a.string.isRequired};var Pe=Ie;function Le(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement}function Fe(e){return e.map(Ne)}function Re(e){var t=Object(d.a)({},e);return t.content=JSON.stringify(e.content),t}function Ne(e){var t=Object(d.a)({},e);return t.content=JSON.parse(e.content),t}var qe={error:void 0,loading:!0,worksheets:void 0};function We(e,t){switch(t.type){case"call-api":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"api-call-ended":return Object(d.a)(Object(d.a)({},e),{},{loading:!1});case"update-worksheets":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,worksheets:t.payload.worksheets});case"api-error":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload.error});default:return console.warn("The action type given did not match any posible action",t),e}}var Te=function(){var e=Object(b.g)(),t=Object(A.a)(),r=k().user,n=Object(a.useReducer)(We,qe),c=Object(x.a)(n,2),i=c[0],s=c[1],o=i.error,l=i.loading,j=i.worksheets;function u(){return(u=Object(p.a)(h.a.mark((function t(){var a,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"call-api"}),a={title:"Actividad sin t\xedtulo",lang:"es",published:!1,content:JSON.stringify([{type:"paragraph",children:[{text:""}]}]),createdAt:new Date,author:{name:r.name,lastName:r.lastName,id:r.id}},t.next=4,fetch("/api/activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=t.sent,t.next=7,n.json();case 7:if(c=t.sent,s({type:"api-call-ended"}),!n.ok){t.next=12;break}return e.push("/worksheets/".concat(c._id,"/edit")),t.abrupt("return");case 12:s({type:"api-error",payload:{error:c}});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(p.a)(h.a.mark((function e(r){var a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"call-api"}),e.next=3,fetch("/api/activities/".concat(r),{method:"DELETE"});case 3:if(a=e.sent,n=a.json(),!a.ok){e.next=10;break}return c=Object(E.a)(j).filter((function(e){return e._id!==r})),s({type:"update-worksheets",payload:{worksheets:c}}),t({title:"Actividad Eliminada",description:"La actividad fue eliminada exit\xf3samente",status:"info",durarion:5e3,isClosable:!0}),e.abrupt("return");case 10:s({type:"api-error",payload:{error:n}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"call-api"}),e.next=3,fetch("/api/activities");case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,!t.ok){e.next=10;break}return s({type:"update-worksheets",payload:{worksheets:Fe(r)}}),e.abrupt("return");case 10:s({type:"api-error",payload:{error:r}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var f={createSheet:function(){return u.apply(this,arguments)},deleteSheet:function(e){return O.apply(this,arguments)}};return ae("var(--chakra-colors-gray-100)"),Pe("LangSheets | Mis actividades"),Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(ze,{}),l&&Object(m.jsx)(z.a,{size:"xs",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),o&&Object(m.jsxs)(I.a,{status:"error",children:[Object(m.jsx)(I.c,{}),Object(m.jsx)(I.b,{children:o.message})]}),Object(m.jsxs)(P.a,{maxW:"container.lg",children:[Object(m.jsx)(L.a,{fontSize:"xx-large",fontWeight:"semibold",my:"5",textAlign:["center","left"],children:" Mis Worksheets "}),Object(m.jsxs)(F.a,{mx:{md:"7",lg:"0"},gap:"5",justifyContent:"center",placeItems:"center",templateColumns:{base:"",md:"repeat(2, var(--chakra-sizes-72))",lg:"repeat(3, minmax(var(--chakra-sizes-72),var(--chakra-sizes-80)))"},children:[!!j&&j.map((function(e){return Object(m.jsx)(R.a,{isLoaded:!l,children:Object(m.jsx)(X,Object(d.a)({},Object(d.a)(Object(d.a)({},e),f)))},e._id)})),Object(m.jsx)(N.a,{width:"full",as:q.a,colorScheme:"brand",variant:"ghost",background:"white",onClick:f.createSheet,leftIcon:Object(m.jsx)(W.a,{as:Y.a}),size:"lg",boxShadow:"base",height:"40",borderRadius:"xl",children:"Crear Nueva actividad"})]})]})]})},Me=r(17),De=r(425),Ve=function(e){return Object(m.jsx)(a.Fragment,{children:Object(m.jsxs)(N.a,{flexDirection:"column",alignItems:"center",children:[Object(m.jsx)(De.a,{px:"4",variant:"unstyled",_focus:{outline:"none"},as:"a",href:"/",children:Object(m.jsx)(ue,{width:"70px"})}),Object(m.jsxs)(N.a,{mt:"40",flexDirection:"column",flexGrow:"1",width:"full",children:[Object(m.jsx)(D.a,{hasArrow:!0,arrowSize:"5",placement:"auto-start",label:"Previsualizar actividad",children:Object(m.jsx)(De.a,{as:"a",target:"_blank",referrerPolicy:"no-referrer",href:"/worksheets/".concat(e.id,"/practice"),sx:{"&":{transition:"all ease 300ms",color:"white",cursor:"pointer",textAlign:"center",borderRadius:"none"},"&:hover, &:active":{background:"#252388"}},children:Object(m.jsx)(W.b,{m:"4",w:8,h:8,as:B.g})})}),Object(m.jsx)(D.a,{hasArrow:!0,arrowSize:"5",placement:"auto-start",label:"Imprimir actividad",children:Object(m.jsx)(De.a,{onClick:e.handlePrint,sx:{"&":{transition:"all ease 300ms",color:"white",cursor:"pointer",textAlign:"center",borderRadius:"none"},"&:hover, &:active":{background:"#252388"}},children:Object(m.jsx)(W.b,{m:"4",w:8,h:8,as:B.n})})})]})]})})},Ze=r(447);var He=function(e){var t=e.title,r=e.dispatch,n=Object(a.useRef)();return Object(m.jsx)(De.a,{onClick:function(){return n.current.focus()},sx:{"@media print":{textAlign:"center"}},children:Object(m.jsxs)(Ze.a,{fontSize:"x-large",required:!0,id:"title",value:t,onChange:function(e){return r({type:"change-worksheet-prop",payload:{property:"title",value:e}})},type:"text",placeholder:"Escribe un t\xedlulo aqu\xed...",children:[Object(m.jsx)(Ze.c,{ref:n}),Object(m.jsx)(Ze.b,{})]})})},Be=r(430),_e=r(448),Je=r(432),Ge=function(e){var t=e.decorate,r=e.renderElement,a=e.renderLeaf,n=e.readOnly,c=e.placeholder;return Object(m.jsx)(De.a,{background:"white",p:"5",as:Me.a,decorate:t,renderElement:r,renderLeaf:a,readOnly:n,placeholder:c})},Ke=r(426),Ue=function(e){var t=e.dispatch,r=e.lang;return Object(m.jsxs)(De.a,{my:"4",children:[Object(m.jsx)(L.a,{my:"2",children:"Idioma"}),Object(m.jsxs)(Ke.a,{background:"white",required:!0,value:r,onChange:function(e){return t({type:"change-worksheet-prop",payload:{property:"lang",value:e.target.value}})},children:[Object(m.jsx)("option",{value:""}),Object(m.jsx)("option",{value:"de",children:"Alem\xe1n"}),Object(m.jsx)("option",{value:"es",children:"Espa\xf1ol"}),Object(m.jsx)("option",{value:"fr",children:"Franc\xe9s"}),Object(m.jsx)("option",{value:"en",children:"Ingl\xe9s"}),Object(m.jsx)("option",{value:"ru",children:"Ruso"}),Object(m.jsx)("option",{value:"zh",children:"Chino"}),Object(m.jsx)("option",{value:"ja",children:"Japon\xe9s"})]})]})};Ue.defaultProps={lang:""};var Xe=Ue,Ye=function(e){var t=e.dispatch,r=e.isPublic;return Object(m.jsx)(De.a,{my:"4",children:Object(m.jsx)(D.a,{label:"Si la actividad es p\xfablica, ser\xe1 listada en la p\xe1gina global de actividades",children:Object(m.jsxs)(L.a,{my:"2",children:["Actividad P\xfablica ",Object(m.jsx)(_e.a,{colorScheme:"brand",ml:"4",onChange:function(e){return t({type:"change-worksheet-prop",payload:{property:"isPublic",value:!r}})},isChecked:r})," "]})})})};Ye.defaultProps={isPublic:!0};var Qe=Ye,$e=r(91),et=r(4),tt=r(235),rt=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(x.a)(r,2),n=a[0],c=a[1];!et.a.isBlock(n)||n.alignment?t(r):et.h.setNodes(e,{textAlign:"left"},{at:c})},e},at=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(x.a)(r,2),n=a[0],c=a[1];if("exercise-block"===n.type){if(!et.c.has(e,et.e.next(c)))return et.h.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:et.e.next(c)});if(!et.c.has(e,et.e.previous(c)))return console.log("Paragraph inserted"),et.h.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:et.e.previous(c)})}t(r)},e},nt=r(12),ct=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a=Object(x.a)(r,2),n=a[0],c=a[1];if(et.a.isBlock(e,n)&&["paragraph","paragraph-with-missing-word"].includes(n.type)){var i,s=!1,o=Object(nt.a)(et.c.descendants(n));try{for(o.s();!(i=o.n()).done;){Object(x.a)(i.value,1)[0].missingWord&&(s=!0)}}catch(O){o.e(O)}finally{o.f()}if(s){if("paragraph-with-missing-word"!==n.type)return et.h.setNodes(e,{type:"paragraph-with-missing-word"},{at:c})}else if("paragraph-with-missing-word"===n.type)return et.h.setNodes(e,{type:"paragraph"},{at:c})}if(et.c.isNode(n)&&et.b.isElement(n)){var l,d=et.c.first(e,c)[1],j=et.c.last(e,c)[1],b=Object(nt.a)(et.c.children(e,c));try{for(b.s();!(l=b.n()).done;){var u=Object(x.a)(l.value,2),h=u[0],p=u[1];if(!0===h.missingWord){if(et.e.equals(p,j))return et.h.insertNodes(e,{text:" "},{at:et.e.next(p),select:!0,hanging:!0});if(et.e.equals(p,d))return et.h.insertNodes(e,{text:" "},{at:p,select:!0,hanging:!0});if(et.c.has(e,et.e.next(p)))if(" "!==et.c.get(e,et.e.next(p)).text[0])return et.h.insertText(e," ",{at:{path:et.e.next(p),offset:0}})}}}catch(O){b.e(O)}finally{b.f()}}t(r)},e},it=function(e){var t=e.normalizeNode;return e.normalizeNode=function(r){var a,n=Object(x.a)(r,2),c=n[0],i=n[1],s=!1,o=Object(nt.a)(et.c.ancestors(e,i));try{for(o.s();!(a=o.n()).done;){"exercise-block"===Object(x.a)(a.value,1)[0].type&&(s=!0)}}catch(d){o.e(d)}finally{o.f()}if(et.a.isBlock(e,c)&&["paragraph","word-order-exercise-paragraph"].includes(c.type)&&s){var l=!1;if(et.c.string(c).split("/").length>1&&(l=!0),l){if("word-order-exercise-paragraph"!==c.type)return et.h.setNodes(e,{type:"word-order-exercise-paragraph"},{at:i})}else if("word-order-exercise-paragraph"===c.type)return et.h.setNodes(e,{type:"paragraph"},{at:i})}t(r)},e};var st=function(){return Object(a.useMemo)((function(){return rt(it(at(ct(Object(tt.a)(Object(Me.h)(Object(et.i)()))))))}),[])},ot=r(427),lt=r(428),dt=r(429),jt=r(236);function bt(e){if(!e.length||!e)throw new Error("Expected an array wit items and got",JSON.stringify(e));for(var t,r,a=Object(E.a)(e),n=a.length;0!==n;)r=Math.floor(Math.random()*n),t=a[n-=1],a[n]=a[r],a[r]=t;return e[0]===a[0]?bt(a):a}function ut(e,t){if(!e||!t)throw new Error("Slate editor and path are required");var r,a,n,c=Object(nt.a)(et.c.ancestors(e,t));try{for(c.s();!(n=c.n()).done;){var i=Object(x.a)(n.value,1)[0];"exercise-block"===i.type&&(r=i.showAnswers,a=i.checkExercise)}}catch(s){c.e(s)}finally{c.f()}return{showAnswers:r,checkExercise:a}}function ht(e,t){var r=e.split("/").map((function(e){return{word:e,id:Object(jt.a)(),isCorrect:!1}}));return t.shuffle?bt(r):r}var pt=r(229),xt=Object(pt.io)({autoConnect:!1}),Ot=Object(a.createContext)(xt),ft=function(e){var t=e.isCorrect,r=e.checkExercise,a=e.showAnswers;return!r||a?null:t?Object(m.jsx)(ot.a,{as:"span",children:Object(m.jsx)(W.b,{as:B.h,color:"green.400"})}):Object(m.jsx)(ot.a,{as:"span",children:Object(m.jsx)(W.b,{as:B.p,color:"red.400"})})},mt=function(e){var t=Object(a.useContext)(Ot),r=e.leaf,n=r.text,c=r.userAnswer,i=void 0===c?"":c,s=r.isCorrect,o=void 0!==s&&s,l=r.focused,d=void 0!==l&&l,j=r.user,b=Object(Me.g)(),u=Me.b.findPath(b,e.text),h=ut(b,u),p=h.showAnswers,x=h.checkExercise;function O(e){var r=e.event,a=e.focus;void 0===a||a?t.emit("action",{type:"input-focused",user:{username:t.auth.username,userID:t.id},path:u}):r.target.blur()}function f(e){var r,a=e.target.value;r={isAnswered:a.trim().length>0,isCorrect:g(a),userAnswer:a},t.emit("action",{type:"set-leaf-props",props:r,path:u}),et.h.setNodes(b,r,{at:u})}function g(e){return e.toLowerCase().trim()===n.toLowerCase().trim()}var v=p?n:i;return Object(m.jsxs)(lt.a,{w:"32",as:"span",display:"inline-block",position:"relative",children:[d?Object(m.jsx)(D.a,{label:Object(m.jsx)(gt,{user:j}),children:Object(m.jsx)(dt.a,{cursor:"not-allowed",variant:"filled",bg:"brand.200",transition:"all ease 300ms",_hover:{background:"var(--chakra-colors-brand-200)"},readOnly:x,value:v,onFocus:function(e){return O({event:e,focus:!1})},onChange:f})}):Object(m.jsx)(dt.a,{variant:"filled",readOnly:x,value:v,onFocus:O,onBlur:function(){t.emit("action",{type:"input-blured",path:u})},onChange:f}),Object(m.jsx)(ft,{isCorrect:o,checkExercise:x,showAnswers:p})]})},gt=function(e){return Object(m.jsxs)(L.a,{as:"span",children:[e.user.username," esta escribiendo ",Object(m.jsx)(vt,{})]})},vt=function(e){return Object(m.jsxs)(L.a,{as:"span",id:"wave",position:"relative",children:[Object(m.jsx)(L.a,{as:"span",className:"dot"}),Object(m.jsx)(L.a,{as:"span",className:"dot"}),Object(m.jsx)(L.a,{as:"span",className:"dot"})]})},yt=function(e){var t=Object(ne.a)(["print"]),r=Object(x.a)(t,1)[0],a=r?e.leaf.text+e.leaf.text:e.children;return Object(m.jsx)(De.a,Object(d.a)(Object(d.a)({as:"span",color:r?"transparent":"",borderRadius:"sm",px:"1",background:"brand.200"},e.attributes),{},{sx:{"@media print":{background:"none",borderBottom:"solid black 1px",color:"transparent"}},children:a}))},wt=function(e){var t=e.leaf,r=e.children,a=e.attributes,n=Object(Me.e)();return!0===t.missingWord?n?Object(m.jsx)(mt,Object(d.a)({},e)):Object(m.jsx)(yt,Object(d.a)({},e)):(t.division&&(r=Object(m.jsx)(L.a,{as:"span",fontWeight:"black",color:"brand.500",children:r})),t.bold&&(r=Object(m.jsx)("strong",{children:r})),t.italic&&(r=Object(m.jsx)("em",{children:r})),t.underline&&(r=Object(m.jsx)("u",{children:r})),t.strike&&(r=Object(m.jsx)("s",{children:r})),Object(m.jsx)("span",Object(d.a)(Object(d.a)({},a),{},{children:r})))},kt=function(e){var t=e.children,r=e.element,a=e.attributes,n=r.textAlign;return Object(m.jsx)(L.a,Object(d.a)(Object(d.a)({textAlign:n},a),{},{children:t}))},Ct=function(e){var t=e.attributes,r=e.children;return Object(m.jsx)("div",Object(d.a)(Object(d.a)({},t),{},{children:r}))},St=r(133),Et=function(e){var t=Object(Me.g)(),r=e.element,n=Me.b.findPath(t,r),c=ut(t,n),i=c.showAnswers,s=c.checkExercise,o=et.c.string(r),l=Object(a.useRef)(ht(o,{shuffle:!0})),j=r.userAnswers,b=void 0===j?l.current:j,u=ht(o,{shuffle:!1});return i?Object(m.jsx)(N.a,{flexWrap:"wrap",alignItems:"center",my:"4",p:"4",borderRadius:"base",border:"2px var(--chakra-colors-purple-600) solid",children:u.map((function(e){return Object(m.jsx)(At,Object(d.a)({},Object(d.a)(Object(d.a)({},e),{},{isCorrect:!0})),e.id)}))}):Object(m.jsx)(St.a,{onDragEnd:function(e){if(e.destination){var a=function(e,t,r){var a=Array.from(e),n=a.splice(t,1),c=Object(x.a)(n,1)[0];return a.splice(r,0,c),a}(b,e.source.index,e.destination.index),n=Me.b.findPath(t,r);et.h.setNodes(t,{userAnswers:Pt(a,u)},{at:n})}},children:Object(m.jsx)(St.c,{droppableId:"droppable",direction:"horizontal",children:function(e,t){return Object(m.jsxs)(N.a,Object(d.a)(Object(d.a)({flexWrap:"wrap",alignItems:"center",my:"4",p:"4",borderRadius:"base",border:"2px var(--chakra-colors-purple-600) solid",ref:e.innerRef},e.droppableProps),{},{className:"".concat(t.isDraggingOver&&"draggingOver"),children:[b.map((function(e,t){return Object(m.jsx)(zt,Object(d.a)({},Object(d.a)(Object(d.a)({},e),{},{index:t,checkExercise:s})),e.id)})),e.placeholder]}))}})})},At=function(e){return Object(m.jsx)(L.a,{m:"1",px:"2",py:"1",bg:e.isCorrect?"green.500":"yellow.300",color:e.isCorrect?"white":"black",borderRadius:"base",as:"span",fontWeight:"medium",transition:"all ease 300",cursor:"default",children:e.word})},zt=function(e){var t=e.id,r=e.word,a=e.index,n=e.checkExercise,c=e.isCorrect;function i(e){return e.isDragging?"purple.600":n?c?"green.300":"yellow.300":"purple.500"}return Object(m.jsx)(St.b,{draggableId:t,index:a,children:function(e,t){return Object(m.jsx)(L.a,Object(d.a)(Object(d.a)(Object(d.a)({userSelect:"none",m:"1",px:"2",py:"1",borderRadius:"base",as:"span",cursor:"move",fontWeight:"medium",color:n&&!c?"black":"white",transition:"all ease 300",bg:i(t),style:e.draggableProps.style,ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:r}))}},t)},It=function(e){var t=e.attributes,r=e.children;return Object(m.jsx)("div",Object(d.a)(Object(d.a)({},t),{},{children:r}))};function Pt(e,t){return e.map((function(e,r){return Object(d.a)(Object(d.a)({},e),{},{isCorrect:e.word===t[r].word})}))}var Lt=function(e){return Object(Me.e)()?Object(m.jsx)(Et,Object(d.a)({},e)):Object(m.jsx)(It,Object(d.a)({},e))};var Ft=function(e){var t=e.element,r=e.children,a=e.attributes,n=t.textAlign,c=t.type.split(" ")[1];return Object(m.jsx)(L.a,Object(d.a)(Object(d.a)({textAlign:n,fontSize:c},a),{},{children:r}))},Rt=r(431),Nt=r(441),qt=r(11);function Wt(e,t,r){if(!r)return!1;var a=et.a.nodes(r,{match:function(r){return r[e]===t}});return!!Object(x.a)(a,1)[0]}function Tt(e,t){if(!t)return!1;var r=et.a.marks(t);return!!r&&!0===r[e]}function Mt(e,t){if(t)return Tt(e,t)?et.a.removeMark(t,e):et.a.addMark(t,e,!0)}var Dt=function(e){var t=e.format,r=e.label,a=e.type,n=e.customOnClick,c=e.variant,i=e.icon,s=e.formatKey,o=Object(j.a)(e,["format","label","type","customOnClick","variant","icon","formatKey"]),l=Object(Me.g)();function b(){return"function"===typeof n?n.call():"mark"===a?Mt(t,l):function(e,t,r){var a=Wt(e,t,r);et.h.setNodes(r,Object(qt.a)({},e,a?null:t),{match:function(e){return et.a.isBlock(r,e)}})}(s,t,l)}function u(){return"mark"===a?Tt(t,l):Wt(s,t,l)}return"button"===c?Object(m.jsx)(D.a,{hasArrow:!0,label:r,fontSize:"md",children:Object(m.jsx)(q.a,Object(d.a)(Object(d.a)({size:"sm"},o),{},{color:u()?"brand.500":"#616161",background:u()?"brand.100":"",variant:"ghost",onClick:b,children:i}))}):Object(m.jsx)(ce.e,{color:u()?"brand.500":"",background:u()?"brand.100":"",onClick:b,icon:i,children:r})};Dt.defaultProps={customOnClick:void 0,variant:"button",formatKey:"type"};var Vt=Dt,Zt=function(e){var t=Object(Me.g)(),r=Me.b.findPath(t,e.element);return Object(m.jsxs)(M.a,{display:"flex",flexWrap:"wrap",spacing:["0","4"],justifyContent:"center",colorScheme:"purple",size:"sm",children:[Object(m.jsx)(q.a,{my:"2",variant:"solid",onClick:function(){et.h.setNodes(t,{checkExercise:!0},{at:r})},children:"Calificar respuestas"}),Object(m.jsx)(q.a,{my:"2",variant:"outline",onClick:function(){et.h.setNodes(t,{showAnswers:!0},{at:r})},children:"Ver respuestas"})]})},Ht=function(e){return Object(m.jsx)(a.Fragment,{children:Object(m.jsx)(Zt,Object(d.a)({},e))})},Bt=r(230),_t={"missing-word":"Palabras faltantes","word-order":"Ordenar oraciones"},Jt={"missing-word":Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(L.a,{my:"2",children:"Cada oraci\xf3n puede contener una o m\xfaltiple palabras faltantes."}),Object(m.jsxs)(L.a,{my:"2",children:["Para a\xf1adir una palabra faltante seleccione la palabra(s) y presione el boton de a\xf1adir palabra faltante. ",Object(m.jsx)(W.a,{color:"brand.500",w:"2.5em",as:ye})]}),Object(m.jsx)(L.a,{my:"2",children:"Cada palabra faltante lucir\xe1 con un fondo de color p\xfarpura."}),Object(m.jsx)(L.a,{my:"2",color:"brand.500",fontWeight:"semibold",children:"Ejemplo:"}),Object(m.jsx)(L.a,{my:"2",children:Object(m.jsx)("em",{children:"Escribiendo la siguiente oraci\xf3n"})}),Object(m.jsxs)(L.a,{my:"2",as:"samp",children:["Si quieres cambiar el ",Object(m.jsx)(L.a,{px:"2",as:"span",bg:"brand.200",borderRadius:"base",children:"mundo"}),", c\xe1mbiate a ti mismo."]}),Object(m.jsx)(L.a,{my:"2",children:Object(m.jsx)("em",{children:"Se creara el siguiente ejercicio :"})}),Object(m.jsxs)(N.a,{alignItems:"center",flexWrap:"wrap",children:["Si quieres cambiar el ",Object(m.jsx)(dt.a,{w:"24",bg:"gray.100"}),", c\xe1mbiate a ti mismo."]})]}),"word-order":Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)(L.a,{my:"2",children:["Cada oraci\xf3n tiene que ser dividida usando diagonales ",Object(m.jsx)(L.a,{as:"kbd",bg:"brand.100",children:"/"})]}),Object(m.jsx)(L.a,{my:"2",color:"brand.500",fontWeight:"semibold",children:"Ejemplo:"}),Object(m.jsx)(L.a,{my:"2",children:Object(m.jsx)("em",{children:"Escribiendo la siguiente oraci\xf3n"})}),Object(m.jsxs)(L.a,{my:"2",as:"samp",children:["Si quieres ",Object(m.jsx)(L.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"})," cambiar ",Object(m.jsx)(L.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"}),"el mundo, c\xe1mbiate",Object(m.jsx)(L.a,{as:"span",color:"brand.500",fontSize:"x-large",children:"/"})," a ti mismo."]}),Object(m.jsx)(L.a,{my:"2",children:Object(m.jsx)("em",{children:"Se creara el siguiente ejercicio :"})}),Object(m.jsx)(N.a,{flexWrap:"wrap",children:bt(["Si quieres","cambiar","el mundo, c\xe1mbiate","a ti mismo."]).map((function(e,t){return Object(m.jsx)(L.a,{as:"span",borderRadius:"base",m:"1",px:"1",py:"2",color:"white",bg:"brand.500",children:e},"".concat(e,"-").concat(t))}))})]})};var Gt=function(e){var t=Object(Me.g)();switch(e.exerciseType){case"missing-word":return Object(m.jsxs)(De.a,{w:"full",children:[Object(m.jsx)(Vt,{m:"2",colorScheme:"brand",type:"mark",customOnClick:function(){return function(e,t){et.f.isCollapsed(e.selection)?alert("Para crear una palabra faltante , seleciona primero la palabra"):Mt("missingWord",e)}(t)},format:"missingWord",label:"A\xf1adir Palabra faltante",icon:Object(m.jsx)(W.a,{width:"2.5em",as:ye})}),Object(m.jsx)(Be.a,{borderBottomWidth:"2px",opacity:"1"})]});case"word-order":default:return null}},Kt=function(e){var t=Object(Me.g)(),r=Object(Me.e)(),n=Object(Me.d)(),c=Object(Me.f)();function i(){if(n&&c){if(t.selection){if(et.f.isExpanded(t.selection)){var e=et.a.fragment(t,t.selection);return"missing-word"===Object(x.a)(e,1)[0].exerciseType}return!0}return!0}return!1}return r?Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(De.a,Object(d.a)(Object(d.a)({},e.attributes),{},{borderBottomRadius:"base",py:"4",children:e.children})),Object(m.jsx)(Ht,Object(d.a)({},e))]}):Object(m.jsxs)(De.a,Object(d.a)(Object(d.a)({borderRadius:"5px",border:"".concat(i()?"var(--chakra-colors-brand-100)":"transparent"," 1px solid")},e.attributes),{},{transition:"all ease 300ms",position:"relative",children:[Object(m.jsxs)(Rt.a,{in:i(),animateOpacity:!0,contentEditable:!1,children:[!r&&Object(m.jsxs)(De.a,{borderTopRadius:"base",w:["full","full","auto"],bg:"brand.400",px:"4",py:"2",color:"white",children:["Actividad: ",Object(m.jsxs)("b",{children:[" ",_t[e.element.exerciseType]," "]}),!!Jt[e.element.exerciseType]&&Object(m.jsxs)(Nt.a,{children:[Object(m.jsx)(Nt.f,{children:Object(m.jsx)(V.a,{variant:"ghost",colorScheme:"white",icon:Object(m.jsx)(W.a,{as:Bt.a})})}),Object(m.jsxs)(Nt.d,{children:[Object(m.jsx)(Nt.c,{}),Object(m.jsx)(Nt.e,{color:"black",children:"Ayuda"}),Object(m.jsx)(Nt.b,{color:"black",children:Jt[e.element.exerciseType]})]})]})]}),Object(m.jsx)(Gt,{isActive:i(),exerciseType:e.element.exerciseType})]}),Object(m.jsx)(De.a,{borderBottomRadius:"base",py:"4",px:i()&&"2",children:e.children})]}))},Ut=function(e){return Object(m.jsx)(De.a,Object(d.a)(Object(d.a)({},e.attributes),{},{children:e.children}))},Xt=function(){return[Object(a.useCallback)((function(e){return Object(m.jsx)(wt,Object(d.a)({},e))}),[]),Object(a.useCallback)((function(e){var t=e.element.type;if("heading"===(null===t||void 0===t?void 0:t.split(" ")[0]))return Object(m.jsx)(Ft,Object(d.a)({},e));switch(t){case"exercise-block":return Object(m.jsx)(Kt,Object(d.a)({},e));case"exercise-list-items":return Object(m.jsx)(Ut,Object(d.a)({},e));case"missing-word-exercise-paragraph":return Object(m.jsx)(Ct,Object(d.a)({},e));case"word-order-exercise-paragraph":return Object(m.jsx)(Lt,Object(d.a)({},e));default:return Object(m.jsx)(kt,Object(d.a)({},e))}}),[])]};function Yt(){var e=Le(),t=Object(a.useState)(e),r=Object(x.a)(t,2),n=r[0],c=r[1];function i(){c(Le())}return Object(a.useEffect)((function(){return document.addEventListener("fullscreenchange",i),function(){document.removeEventListener("fullscreenchange",i)}}),[]),n}function Qt(e,t){var r={type:"exercise-block",exerciseType:t.type,children:[{type:"exercise-list-items",children:[{type:"paragraph",children:[{text:""}]}]}]};if(e.selection){var a=et.c.fragment(e,e.selection);if("exercise-block"===Object(x.a)(a,1)[0].type)return void alert("No es posible crear un ejercicio dentro de otro ejercicio, selecciona una linea de texto vac\xeda fuera del cuadro de ejercicio")}et.h.insertNodes(e,r,{select:!0}),Me.b.focus(e)}function $t(e){document.body.style.zoom="100%",e.target.blur(),setTimeout((function(){window.print()}),500)}function er(){if(!Le()){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}function tr(){Le()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}var rr=function(e){var t=e.saveWorksheet,r=Object(Me.g)(),n=Yt();return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)(ce.a,{children:[Object(m.jsx)(ce.b,{children:"Actividad"}),Object(m.jsxs)(ce.f,{children:[Object(m.jsx)(ce.e,{onClick:t,icon:Object(m.jsx)(W.b,{as:J.a}),children:"Guardar Cambios"}),Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.b,{as:B.j}),children:"Publicar Actividad"}),Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.b,{as:B.n}),onClick:$t,children:"Imprimir Actividad"})]})]}),Object(m.jsxs)(ce.a,{children:[Object(m.jsx)(ce.b,{mx:"4",children:"Insertar"}),Object(m.jsx)(ce.f,{children:Object(m.jsxs)(ce.d,{title:"Ejercicios",children:[Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.b,{w:8,h:8,as:ye}),onClick:function(e){return Qt(r,{type:"missing-word"})},children:"Palabras Faltantes"}),Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.b,{w:8,h:8,as:Se}),onClick:function(e){return Qt(r,{type:"word-order"})},children:"Ordenar Oraciones"})]})})]}),Object(m.jsxs)(ce.a,{children:[Object(m.jsx)(ce.b,{mx:"4",children:"Ver"}),Object(m.jsx)(ce.f,{children:n?Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.b,{as:$e.b}),onClick:tr,children:"Vista normal"}):Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.b,{as:$e.a}),onClick:er,children:"Pantalla completa"})})]})]})},ar=function(){var e=Object(Me.g)(),t=Object(ne.a)("(min-width: 1024px)"),r=Object(x.a)(t,1)[0];return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)(ce.a,{children:[Object(m.jsxs)(ce.b,Object(d.a)(Object(d.a)({},r?"":Object(d.a)({},{borderRadius:"none",height:"full"})),{},{flex:"0 0 auto",display:"flex",as:q.a,size:"sm",colorScheme:"brand",variant:"solid",children:[Object(m.jsx)(W.b,{w:5,h:5,mr:"2",as:Y.d})," Insertar Ejercicio"]})),Object(m.jsxs)(ce.f,{children:[Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.b,{w:5,h:5,as:ye}),onClick:function(t){return Qt(e,{type:"missing-word"})},children:"Palabras faltantes"}),Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.b,{w:5,h:5,as:Se}),onClick:function(t){return Qt(e,{type:"word-order"})},children:"Ordernar oraciones"})]})]}),Object(m.jsxs)(ce.a,{children:[Object(m.jsx)(D.a,{hasArrow:!0,label:"Estilos de tipograf\xeda",fontSize:"md",children:Object(m.jsx)(ce.b,{as:q.a,"aria-label":"Estilos de tipograf\xeda",variant:"ghost",color:"#616161",size:"sm",children:Object(m.jsx)(W.b,{as:B.k})})}),Object(m.jsxs)(ce.f,{children:[Object(m.jsx)(Vt,{variant:"menuListItem",type:"block",format:"heading 4xl",label:Object(m.jsx)(L.a,{fontSize:"3xl",children:"T\xedtulo 1"})}),Object(m.jsx)(Vt,{variant:"menuListItem",type:"block",format:"heading 3xl",label:Object(m.jsx)(L.a,{fontSize:"2xl",children:"T\xedtulo 2"})}),Object(m.jsx)(Vt,{variant:"menuListItem",type:"block",format:"heading 2xl",label:Object(m.jsx)(L.a,{fontSize:"xl",children:"Subt\xedtulo 1"})}),Object(m.jsx)(Vt,{variant:"menuListItem",type:"block",format:"heading xl",label:Object(m.jsx)(L.a,{fontSize:"lg",children:"Subt\xedtulo 2"})}),Object(m.jsx)(Vt,{variant:"menuListItem",type:"block",format:"",label:Object(m.jsx)(L.a,{fontSize:"md",children:"Texto normal"})})]})]}),Object(m.jsx)(Vt,{type:"mark",format:"bold",label:"Negrita",icon:Object(m.jsx)(W.b,{as:B.f})}),Object(m.jsx)(Vt,{type:"mark",format:"italic",label:"Cursiva",icon:Object(m.jsx)(W.b,{as:B.m})}),Object(m.jsx)(Vt,{type:"mark",format:"underline",label:"Subrayado",icon:Object(m.jsx)(W.b,{as:B.q})}),Object(m.jsx)(Vt,{type:"mark",format:"strike",label:"Tachado",icon:Object(m.jsx)(W.b,{as:B.o})}),Object(m.jsx)(Vt,{type:"block",formatKey:"textAlign",format:"left",label:"Alinear a la izquierda",icon:Object(m.jsx)(W.b,{as:B.c})}),Object(m.jsx)(Vt,{type:"block",formatKey:"textAlign",format:"center",label:"Alinear al centro",icon:Object(m.jsx)(W.b,{as:B.a})}),Object(m.jsx)(Vt,{type:"block",formatKey:"textAlign",format:"right",label:"Alinear a la derecha",icon:Object(m.jsx)(W.b,{as:B.d})}),Object(m.jsx)(Vt,{type:"block",formatKey:"textAlign",format:"justify",label:"Justificar",icon:Object(m.jsx)(W.b,{as:B.b})})]})},nr="saving-worksheet",cr="toggle-writting-mode",ir="change-worksheet-prop",sr="set-worksheet",or="error";function lr(e,t){switch(t.type){case cr:return Object(d.a)(Object(d.a)({},e),{},{isWritingMode:!e.isWritingMode});case ir:if(!t.payload.property)throw new Error("'property' is required but got undefined");if("content"===t.payload.property&&!e.isWritingMode)return console.log("Cannot update activity state in preview mode"),e;var r=Object(d.a)({},e.worksheet);return r[t.payload.property]=t.payload.value,Object(d.a)(Object(d.a)({},e),{},{worksheet:r});case nr:return Object(d.a)(Object(d.a)({},e),{},{savingWorksheet:!0});case sr:return Object(d.a)(Object(d.a)({},e),{},{savingWorksheet:!1,loading:!1,worksheet:t.payload.worksheet,error:void 0});case or:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload.error});default:return console.warn("Action provided did not matched",t),e}}var dr={isWritingMode:!0,loading:!0,error:"",worksheet:void 0,savingWorksheet:!1};function jr(){if(!Le()){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}function br(){Le()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}var ur=function(){var e,t,r=Object(b.g)(),n=Object(A.a)(),c=Object(b.h)().id,i=st(),s=Xt(),o=Object(x.a)(s,2),l=o[0],d=o[1],j=function(e){return Object(a.useCallback)((function(t){var r=Object(x.a)(t,2),a=r[0],n=r[1],c=[];if(et.g.isText(a)){var i=et.c.parent(e,n);if(console.log(i),"word-order-exercise-paragraph"===i.type){var s=a.text.split("/"),o=0;s.forEach((function(e,t){0!==t&&c.push({anchor:{path:n,offset:o-1},focus:{path:n,offset:o},division:!0}),o=o+e.length+1}))}}return c}),[e])}(i),u=Object(a.useReducer)(lr,dr),O=Object(x.a)(u,2),f=O[0],g=O[1],v=f.worksheet,y=f.loading,w=f.error,k=f.isWritingMode,C=f.savingWorksheet,S=Yt();function E(){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.loading){e.next=2;break}return e.abrupt("return",console.log("Cannot save changes when page is loading"));case 2:return g({type:nr}),e.next=5,fetch("/api/activities/".concat(c),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Re(v))});case 5:return t=e.sent,e.next=8,t.json();case 8:if(r=e.sent,!t.ok){e.next=13;break}return g({type:sr,payload:{worksheet:Ne(r)}}),n({position:H?"top-right":"bottom",title:"Actividad Guardada",description:"La actividad fue guardada exit\xf3samente",status:"success",duration:5e3,isClosable:!0}),e.abrupt("return");case 13:g({type:or,payload:{error:r}});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){document.body.style.zoom="100%",e.target.blur(),setTimeout((function(){window.print()}),500)}Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/activities/".concat(c));case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,404!==t.status){e.next=9;break}return r.push("/worksheets/404"),e.abrupt("return");case 9:if(!t.ok){e.next=12;break}return g({type:sr,payload:{worksheet:Ne(a)}}),e.abrupt("return");case 12:n({description:a.message,status:"error",isClosable:!0});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c,n,r]);var T=(null===f||void 0===f||null===(e=f.worksheet)||void 0===e?void 0:e.title)?"LangSheets | ".concat(null===f||void 0===f||null===(t=f.worksheet)||void 0===t?void 0:t.title):"LangSheets";Pe(T);var D=window.location.host,Z=Object(ne.a)("(min-width: 1024px)"),H=Object(x.a)(Z,1)[0];return Object(m.jsxs)(Me.c,{editor:i,value:y?[{children:[{text:"Cargando..."}]}]:w?[{children:[{text:""}]}]:v.content,onChange:function(e){return g({type:ir,payload:{property:"content",value:e}})},children:[H?Object(m.jsxs)(F.a,{h:"100vh",templateColumns:"repeat(12, 1fr)",templateRows:"auto 1fr",children:[Object(m.jsx)(F.b,{rowSpan:2,colSpan:1,bg:"#05043E",py:"10",position:"sticky",top:"0",zIndex:"docked",sx:{"@media print":{display:"none"}},children:Object(m.jsx)(Ve,{handlePrint:P,id:c})}),Object(m.jsxs)(F.b,{rowSpan:1,colSpan:11,sx:{"@media print":{display:"none"}},children:[y&&Object(m.jsx)(z.a,{size:"sm",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),Object(m.jsxs)(F.a,{gridTemplateRows:"auto auto auto",gridTemplateColumns:"50px 1fr auto",h:"full",bg:"white",children:[Object(m.jsx)(F.b,{rowSpan:"1",colSpan:"1",display:"grid",placeItems:"center",children:Object(m.jsx)(De.a,{as:"a",href:"/",mx:"4",children:Object(m.jsx)(W.a,{as:B.e})})}),Object(m.jsx)(F.b,{rowSpan:"1",display:"flex",flexDirection:"row",alignItems:"center",pt:"2",children:Object(m.jsx)(R.a,{isLoaded:!y,children:Object(m.jsx)(He,{dispatch:g,title:v?v.title:""})})}),Object(m.jsx)(F.b,{display:"flex",alignItems:"center",px:"4",colStart:3,rowSpan:2,children:Object(m.jsxs)(M.a,{children:[Object(m.jsxs)(q.a,{isLoading:C,onClick:E,colorScheme:"brand",variant:"ghost",children:[Object(m.jsx)(W.a,{as:J.a,mr:"2"}),"Guardar Cambios"]}),Object(m.jsxs)(q.a,{colorScheme:"brand",children:[Object(m.jsx)(W.a,{as:B.j,mr:"2"}),"Publicar"]})]})}),Object(m.jsx)(F.b,{py:"2",colStart:2,rowSpan:"1",display:"inline-flex",alignItems:"center",children:Object(m.jsx)(rr,{saveWorksheet:E})}),Object(m.jsx)(F.b,{py:"2",px:"5",colSpan:3,width:"full",borderTop:"2px solid var(--chakra-colors-gray-100)",children:Object(m.jsx)(M.a,{as:N.a,alignItems:"center",children:Object(m.jsx)(ar,{})})})]})]}),Object(m.jsx)(F.b,{rowSpan:1,colSpan:8,p:"12",bg:"gray.100",sx:{"@media print":{gridColumn:"span 12/span 12",gridRow:"span 2/span 2"}},children:Object(m.jsx)(R.a,{isLoaded:!y,children:Object(m.jsx)(Ge,{decorate:j,renderElement:d,renderLeaf:l,readOnly:!k,placeholder:"Escribe aqu\xed..."})})}),Object(m.jsxs)(F.b,{rowSpan:1,colSpan:3,sx:{"@media print":{display:"none"}},children:[Object(m.jsx)(Be.a,{}),Object(m.jsxs)(De.a,{p:"4",children:[Object(m.jsx)(L.a,{fontWeight:"semibold",fontSize:"lg",children:"Detalles de la actividad"}),!y&&!w&&Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(Xe,{dispatch:g,lang:v.lang}),Object(m.jsx)(Qe,{dispatch:g,isPublic:v.isPublic})]})]}),Object(m.jsx)(Be.a,{}),Object(m.jsxs)(De.a,{p:"4",children:[Object(m.jsx)(L.a,{fontWeight:"semibold",fontSize:"lg",children:"Ajustes"}),Object(m.jsxs)(L.a,{my:"2",children:["Modo de edici\xf3n: ",Object(m.jsx)(_e.a,{colorScheme:"brand",ml:"4",isChecked:k,onChange:function(){return g({type:"toggle-writting-mode"})}})]})]})]})]}):Object(m.jsxs)(N.a,{flexDir:"column",minH:"100vh",children:[y&&Object(m.jsx)(z.a,{size:"sm",isIndeterminate:!0,sx:{"& > div":{background:"var(--chakra-colors-brand-300)"}}}),Object(m.jsxs)(N.a,{py:"2",px:"4",alignItems:"center",children:[Object(m.jsx)(De.a,{flexGrow:"1",children:Object(m.jsx)(R.a,{isLoaded:!y,children:Object(m.jsx)(He,{dispatch:g,title:v?v.title:""})})}),Object(m.jsxs)(ce.a,{children:[Object(m.jsx)(ce.b,{variant:"ghost",colorScheme:"brand",icon:Object(m.jsx)(W.a,{as:Y.b}),as:V.a}),Object(m.jsxs)(ce.f,{children:[Object(m.jsxs)(ce.d,{title:"Actividad",children:[Object(m.jsx)(ce.e,{onClick:E,icon:Object(m.jsx)(W.a,{color:"brand.500",as:J.a}),children:"Guardar Cambios"}),Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.a,{color:"brand.500",as:B.j}),children:"Publicar Actividad"})]}),Object(m.jsx)(ce.c,{}),Object(m.jsx)(ce.d,{title:"Ver",children:S?Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.a,{as:$e.b}),onClick:br,children:"Vista normal"}):Object(m.jsx)(ce.e,{icon:Object(m.jsx)(W.a,{as:$e.a}),onClick:jr,children:"Pantalla completa"})})]})]})]}),Object(m.jsx)(Be.a,{}),Object(m.jsx)(De.a,{flexGrow:"1",bg:"gray.100",p:"4",boxShadow:"base",children:Object(m.jsx)(R.a,{height:"full",isLoaded:!y,children:Object(m.jsx)(Ge,{decorate:j,renderElement:d,renderLeaf:l,readOnly:!k,placeholder:"Escribe aqu\xed..."})})}),i.selection&&Object(m.jsx)(Je.a,{direction:"bottom",in:i.selection,style:{zIndex:50,boxShadow:"var(--chakra-shadows-dark-lg)"},children:Object(m.jsxs)(N.a,{pr:"30vw",w:"100vw",color:"#616161",bg:"white",alignItems:"center",height:"50px",children:[Object(m.jsx)(N.a,{width:"full",height:"full",overflowX:"auto",alignItems:"center",children:Object(m.jsx)(ar,{})}),Object(m.jsxs)(N.a,{height:"full",position:"fixed",bottom:"0",right:"0",alignItems:"center",children:[Object(m.jsx)(Be.a,{orientation:"vertical"}),Object(m.jsx)(V.a,{bg:"white",borderRadius:"none",height:"full",onClick:function(){et.h.deselect(i)},variant:"ghost",colorScheme:"brand",icon:Object(m.jsx)(W.a,{as:_.b})}),Object(m.jsx)(Be.a,{orientation:"vertical"}),Object(m.jsx)(V.a,{variant:"ghost",borderRadius:"none",height:"full",colorScheme:"brand",icon:Object(m.jsx)(W.a,{as:B.i})})]})]})}),!i.selection&&Object(m.jsx)(Je.a,{direction:"bottom",in:!i.selection,style:{zIndex:150},children:Object(m.jsxs)(De.a,{color:"white",display:"flex",bg:"#05043E",alignItems:"center",width:"100%",justifyContent:"space-around",children:[Object(m.jsxs)(N.a,{onClick:P,flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(m.jsx)(W.a,{w:6,h:6,as:B.n}),Object(m.jsx)(L.a,{fontSize:"x-small",children:"Imprimir"})]}),Object(m.jsxs)(N.a,{flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(m.jsx)(W.a,{w:6,h:6,as:B.l}),Object(m.jsx)(L.a,{fontSize:"x-small",children:"Inicio"})]}),Object(m.jsxs)(N.a,{flexDir:"column",alignItems:"center",justifyContent:"center",cursor:"pointer","aria-label":"button",py:"2",_hover:{color:"var(--chakra-colors-brand-300)"},children:[Object(m.jsx)(W.a,{w:6,h:6,as:B.g}),Object(m.jsx)(L.a,{fontSize:"x-small",children:"Previsualizar"})]})]})})]}),Object(m.jsxs)(De.a,{display:"none",flexDirection:"column",alignItems:"flex-start",position:"fixed",zIndex:"banner",bottom:"0.5",width:"full",sx:{"@media print":{display:"flex"}},children:[Object(m.jsx)(W.a,{as:Ee}),Object(m.jsxs)(L.a,{fontSize:"smaller",children:[" ",D,"/worksheets/",c,"/practice "]})]})]})},hr=r(433),pr=r(449),xr=function(){var e=k().user;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)(De.a,{mx:"auto",width:"container.xl",children:[Object(m.jsxs)(N.a,{justifyContent:"space-between",alignItems:"center",py:"5",children:[Object(m.jsx)(Ee,{}),e?Object(m.jsx)(q.a,{as:"a",href:"/dashboard",colorScheme:"brand",variant:"solid",children:"Mis actividades"}):Object(m.jsxs)(M.a,{spacing:"5",children:[Object(m.jsx)(q.a,{as:"a",href:"/login",colorScheme:"brand",variant:"outline",children:"Iniciar Sesi\xf3n"}),Object(m.jsx)(q.a,{as:"a",href:"/signup",variant:"solid",colorScheme:"brand",children:"Crear Cuenta"})]})]}),Object(m.jsxs)(N.a,{flexDirection:["column","row"],alignItems:"center",my:"5",children:[Object(m.jsxs)(De.a,{w:"40%",children:[Object(m.jsxs)(L.a,{lineHeight:"8",textAlign:["center","left"],children:[Object(m.jsx)(L.a,{as:"span",fontWeight:"bold",fontSize:"xxx-large",children:"Actividades digitales"})," ",Object(m.jsx)(L.a,{as:"span",color:"brand.300",fontWeight:"bold",fontSize:"xxx-large",children:"Interactivas"})]}),Object(m.jsx)(L.a,{fontSize:"x-large",children:"para entornos virtuales de aprendizaje."}),e?Object(m.jsx)(q.a,{my:"5",size:"lg",as:"a",href:"/dashboard",colorScheme:"brand",variant:"solid",children:"Mis actividades"}):Object(m.jsx)(q.a,{my:"5",size:"lg",as:"a",href:"/signup",variant:"solid",colorScheme:"brand",children:"Pru\xe9balo gratis"})]}),Object(m.jsx)(hr.a,{w:"60%",objectFit:"cover",src:"/hero.svg"})]})]}),Object(m.jsx)(N.a,{my:"5",p:"10",w:"full",position:"relative",alignItems:"center",children:Object(m.jsxs)(De.a,{mt:"80",mx:"auto",width:"container.xl",children:[Object(m.jsxs)(De.a,{w:"40%",children:[Object(m.jsx)(L.a,{color:"brand.300",fontWeight:"bold",fontSize:"xx-large",my:"10",children:"\xbfC\xf3mo funciona?"}),Object(m.jsxs)(pr.a,{spacing:"5",children:[Object(m.jsxs)(N.a,{children:[Object(m.jsx)(De.b,{fontSize:"x-large",fontWeight:"bold",size:"50px",bg:"brand.300",color:"white",children:"1"}),Object(m.jsxs)(De.a,{ml:"5",children:[Object(m.jsx)(L.a,{fontSize:"x-large",fontWeight:"bold",children:"Crea una actividad"}),Object(m.jsx)(L.a,{children:"Elige una plantilla o comienza una actividad desde cero. Inserta el contenido que necesites (im\xe1genes, videos etc.)"})]})]}),Object(m.jsxs)(N.a,{children:[Object(m.jsx)(De.b,{fontSize:"x-large",fontWeight:"bold",size:"50px",bg:"brand.300",color:"white",children:"2"}),Object(m.jsxs)(De.a,{ml:"5",children:[Object(m.jsx)(L.a,{fontSize:"x-large",fontWeight:"bold",children:"Publica tu actividad"}),Object(m.jsx)(L.a,{children:"Cambia el estado de tu actividad de borrador a publicado en un solo click."})]})]}),Object(m.jsxs)(N.a,{children:[Object(m.jsx)(De.b,{fontSize:"x-large",fontWeight:"bold",size:"50px",bg:"brand.300",color:"white",children:"2"}),Object(m.jsxs)(De.a,{ml:"5",children:[Object(m.jsx)(L.a,{fontSize:"x-large",fontWeight:"bold",children:"Comparte el link de tu actividad"}),Object(m.jsx)(L.a,{children:"Por cada actividad creada un link \xfanico ser\xe1 generado para que los alumnos puedan realizar las actividades en tiempo real."})]})]})]})]}),Object(m.jsx)(hr.a,{position:"absolute",top:"0.5",right:"0.5",src:"/figurebg.svg"}),Object(m.jsx)(hr.a,{position:"absolute",right:"425px",top:"310px",title:"Crea una actividad",src:"/figure1.svg"}),Object(m.jsx)(hr.a,{position:"absolute",right:"400px",top:"700px",title:"Comparte una actividad",src:"/figure2.svg"}),Object(m.jsx)(hr.a,{position:"absolute",right:"103px",top:"470px",title:"Publica una actividad",src:"/figure3.svg"})]})})]})},Or=r(434),fr=r(231),mr={users:[],username:void 0,worksheet:{title:"",content:[{type:"paragraph",children:[{text:""}]}]}};function gr(e,t){switch(console.log("> Practice reducer: ".concat(t.type)),t.type){case"set-username":return Object(d.a)(Object(d.a)({},e),{},{username:t.payload.username});case"set-worksheet":return Object(d.a)(Object(d.a)({},e),{},{worksheet:t.payload.worksheet});case"set-worksheet-content":return Object(d.a)(Object(d.a)({},e),{},{worksheet:Object(d.a)(Object(d.a)({},e.worksheet),{},{content:t.payload.content})});case"add-user":return Object(d.a)(Object(d.a)({},e),{},{users:[].concat(Object(E.a)(e.users),[t.payload.user])});case"set-users":return Object(d.a)(Object(d.a)({},e),{},{users:t.payload.users});default:return console.warn("Action provided did not matched",t),e}}var vr=function(e){var t=e.users;return Object(m.jsx)(Or.a,{size:"sm",max:3,children:t.map((function(e){var t=e.username,r=e.userID;return Object(m.jsx)(fr.a,{bg:"brand.500",color:"white",name:t,src:Object(m.jsx)(B.r,{}),title:t},r)}))})},yr=function(e){var t=e.dispatch,r=Object(A.a)(),n=Object(a.useRef)();function c(){var e=n.current.value;""===e.trim()?r({description:"Debes elegir un nombre v\xe1lido",status:"warning",duration:8e3,position:"top-right",isClosable:!0}):t({type:"set-username",payload:{username:e}})}return Object(m.jsx)(N.a,{bg:"gray.100",h:"100vh",alignItems:"center",justifyContent:"center",children:Object(m.jsxs)(N.a,{flexDir:"column",bg:"white",px:"10",py:"5",boxShadow:"base",borderRadius:"base",alignItems:"center",justifyContent:"center",children:[Object(m.jsx)(L.a,{fontSize:"x-large",my:"4",children:"Ingresa tu nombre"}),Object(m.jsx)(dt.a,{onSubmit:c,size:"lg",ref:n,variant:"filled",my:"4",placeholder:"Escribe un nombre"}),Object(m.jsx)(q.a,{variant:"solid",colorScheme:"brand",my:"4",onClick:c,children:"Aceptar"})]})})},wr=function(){var e=Object(b.h)().id,t=st(),r=Xt(),n=Object(x.a)(r,2),c=n[0],i=n[1],s=Object(a.useReducer)(gr,mr),o=Object(x.a)(s,2),l=o[0],u=o[1],O=l.username,f=l.users,g=l.worksheet,v=Object(A.a)();return Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(h.a.mark((function t(){var r,a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/activities/".concat(e));case 2:return r=t.sent,t.next=5,r.json();case 5:a=t.sent,r.ok&&(n=Ne(a),u({type:"set-worksheet",payload:{worksheet:n}}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(a.useEffect)((function(){O&&(xt.auth={username:O},xt.connect(),xt.emit("join-room",e))}),[e,O]),Object(a.useEffect)((function(){return xt.on("users",(function(e){u({type:"set-users",payload:{users:e}})})),xt.on("user-connected",(function(e){v({description:"".concat(e.username," ha ingresado a la actividad."),status:"info",duration:3e3,position:"top-right",isClosable:!0}),u({type:"add-user",payload:{user:e}})})),xt.on("send-updated-content",(function(e){xt.emit("send-updated-content",e,g.content)})),xt.on("user-disconnected",(function(e){var t=e.username,r=e.users;v({description:"".concat(t," se ha salido de la actividad."),status:"info",duration:3e3,position:"top-right",isClosable:!0}),u({type:"set-users",payload:{users:r}})})),xt.on("action",(function(e){if(0!==t.children.length){var r=e.path,a=Object(j.a)(e,["path"]);switch(a.type){case"update-content":console.log(a.content),u({type:"set-worksheet-content",payload:{content:a.content}});break;case"set-leaf-props":et.h.setNodes(t,Object(d.a)({},a.props),{at:r});break;case"input-focused":et.h.setNodes(t,{focused:!0,user:a.user},{at:r});break;case"input-blured":et.h.setNodes(t,{focused:!1},{at:r})}}})),xt.on("connection_error",(function(t){switch(t.message){case"invalid username":v({description:"Debes elegir un nombre v\xe1lido",status:"warning",duration:8e3,position:"top-right",isClosable:!0});break;case"invalid room":xt.emit("join-room",e)}})),function(){xt.offAny(),xt.off("send-updated-content"),xt.off("users"),xt.off("user-connected"),xt.off("user-disconnected"),xt.off("action"),xt.off("connection_error")}}),[e,g,t,v]),ae("var(--chakra-colors-gray-100)"),Pe("LangSheets | ".concat(g.title)),O?Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)(N.a,{py:"2",children:[Object(m.jsx)(L.a,{flexGrow:"1",color:"brand.600",px:"4",fontSize:"x-large",fontWeight:"bold",children:g.title}),Object(m.jsx)(N.a,{justifyContent:"flex-end",alignItems:"center",px:"4",children:Object(m.jsx)(vr,{users:f})})]}),Object(m.jsx)(De.a,{children:Object(m.jsx)(P.a,{maxWidth:"container.lg",my:"4",children:Object(m.jsx)(Ot.Provider,{value:xt,children:Object(m.jsx)(Me.c,{editor:t,value:g.content,onChange:function(e){return u({type:"set-worksheet-content",payload:{content:e}})},children:Object(m.jsx)(De.a,{background:"white",px:["8","16"],py:"16",as:Me.a,shadow:"sm",renderElement:i,renderLeaf:c,readOnly:!0})})})})})]}):Object(m.jsx)(yr,{dispatch:u})},kr=function(){return Pe("P\xe1gina no encontrada"),Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(ze,{}),Object(m.jsxs)(N.a,{alignItems:"center",flexDirection:"column",justifyContent:"center",textAlign:"center",height:"100vh",children:[Object(m.jsx)(L.a,{fontSize:"6xl",children:"404"}),Object(m.jsx)(L.a,{fontSize:"4xl",children:"Page not founded"})]})]})},Cr=r(104),Sr=r(435),Er={name:"",lastName:"",email:"",password:"",password2:"",error:void 0},Ar=function(){var e=k(),t=e.login,r=e.signUp,n=e.loading,c=Object(b.g)(),i=Object(a.useState)(Er),s=Object(x.a)(i,2),o=s[0],l=s[1],j=o.name,u=o.lastName,O=o.email,f=o.password,g=o.password2,v=o.error;function y(e,t){var r=Object(d.a)({},o);r[e]=t,l(r)}function w(){return(w=Object(p.a)(h.a.mark((function e(a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o.password===o.password2){e.next=7;break}return(n=Object(d.a)({},o)).password2="",n.error="Las contrase\xf1as no coinciden",l(n),e.abrupt("return");case 7:return e.next=9,r(o.name,o.lastName,o.email,o.password);case 9:return e.next=11,t(o.email,o.password);case 11:c.push("/dashboard");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)(F.a,{h:"100vh",placeItems:"center",templateColumns:["1fr","repeat(2, 1fr)"],w:"100vw",children:[Object(m.jsxs)(De.a,{children:[Object(m.jsx)(hr.a,{src:"/Online_collaboration.png"}),Object(m.jsx)(L.a,{px:"4",textAlign:"center",fontSize:"x-large",fontWeight:"semibold",color:"brand.700",children:"Lleva la interacci\xf3n de tus clases al siguiente nivel"})]}),Object(m.jsx)(De.a,{w:"md",textAlign:"center",px:"10",children:Object(m.jsx)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:Object(m.jsxs)(pr.a,{spacing:"4",children:[Object(m.jsx)(Ee,{}),Object(m.jsxs)(Cr.a,{isRequired:!0,mr:"4",children:[Object(m.jsx)(Sr.a,{children:"Nombre (s)"}),Object(m.jsx)(dt.a,{autoFocus:!0,value:j,onChange:function(e){return y("name",e.target.value)},placeholder:"Armando"})]}),Object(m.jsxs)(Cr.a,{isRequired:!0,children:[Object(m.jsx)(Sr.a,{children:"Apellido (s)"}),Object(m.jsx)(dt.a,{value:u,onChange:function(e){return y("lastName",e.target.value)},placeholder:"S\xe1nchez"})]}),Object(m.jsxs)(Cr.a,{isRequired:!0,children:[Object(m.jsx)(Sr.a,{children:"Correo"}),Object(m.jsx)(dt.a,{value:O,onChange:function(e){return y("email",e.target.value)},placeholder:"email@provider.com"})]}),Object(m.jsxs)(Cr.a,{isRequired:!0,children:[Object(m.jsx)(Sr.a,{children:"Contrase\xf1a"}),Object(m.jsx)(dt.a,{value:f,onChange:function(e){return y("password",e.target.value)},type:"password"})]}),Object(m.jsxs)(Cr.a,{isRequired:!0,children:[Object(m.jsx)(Sr.a,{children:"Confirma tu contrase\xf1a"}),Object(m.jsx)(dt.a,{value:g,onChange:function(e){return y("password2",e.target.value)},type:"password"})]}),v&&Object(m.jsxs)(I.a,{status:"error",children:[Object(m.jsx)(I.c,{}),v]}),Object(m.jsx)(q.a,{isLoading:n,type:"submit",colorScheme:"brand",variant:"solid",children:"Crear Cuenta"}),Object(m.jsxs)(L.a,{textAlign:"center",children:["\xbfYa tienes una cuenta? Inicia sesi\xf3n ",Object(m.jsx)(L.a,{color:"brand",textDecoration:"underline",as:"a",href:"/login",children:" aqu\xed "})]})]})})})]})},zr={email:"",password:""};var Ir=function(){var e=Object(b.g)(),t=Object(a.useState)(zr),r=Object(x.a)(t,2),n=r[0],c=r[1],i=n.email,s=n.password,o=k(),l=o.login,j=o.loading,u=o.error;function O(e,t){var r=Object(d.a)({},n);r[e]=t,c(r)}function f(){return(f=Object(p.a)(h.a.mark((function t(r){var a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,l(n.email,n.password);case 3:a=t.sent,c=Object(x.a)(a,1),c[0]&&e.push("/dashboard");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(m.jsx)(De.a,{as:"form",bg:"gray.100",onSubmit:function(e){return f.apply(this,arguments)},display:"flex",alignItems:"center",justifyContent:"center",h:"100vh",flexDirection:"column",children:Object(m.jsxs)(pr.a,{spacing:"8",bg:"white",shadow:"base",w:["80vw","50vw","40vw"],p:["8","10"],children:[Object(m.jsx)(Ee,{}),Object(m.jsxs)(Cr.a,{isRequired:!0,children:[Object(m.jsx)(Sr.a,{children:"Correo"}),Object(m.jsx)(dt.a,{autoFocus:!0,value:i,onChange:function(e){return O("email",e.target.value)},placeholder:"email@provider.com"})]}),Object(m.jsxs)(Cr.a,{isRequired:!0,children:[Object(m.jsx)(Sr.a,{children:"Contrase\xf1a"}),Object(m.jsx)(dt.a,{value:s,onChange:function(e){return O("password",e.target.value)},placeholder:"password",type:"password"})]}),u&&Object(m.jsxs)(I.a,{status:"error",children:[Object(m.jsx)(I.c,{}),u.message]}),Object(m.jsx)(q.a,{isLoading:j,type:"submit",colorScheme:"brand",variant:"solid",children:"Iniciar Sesi\xf3n"}),Object(m.jsxs)(L.a,{textAlign:"center",children:["\xbfAun no tienes una cuenta? Crea tu cuenta ",Object(m.jsx)(L.a,{color:"brand",textDecoration:"underline",as:"a",href:"/signUp",children:" aqu\xed "})]})]})})};var Pr=function(){return!k().loading&&Object(m.jsx)(l.a,{theme:o,children:Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(S.a,{children:Object(m.jsxs)(b.d,{children:[Object(m.jsx)(b.b,{exact:!0,path:"/",component:xr}),Object(m.jsx)(C,{path:"/dashboard",type:"user",redirectTo:"/login",component:Te}),Object(m.jsx)(b.b,{path:"/login",component:Ir}),Object(m.jsx)(b.b,{path:"/signup",component:Ar}),Object(m.jsx)(C,{path:"/worksheets/:id/edit",type:"user",redirectTo:"/login",component:ur}),Object(m.jsx)(b.b,{path:"/worksheets/:id/practice",component:wr}),Object(m.jsx)(b.b,{path:"*",component:kr})]})})})})},Lr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,450)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),c(e),i(e)}))};i.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(w,{children:Object(m.jsx)(Pr,{})})}),document.getElementById("root")),Lr()}},[[392,1,2]]]);
//# sourceMappingURL=main.9ad6385d.chunk.js.map